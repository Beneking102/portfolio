var fp=Object.defineProperty;var pp=(t,e,n)=>e in t?fp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var jr=(t,e,n)=>pp(t,typeof e!="symbol"?e+"":e,n);import{c as Vh,r as R,g as mp,R as ma,j as V,a as tn,b as zi,L as gp,d as yp}from"./index-BbIAd_ch.js";import{E as vp}from"./external-link-CUBqLpj4.js";import{A as _p}from"./aos-D5FLNm5J.js";import{C as bp,A as Ep}from"./code-9NWOyHUt.js";/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tp=Vh("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=Vh("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]);var Rc={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Sp=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],l=t[n++],h=((i&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},Oh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,l=a?t[i+1]:0,h=i+2<t.length,f=h?t[i+2]:0,p=s>>2,y=(s&3)<<4|l>>4;let T=(l&15)<<2|f>>6,S=f&63;h||(S=64,a||(T=64)),r.push(n[p],n[y],n[T],n[S])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Mh(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Sp(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const y=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||f==null||y==null)throw new Cp;const T=s<<2|l>>4;if(r.push(T),f!==64){const S=l<<4&240|f>>2;if(r.push(S),y!==64){const C=f<<6&192|y;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Cp extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ip=function(t){const e=Mh(t);return Oh.encodeByteArray(e,!0)},fs=function(t){return Ip(t).replace(/\./g,"")},Ap=function(t){try{return Oh.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xp(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp=()=>xp().__FIREBASE_DEFAULTS__,Pp=()=>{if(typeof process>"u"||typeof Rc>"u")return;const t=Rc.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},kp=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ap(t[1]);return e&&JSON.parse(e)},Ga=()=>{try{return Rp()||Pp()||kp()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Dp=t=>{var e,n;return(n=(e=Ga())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Np=t=>{const e=Dp(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Lh=()=>{var t;return(t=Ga())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[fs(JSON.stringify(n)),fs(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Op(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Lp(){var t;const e=(t=Ga())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Bp(){return!Lp()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Fp(){try{return typeof indexedDB=="object"}catch{return!1}}function $p(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp="FirebaseError";class wr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=jp,Object.setPrototypeOf(this,wr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bh.prototype.create)}}class Bh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?Up(s,r):"Error",l=`${this.serviceName}: ${a} (${i}).`;return new wr(i,l,r)}}function Up(t,e){return t.replace(zp,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const zp=/\{\$([^}]+)}/g;function ga(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(Pc(s)&&Pc(a)){if(!ga(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Pc(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(t){return t&&t._delegate?t._delegate:t}class ai{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Vp;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Kp(e))try{this.getOrInitializeService({instanceIdentifier:kn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=kn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=kn){return this.instances.has(e)}getOptions(e=kn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Hp(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=kn){return this.component?this.component.multipleInstances?e:kn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Hp(t){return t===kn?void 0:t}function Kp(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Wp(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var re;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(re||(re={}));const Qp={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},Xp=re.INFO,Yp={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},Jp=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Yp[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fh{constructor(e){this.name=e,this._logLevel=Xp,this._logHandler=Jp,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Qp[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...e),this._logHandler(this,re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...e),this._logHandler(this,re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,re.INFO,...e),this._logHandler(this,re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,re.WARN,...e),this._logHandler(this,re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...e),this._logHandler(this,re.ERROR,...e)}}const Zp=(t,e)=>e.some(n=>t instanceof n);let kc,Dc;function em(){return kc||(kc=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tm(){return Dc||(Dc=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $h=new WeakMap,ya=new WeakMap,jh=new WeakMap,Bo=new WeakMap,Qa=new WeakMap;function nm(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(gn(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&$h.set(n,t)}).catch(()=>{}),Qa.set(e,t),e}function rm(t){if(ya.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});ya.set(t,e)}let va={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ya.get(t);if(e==="objectStoreNames")return t.objectStoreNames||jh.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function im(t){va=t(va)}function sm(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Fo(this),e,...n);return jh.set(r,e.sort?e.sort():[e]),gn(r)}:tm().includes(t)?function(...e){return t.apply(Fo(this),e),gn($h.get(this))}:function(...e){return gn(t.apply(Fo(this),e))}}function om(t){return typeof t=="function"?sm(t):(t instanceof IDBTransaction&&rm(t),Zp(t,em())?new Proxy(t,va):t)}function gn(t){if(t instanceof IDBRequest)return nm(t);if(Bo.has(t))return Bo.get(t);const e=om(t);return e!==t&&(Bo.set(t,e),Qa.set(e,t)),e}const Fo=t=>Qa.get(t);function am(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),l=gn(a);return r&&a.addEventListener("upgradeneeded",h=>{r(gn(a.result),h.oldVersion,h.newVersion,gn(a.transaction),h)}),n&&a.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),l.then(h=>{s&&h.addEventListener("close",()=>s()),i&&h.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),l}const lm=["get","getKey","getAll","getAllKeys","count"],cm=["put","add","delete","clear"],$o=new Map;function Nc(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if($o.get(e))return $o.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=cm.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||lm.includes(n)))return;const s=async function(a,...l){const h=this.transaction(a,i?"readwrite":"readonly");let f=h.store;return r&&(f=f.index(l.shift())),(await Promise.all([f[n](...l),i&&h.done]))[0]};return $o.set(e,s),s}im(t=>({...t,get:(e,n,r)=>Nc(e,n)||t.get(e,n,r),has:(e,n)=>!!Nc(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(hm(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function hm(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const _a="@firebase/app",Vc="0.10.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn=new Fh("@firebase/app"),dm="@firebase/app-compat",fm="@firebase/analytics-compat",pm="@firebase/analytics",mm="@firebase/app-check-compat",gm="@firebase/app-check",ym="@firebase/auth",vm="@firebase/auth-compat",_m="@firebase/database",bm="@firebase/data-connect",Em="@firebase/database-compat",Tm="@firebase/functions",wm="@firebase/functions-compat",Sm="@firebase/installations",Cm="@firebase/installations-compat",Im="@firebase/messaging",Am="@firebase/messaging-compat",xm="@firebase/performance",Rm="@firebase/performance-compat",Pm="@firebase/remote-config",km="@firebase/remote-config-compat",Dm="@firebase/storage",Nm="@firebase/storage-compat",Vm="@firebase/firestore",Mm="@firebase/vertexai",Om="@firebase/firestore-compat",Lm="firebase",Bm="11.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba="[DEFAULT]",Fm={[_a]:"fire-core",[dm]:"fire-core-compat",[pm]:"fire-analytics",[fm]:"fire-analytics-compat",[gm]:"fire-app-check",[mm]:"fire-app-check-compat",[ym]:"fire-auth",[vm]:"fire-auth-compat",[_m]:"fire-rtdb",[bm]:"fire-data-connect",[Em]:"fire-rtdb-compat",[Tm]:"fire-fn",[wm]:"fire-fn-compat",[Sm]:"fire-iid",[Cm]:"fire-iid-compat",[Im]:"fire-fcm",[Am]:"fire-fcm-compat",[xm]:"fire-perf",[Rm]:"fire-perf-compat",[Pm]:"fire-rc",[km]:"fire-rc-compat",[Dm]:"fire-gcs",[Nm]:"fire-gcs-compat",[Vm]:"fire-fst",[Om]:"fire-fst-compat",[Mm]:"fire-vertex","fire-js":"fire-js",[Lm]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps=new Map,$m=new Map,Ea=new Map;function Mc(t,e){try{t.container.addComponent(e)}catch(n){rn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ms(t){const e=t.name;if(Ea.has(e))return rn.debug(`There were multiple attempts to register component ${e}.`),!1;Ea.set(e,t);for(const n of ps.values())Mc(n,t);for(const n of $m.values())Mc(n,t);return!0}function jm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yn=new Bh("app","Firebase",Um);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ai("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm=Bm;function Uh(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ba,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw yn.create("bad-app-name",{appName:String(i)});if(n||(n=Lh()),!n)throw yn.create("no-options");const s=ps.get(i);if(s){if(ga(n,s.options)&&ga(r,s.config))return s;throw yn.create("duplicate-app",{appName:i})}const a=new Gp(i);for(const h of Ea.values())a.addComponent(h);const l=new zm(n,r,a);return ps.set(i,l),l}function Wm(t=ba){const e=ps.get(t);if(!e&&t===ba&&Lh())return Uh();if(!e)throw yn.create("no-app",{appName:t});return e}function cr(t,e,n){var r;let i=(r=Fm[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),rn.warn(l.join(" "));return}ms(new ai(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm="firebase-heartbeat-database",Km=1,li="firebase-heartbeat-store";let jo=null;function zh(){return jo||(jo=am(Hm,Km,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(li)}catch(n){console.warn(n)}}}}).catch(t=>{throw yn.create("idb-open",{originalErrorMessage:t.message})})),jo}async function Gm(t){try{const n=(await zh()).transaction(li),r=await n.objectStore(li).get(qh(t));return await n.done,r}catch(e){if(e instanceof wr)rn.warn(e.message);else{const n=yn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});rn.warn(n.message)}}}async function Oc(t,e){try{const r=(await zh()).transaction(li,"readwrite");await r.objectStore(li).put(e,qh(t)),await r.done}catch(n){if(n instanceof wr)rn.warn(n.message);else{const r=yn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});rn.warn(r.message)}}}function qh(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm=1024,Xm=30*24*60*60*1e3;class Ym{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Zm(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Lc();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const l=new Date(a.date).valueOf();return Date.now()-l<=Xm}),this._storage.overwrite(this._heartbeatsCache))}catch(r){rn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Lc(),{heartbeatsToSend:r,unsentEntries:i}=Jm(this._heartbeatsCache.heartbeats),s=fs(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return rn.warn(n),""}}}function Lc(){return new Date().toISOString().substring(0,10)}function Jm(t,e=Qm){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),Bc(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Bc(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Zm{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Fp()?$p().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Gm(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Oc(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Oc(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Bc(t){return fs(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eg(t){ms(new ai("platform-logger",e=>new um(e),"PRIVATE")),ms(new ai("heartbeat",e=>new Ym(e),"PRIVATE")),cr(_a,Vc,t),cr(_a,Vc,"esm2017"),cr("fire-js","")}eg("");var tg="firebase",ng="11.0.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cr(tg,ng,"app");var Fc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var On,Wh;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(_,v){function E(){}E.prototype=v.prototype,_.D=v.prototype,_.prototype=new E,_.prototype.constructor=_,_.C=function(c,m,w){for(var b=Array(arguments.length-2),F=2;F<arguments.length;F++)b[F-2]=arguments[F];return v.prototype[m].apply(c,b)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(_,v,E){E||(E=0);var c=Array(16);if(typeof v=="string")for(var m=0;16>m;++m)c[m]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(m=0;16>m;++m)c[m]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;v=_.g[0],E=_.g[1],m=_.g[2];var w=_.g[3],b=v+(w^E&(m^w))+c[0]+3614090360&4294967295;v=E+(b<<7&4294967295|b>>>25),b=w+(m^v&(E^m))+c[1]+3905402710&4294967295,w=v+(b<<12&4294967295|b>>>20),b=m+(E^w&(v^E))+c[2]+606105819&4294967295,m=w+(b<<17&4294967295|b>>>15),b=E+(v^m&(w^v))+c[3]+3250441966&4294967295,E=m+(b<<22&4294967295|b>>>10),b=v+(w^E&(m^w))+c[4]+4118548399&4294967295,v=E+(b<<7&4294967295|b>>>25),b=w+(m^v&(E^m))+c[5]+1200080426&4294967295,w=v+(b<<12&4294967295|b>>>20),b=m+(E^w&(v^E))+c[6]+2821735955&4294967295,m=w+(b<<17&4294967295|b>>>15),b=E+(v^m&(w^v))+c[7]+4249261313&4294967295,E=m+(b<<22&4294967295|b>>>10),b=v+(w^E&(m^w))+c[8]+1770035416&4294967295,v=E+(b<<7&4294967295|b>>>25),b=w+(m^v&(E^m))+c[9]+2336552879&4294967295,w=v+(b<<12&4294967295|b>>>20),b=m+(E^w&(v^E))+c[10]+4294925233&4294967295,m=w+(b<<17&4294967295|b>>>15),b=E+(v^m&(w^v))+c[11]+2304563134&4294967295,E=m+(b<<22&4294967295|b>>>10),b=v+(w^E&(m^w))+c[12]+1804603682&4294967295,v=E+(b<<7&4294967295|b>>>25),b=w+(m^v&(E^m))+c[13]+4254626195&4294967295,w=v+(b<<12&4294967295|b>>>20),b=m+(E^w&(v^E))+c[14]+2792965006&4294967295,m=w+(b<<17&4294967295|b>>>15),b=E+(v^m&(w^v))+c[15]+1236535329&4294967295,E=m+(b<<22&4294967295|b>>>10),b=v+(m^w&(E^m))+c[1]+4129170786&4294967295,v=E+(b<<5&4294967295|b>>>27),b=w+(E^m&(v^E))+c[6]+3225465664&4294967295,w=v+(b<<9&4294967295|b>>>23),b=m+(v^E&(w^v))+c[11]+643717713&4294967295,m=w+(b<<14&4294967295|b>>>18),b=E+(w^v&(m^w))+c[0]+3921069994&4294967295,E=m+(b<<20&4294967295|b>>>12),b=v+(m^w&(E^m))+c[5]+3593408605&4294967295,v=E+(b<<5&4294967295|b>>>27),b=w+(E^m&(v^E))+c[10]+38016083&4294967295,w=v+(b<<9&4294967295|b>>>23),b=m+(v^E&(w^v))+c[15]+3634488961&4294967295,m=w+(b<<14&4294967295|b>>>18),b=E+(w^v&(m^w))+c[4]+3889429448&4294967295,E=m+(b<<20&4294967295|b>>>12),b=v+(m^w&(E^m))+c[9]+568446438&4294967295,v=E+(b<<5&4294967295|b>>>27),b=w+(E^m&(v^E))+c[14]+3275163606&4294967295,w=v+(b<<9&4294967295|b>>>23),b=m+(v^E&(w^v))+c[3]+4107603335&4294967295,m=w+(b<<14&4294967295|b>>>18),b=E+(w^v&(m^w))+c[8]+1163531501&4294967295,E=m+(b<<20&4294967295|b>>>12),b=v+(m^w&(E^m))+c[13]+2850285829&4294967295,v=E+(b<<5&4294967295|b>>>27),b=w+(E^m&(v^E))+c[2]+4243563512&4294967295,w=v+(b<<9&4294967295|b>>>23),b=m+(v^E&(w^v))+c[7]+1735328473&4294967295,m=w+(b<<14&4294967295|b>>>18),b=E+(w^v&(m^w))+c[12]+2368359562&4294967295,E=m+(b<<20&4294967295|b>>>12),b=v+(E^m^w)+c[5]+4294588738&4294967295,v=E+(b<<4&4294967295|b>>>28),b=w+(v^E^m)+c[8]+2272392833&4294967295,w=v+(b<<11&4294967295|b>>>21),b=m+(w^v^E)+c[11]+1839030562&4294967295,m=w+(b<<16&4294967295|b>>>16),b=E+(m^w^v)+c[14]+4259657740&4294967295,E=m+(b<<23&4294967295|b>>>9),b=v+(E^m^w)+c[1]+2763975236&4294967295,v=E+(b<<4&4294967295|b>>>28),b=w+(v^E^m)+c[4]+1272893353&4294967295,w=v+(b<<11&4294967295|b>>>21),b=m+(w^v^E)+c[7]+4139469664&4294967295,m=w+(b<<16&4294967295|b>>>16),b=E+(m^w^v)+c[10]+3200236656&4294967295,E=m+(b<<23&4294967295|b>>>9),b=v+(E^m^w)+c[13]+681279174&4294967295,v=E+(b<<4&4294967295|b>>>28),b=w+(v^E^m)+c[0]+3936430074&4294967295,w=v+(b<<11&4294967295|b>>>21),b=m+(w^v^E)+c[3]+3572445317&4294967295,m=w+(b<<16&4294967295|b>>>16),b=E+(m^w^v)+c[6]+76029189&4294967295,E=m+(b<<23&4294967295|b>>>9),b=v+(E^m^w)+c[9]+3654602809&4294967295,v=E+(b<<4&4294967295|b>>>28),b=w+(v^E^m)+c[12]+3873151461&4294967295,w=v+(b<<11&4294967295|b>>>21),b=m+(w^v^E)+c[15]+530742520&4294967295,m=w+(b<<16&4294967295|b>>>16),b=E+(m^w^v)+c[2]+3299628645&4294967295,E=m+(b<<23&4294967295|b>>>9),b=v+(m^(E|~w))+c[0]+4096336452&4294967295,v=E+(b<<6&4294967295|b>>>26),b=w+(E^(v|~m))+c[7]+1126891415&4294967295,w=v+(b<<10&4294967295|b>>>22),b=m+(v^(w|~E))+c[14]+2878612391&4294967295,m=w+(b<<15&4294967295|b>>>17),b=E+(w^(m|~v))+c[5]+4237533241&4294967295,E=m+(b<<21&4294967295|b>>>11),b=v+(m^(E|~w))+c[12]+1700485571&4294967295,v=E+(b<<6&4294967295|b>>>26),b=w+(E^(v|~m))+c[3]+2399980690&4294967295,w=v+(b<<10&4294967295|b>>>22),b=m+(v^(w|~E))+c[10]+4293915773&4294967295,m=w+(b<<15&4294967295|b>>>17),b=E+(w^(m|~v))+c[1]+2240044497&4294967295,E=m+(b<<21&4294967295|b>>>11),b=v+(m^(E|~w))+c[8]+1873313359&4294967295,v=E+(b<<6&4294967295|b>>>26),b=w+(E^(v|~m))+c[15]+4264355552&4294967295,w=v+(b<<10&4294967295|b>>>22),b=m+(v^(w|~E))+c[6]+2734768916&4294967295,m=w+(b<<15&4294967295|b>>>17),b=E+(w^(m|~v))+c[13]+1309151649&4294967295,E=m+(b<<21&4294967295|b>>>11),b=v+(m^(E|~w))+c[4]+4149444226&4294967295,v=E+(b<<6&4294967295|b>>>26),b=w+(E^(v|~m))+c[11]+3174756917&4294967295,w=v+(b<<10&4294967295|b>>>22),b=m+(v^(w|~E))+c[2]+718787259&4294967295,m=w+(b<<15&4294967295|b>>>17),b=E+(w^(m|~v))+c[9]+3951481745&4294967295,_.g[0]=_.g[0]+v&4294967295,_.g[1]=_.g[1]+(m+(b<<21&4294967295|b>>>11))&4294967295,_.g[2]=_.g[2]+m&4294967295,_.g[3]=_.g[3]+w&4294967295}r.prototype.u=function(_,v){v===void 0&&(v=_.length);for(var E=v-this.blockSize,c=this.B,m=this.h,w=0;w<v;){if(m==0)for(;w<=E;)i(this,_,w),w+=this.blockSize;if(typeof _=="string"){for(;w<v;)if(c[m++]=_.charCodeAt(w++),m==this.blockSize){i(this,c),m=0;break}}else for(;w<v;)if(c[m++]=_[w++],m==this.blockSize){i(this,c),m=0;break}}this.h=m,this.o+=v},r.prototype.v=function(){var _=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);_[0]=128;for(var v=1;v<_.length-8;++v)_[v]=0;var E=8*this.o;for(v=_.length-8;v<_.length;++v)_[v]=E&255,E/=256;for(this.u(_),_=Array(16),v=E=0;4>v;++v)for(var c=0;32>c;c+=8)_[E++]=this.g[v]>>>c&255;return _};function s(_,v){var E=l;return Object.prototype.hasOwnProperty.call(E,_)?E[_]:E[_]=v(_)}function a(_,v){this.h=v;for(var E=[],c=!0,m=_.length-1;0<=m;m--){var w=_[m]|0;c&&w==v||(E[m]=w,c=!1)}this.g=E}var l={};function h(_){return-128<=_&&128>_?s(_,function(v){return new a([v|0],0>v?-1:0)}):new a([_|0],0>_?-1:0)}function f(_){if(isNaN(_)||!isFinite(_))return y;if(0>_)return x(f(-_));for(var v=[],E=1,c=0;_>=E;c++)v[c]=_/E|0,E*=4294967296;return new a(v,0)}function p(_,v){if(_.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(_.charAt(0)=="-")return x(p(_.substring(1),v));if(0<=_.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=f(Math.pow(v,8)),c=y,m=0;m<_.length;m+=8){var w=Math.min(8,_.length-m),b=parseInt(_.substring(m,m+w),v);8>w?(w=f(Math.pow(v,w)),c=c.j(w).add(f(b))):(c=c.j(E),c=c.add(f(b)))}return c}var y=h(0),T=h(1),S=h(16777216);t=a.prototype,t.m=function(){if(I(this))return-x(this).m();for(var _=0,v=1,E=0;E<this.g.length;E++){var c=this.i(E);_+=(0<=c?c:4294967296+c)*v,v*=4294967296}return _},t.toString=function(_){if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(C(this))return"0";if(I(this))return"-"+x(this).toString(_);for(var v=f(Math.pow(_,6)),E=this,c="";;){var m=D(E,v).g;E=L(E,m.j(v));var w=((0<E.g.length?E.g[0]:E.h)>>>0).toString(_);if(E=m,C(E))return w+c;for(;6>w.length;)w="0"+w;c=w+c}},t.i=function(_){return 0>_?0:_<this.g.length?this.g[_]:this.h};function C(_){if(_.h!=0)return!1;for(var v=0;v<_.g.length;v++)if(_.g[v]!=0)return!1;return!0}function I(_){return _.h==-1}t.l=function(_){return _=L(this,_),I(_)?-1:C(_)?0:1};function x(_){for(var v=_.g.length,E=[],c=0;c<v;c++)E[c]=~_.g[c];return new a(E,~_.h).add(T)}t.abs=function(){return I(this)?x(this):this},t.add=function(_){for(var v=Math.max(this.g.length,_.g.length),E=[],c=0,m=0;m<=v;m++){var w=c+(this.i(m)&65535)+(_.i(m)&65535),b=(w>>>16)+(this.i(m)>>>16)+(_.i(m)>>>16);c=b>>>16,w&=65535,b&=65535,E[m]=b<<16|w}return new a(E,E[E.length-1]&-2147483648?-1:0)};function L(_,v){return _.add(x(v))}t.j=function(_){if(C(this)||C(_))return y;if(I(this))return I(_)?x(this).j(x(_)):x(x(this).j(_));if(I(_))return x(this.j(x(_)));if(0>this.l(S)&&0>_.l(S))return f(this.m()*_.m());for(var v=this.g.length+_.g.length,E=[],c=0;c<2*v;c++)E[c]=0;for(c=0;c<this.g.length;c++)for(var m=0;m<_.g.length;m++){var w=this.i(c)>>>16,b=this.i(c)&65535,F=_.i(m)>>>16,z=_.i(m)&65535;E[2*c+2*m]+=b*z,M(E,2*c+2*m),E[2*c+2*m+1]+=w*z,M(E,2*c+2*m+1),E[2*c+2*m+1]+=b*F,M(E,2*c+2*m+1),E[2*c+2*m+2]+=w*F,M(E,2*c+2*m+2)}for(c=0;c<v;c++)E[c]=E[2*c+1]<<16|E[2*c];for(c=v;c<2*v;c++)E[c]=0;return new a(E,0)};function M(_,v){for(;(_[v]&65535)!=_[v];)_[v+1]+=_[v]>>>16,_[v]&=65535,v++}function P(_,v){this.g=_,this.h=v}function D(_,v){if(C(v))throw Error("division by zero");if(C(_))return new P(y,y);if(I(_))return v=D(x(_),v),new P(x(v.g),x(v.h));if(I(v))return v=D(_,x(v)),new P(x(v.g),v.h);if(30<_.g.length){if(I(_)||I(v))throw Error("slowDivide_ only works with positive integers.");for(var E=T,c=v;0>=c.l(_);)E=$(E),c=$(c);var m=B(E,1),w=B(c,1);for(c=B(c,2),E=B(E,2);!C(c);){var b=w.add(c);0>=b.l(_)&&(m=m.add(E),w=b),c=B(c,1),E=B(E,1)}return v=L(_,m.j(v)),new P(m,v)}for(m=y;0<=_.l(v);){for(E=Math.max(1,Math.floor(_.m()/v.m())),c=Math.ceil(Math.log(E)/Math.LN2),c=48>=c?1:Math.pow(2,c-48),w=f(E),b=w.j(v);I(b)||0<b.l(_);)E-=c,w=f(E),b=w.j(v);C(w)&&(w=T),m=m.add(w),_=L(_,b)}return new P(m,_)}t.A=function(_){return D(this,_).h},t.and=function(_){for(var v=Math.max(this.g.length,_.g.length),E=[],c=0;c<v;c++)E[c]=this.i(c)&_.i(c);return new a(E,this.h&_.h)},t.or=function(_){for(var v=Math.max(this.g.length,_.g.length),E=[],c=0;c<v;c++)E[c]=this.i(c)|_.i(c);return new a(E,this.h|_.h)},t.xor=function(_){for(var v=Math.max(this.g.length,_.g.length),E=[],c=0;c<v;c++)E[c]=this.i(c)^_.i(c);return new a(E,this.h^_.h)};function $(_){for(var v=_.g.length+1,E=[],c=0;c<v;c++)E[c]=_.i(c)<<1|_.i(c-1)>>>31;return new a(E,_.h)}function B(_,v){var E=v>>5;v%=32;for(var c=_.g.length-E,m=[],w=0;w<c;w++)m[w]=0<v?_.i(w+E)>>>v|_.i(w+E+1)<<32-v:_.i(w+E);return new a(m,_.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Wh=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=f,a.fromString=p,On=a}).apply(typeof Fc<"u"?Fc:typeof self<"u"?self:typeof window<"u"?window:{});var qi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hh,Qr,Kh,is,Ta,Gh,Qh,Xh;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,u,d){return o==Array.prototype||o==Object.prototype||(o[u]=d.value),o};function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof qi=="object"&&qi];for(var u=0;u<o.length;++u){var d=o[u];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var r=n(this);function i(o,u){if(u)e:{var d=r;o=o.split(".");for(var g=0;g<o.length-1;g++){var A=o[g];if(!(A in d))break e;d=d[A]}o=o[o.length-1],g=d[o],u=u(g),u!=g&&u!=null&&e(d,o,{configurable:!0,writable:!0,value:u})}}function s(o,u){o instanceof String&&(o+="");var d=0,g=!1,A={next:function(){if(!g&&d<o.length){var k=d++;return{value:u(k,o[k]),done:!1}}return g=!0,{done:!0,value:void 0}}};return A[Symbol.iterator]=function(){return A},A}i("Array.prototype.values",function(o){return o||function(){return s(this,function(u,d){return d})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function h(o){var u=typeof o;return u=u!="object"?u:o?Array.isArray(o)?"array":u:"null",u=="array"||u=="object"&&typeof o.length=="number"}function f(o){var u=typeof o;return u=="object"&&o!=null||u=="function"}function p(o,u,d){return o.call.apply(o.bind,arguments)}function y(o,u,d){if(!o)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var A=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(A,g),o.apply(u,A)}}return function(){return o.apply(u,arguments)}}function T(o,u,d){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:y,T.apply(null,arguments)}function S(o,u){var d=Array.prototype.slice.call(arguments,1);return function(){var g=d.slice();return g.push.apply(g,arguments),o.apply(this,g)}}function C(o,u){function d(){}d.prototype=u.prototype,o.aa=u.prototype,o.prototype=new d,o.prototype.constructor=o,o.Qb=function(g,A,k){for(var j=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)j[ve-2]=arguments[ve];return u.prototype[A].apply(g,j)}}function I(o){const u=o.length;if(0<u){const d=Array(u);for(let g=0;g<u;g++)d[g]=o[g];return d}return[]}function x(o,u){for(let d=1;d<arguments.length;d++){const g=arguments[d];if(h(g)){const A=o.length||0,k=g.length||0;o.length=A+k;for(let j=0;j<k;j++)o[A+j]=g[j]}else o.push(g)}}class L{constructor(u,d){this.i=u,this.j=d,this.h=0,this.g=null}get(){let u;return 0<this.h?(this.h--,u=this.g,this.g=u.next,u.next=null):u=this.i(),u}}function M(o){return/^[\s\xa0]*$/.test(o)}function P(){var o=l.navigator;return o&&(o=o.userAgent)?o:""}function D(o){return D[" "](o),o}D[" "]=function(){};var $=P().indexOf("Gecko")!=-1&&!(P().toLowerCase().indexOf("webkit")!=-1&&P().indexOf("Edge")==-1)&&!(P().indexOf("Trident")!=-1||P().indexOf("MSIE")!=-1)&&P().indexOf("Edge")==-1;function B(o,u,d){for(const g in o)u.call(d,o[g],g,o)}function _(o,u){for(const d in o)u.call(void 0,o[d],d,o)}function v(o){const u={};for(const d in o)u[d]=o[d];return u}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function c(o,u){let d,g;for(let A=1;A<arguments.length;A++){g=arguments[A];for(d in g)o[d]=g[d];for(let k=0;k<E.length;k++)d=E[k],Object.prototype.hasOwnProperty.call(g,d)&&(o[d]=g[d])}}function m(o){var u=1;o=o.split(":");const d=[];for(;0<u&&o.length;)d.push(o.shift()),u--;return o.length&&d.push(o.join(":")),d}function w(o){l.setTimeout(()=>{throw o},0)}function b(){var o=ye;let u=null;return o.g&&(u=o.g,o.g=o.g.next,o.g||(o.h=null),u.next=null),u}class F{constructor(){this.h=this.g=null}add(u,d){const g=z.get();g.set(u,d),this.h?this.h.next=g:this.g=g,this.h=g}}var z=new L(()=>new H,o=>o.reset());class H{constructor(){this.next=this.g=this.h=null}set(u,d){this.h=u,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,te=!1,ye=new F,Me=()=>{const o=l.Promise.resolve(void 0);Z=()=>{o.then(me)}};var me=()=>{for(var o;o=b();){try{o.h.call(o.g)}catch(d){w(d)}var u=z;u.j(o),100>u.h&&(u.h++,o.next=u.g,u.g=o)}te=!1};function Se(){this.s=this.s,this.C=this.C}Se.prototype.s=!1,Se.prototype.ma=function(){this.s||(this.s=!0,this.N())},Se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(o,u){this.type=o,this.g=this.target=u,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var se=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var o=!1,u=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const d=()=>{};l.addEventListener("test",d,u),l.removeEventListener("test",d,u)}catch{}return o}();function je(o,u){if(ce.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var d=this.type=o.type,g=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=u,u=o.relatedTarget){if($){e:{try{D(u.nodeName);var A=!0;break e}catch{}A=!1}A||(u=null)}}else d=="mouseover"?u=o.fromElement:d=="mouseout"&&(u=o.toElement);this.relatedTarget=u,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:Be[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&je.aa.h.call(this)}}C(je,ce);var Be={2:"touch",3:"pen",4:"mouse"};je.prototype.h=function(){je.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Ke="closure_listenable_"+(1e6*Math.random()|0),Mt=0;function Ft(o,u,d,g,A){this.listener=o,this.proxy=null,this.src=u,this.type=d,this.capture=!!g,this.ha=A,this.key=++Mt,this.da=this.fa=!1}function ct(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function St(o){this.src=o,this.g={},this.h=0}St.prototype.add=function(o,u,d,g,A){var k=o.toString();o=this.g[k],o||(o=this.g[k]=[],this.h++);var j=Ge(o,u,g,A);return-1<j?(u=o[j],d||(u.fa=!1)):(u=new Ft(u,this.src,k,!!g,A),u.fa=d,o.push(u)),u};function Fe(o,u){var d=u.type;if(d in o.g){var g=o.g[d],A=Array.prototype.indexOf.call(g,u,void 0),k;(k=0<=A)&&Array.prototype.splice.call(g,A,1),k&&(ct(u),o.g[d].length==0&&(delete o.g[d],o.h--))}}function Ge(o,u,d,g){for(var A=0;A<o.length;++A){var k=o[A];if(!k.da&&k.listener==u&&k.capture==!!d&&k.ha==g)return A}return-1}var mt="closure_lm_"+(1e6*Math.random()|0),Ct={};function It(o,u,d,g,A){if(Array.isArray(u)){for(var k=0;k<u.length;k++)It(o,u[k],d,g,A);return null}return d=qn(d),o&&o[Ke]?o.K(u,d,f(g)?!!g.capture:!!g,A):Ze(o,u,d,!1,g,A)}function Ze(o,u,d,g,A,k){if(!u)throw Error("Invalid event type");var j=f(A)?!!A.capture:!!A,ve=Q(o);if(ve||(o[mt]=ve=new St(o)),d=ve.add(u,d,g,j,k),d.proxy)return d;if(g=et(),d.proxy=g,g.src=o,g.listener=d,o.addEventListener)se||(A=j),A===void 0&&(A=!1),o.addEventListener(u.toString(),g,A);else if(o.attachEvent)o.attachEvent(At(u.toString()),g);else if(o.addListener&&o.removeListener)o.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return d}function et(){function o(d){return u.call(o.src,o.listener,d)}const u=zn;return o}function ut(o,u,d,g,A){if(Array.isArray(u))for(var k=0;k<u.length;k++)ut(o,u[k],d,g,A);else g=f(g)?!!g.capture:!!g,d=qn(d),o&&o[Ke]?(o=o.i,u=String(u).toString(),u in o.g&&(k=o.g[u],d=Ge(k,d,g,A),-1<d&&(ct(k[d]),Array.prototype.splice.call(k,d,1),k.length==0&&(delete o.g[u],o.h--)))):o&&(o=Q(o))&&(u=o.g[u.toString()],o=-1,u&&(o=Ge(u,d,g,A)),(d=-1<o?u[o]:null)&&ht(d))}function ht(o){if(typeof o!="number"&&o&&!o.da){var u=o.src;if(u&&u[Ke])Fe(u.i,o);else{var d=o.type,g=o.proxy;u.removeEventListener?u.removeEventListener(d,g,o.capture):u.detachEvent?u.detachEvent(At(d),g):u.addListener&&u.removeListener&&u.removeListener(g),(d=Q(u))?(Fe(d,o),d.h==0&&(d.src=null,u[mt]=null)):ct(o)}}}function At(o){return o in Ct?Ct[o]:Ct[o]="on"+o}function zn(o,u){if(o.da)o=!0;else{u=new je(u,this);var d=o.listener,g=o.ha||o.src;o.fa&&ht(o),o=d.call(g,u)}return o}function Q(o){return o=o[mt],o instanceof St?o:null}var cn="__closure_events_fn_"+(1e9*Math.random()>>>0);function qn(o){return typeof o=="function"?o:(o[cn]||(o[cn]=function(u){return o.handleEvent(u)}),o[cn])}function Pe(){Se.call(this),this.i=new St(this),this.M=this,this.F=null}C(Pe,Se),Pe.prototype[Ke]=!0,Pe.prototype.removeEventListener=function(o,u,d,g){ut(this,o,u,d,g)};function Ue(o,u){var d,g=o.F;if(g)for(d=[];g;g=g.F)d.push(g);if(o=o.M,g=u.type||u,typeof u=="string")u=new ce(u,o);else if(u instanceof ce)u.target=u.target||o;else{var A=u;u=new ce(g,o),c(u,A)}if(A=!0,d)for(var k=d.length-1;0<=k;k--){var j=u.g=d[k];A=Cn(j,g,!0,u)&&A}if(j=u.g=o,A=Cn(j,g,!0,u)&&A,A=Cn(j,g,!1,u)&&A,d)for(k=0;k<d.length;k++)j=u.g=d[k],A=Cn(j,g,!1,u)&&A}Pe.prototype.N=function(){if(Pe.aa.N.call(this),this.i){var o=this.i,u;for(u in o.g){for(var d=o.g[u],g=0;g<d.length;g++)ct(d[g]);delete o.g[u],o.h--}}this.F=null},Pe.prototype.K=function(o,u,d,g){return this.i.add(String(o),u,!1,d,g)},Pe.prototype.L=function(o,u,d,g){return this.i.add(String(o),u,!0,d,g)};function Cn(o,u,d,g){if(u=o.i.g[String(u)],!u)return!0;u=u.concat();for(var A=!0,k=0;k<u.length;++k){var j=u[k];if(j&&!j.da&&j.capture==d){var ve=j.listener,Qe=j.ha||j.src;j.fa&&Fe(o.i,j),A=ve.call(Qe,g)!==!1&&A}}return A&&!g.defaultPrevented}function In(o,u,d){if(typeof o=="function")d&&(o=T(o,d));else if(o&&typeof o.handleEvent=="function")o=T(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:l.setTimeout(o,u||0)}function Rr(o){o.g=In(()=>{o.g=null,o.i&&(o.i=!1,Rr(o))},o.l);const u=o.h;o.h=null,o.m.apply(null,u)}class Wn extends Se{constructor(u,d){super(),this.m=u,this.l=d,this.h=null,this.i=!1,this.g=null}j(u){this.h=arguments,this.g?this.i=!0:Rr(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function An(o){Se.call(this),this.h=o,this.g={}}C(An,Se);var Ai=[];function Hn(o){B(o.g,function(u,d){this.g.hasOwnProperty(d)&&ht(u)},o),o.g={}}An.prototype.N=function(){An.aa.N.call(this),Hn(this)},An.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var W=l.JSON.stringify,K=l.JSON.parse,ue=class{stringify(o){return l.JSON.stringify(o,void 0)}parse(o){return l.JSON.parse(o,void 0)}};function ee(){}ee.prototype.h=null;function Ee(o){return o.h||(o.h=o.i())}function gt(){}var yt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Xt(){ce.call(this,"d")}C(Xt,ce);function Kn(){ce.call(this,"c")}C(Kn,ce);var Ot={},$l=null;function xi(){return $l=$l||new Pe}Ot.La="serverreachability";function jl(o){ce.call(this,Ot.La,o)}C(jl,ce);function Pr(o){const u=xi();Ue(u,new jl(u))}Ot.STAT_EVENT="statevent";function Ul(o,u){ce.call(this,Ot.STAT_EVENT,o),this.stat=u}C(Ul,ce);function at(o){const u=xi();Ue(u,new Ul(u,o))}Ot.Ma="timingevent";function zl(o,u){ce.call(this,Ot.Ma,o),this.size=u}C(zl,ce);function kr(o,u){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){o()},u)}function Dr(){this.g=!0}Dr.prototype.xa=function(){this.g=!1};function qf(o,u,d,g,A,k){o.info(function(){if(o.g)if(k)for(var j="",ve=k.split("&"),Qe=0;Qe<ve.length;Qe++){var le=ve[Qe].split("=");if(1<le.length){var tt=le[0];le=le[1];var nt=tt.split("_");j=2<=nt.length&&nt[1]=="type"?j+(tt+"="+le+"&"):j+(tt+"=redacted&")}}else j=null;else j=k;return"XMLHTTP REQ ("+g+") [attempt "+A+"]: "+u+`
`+d+`
`+j})}function Wf(o,u,d,g,A,k,j){o.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+A+"]: "+u+`
`+d+`
`+k+" "+j})}function Gn(o,u,d,g){o.info(function(){return"XMLHTTP TEXT ("+u+"): "+Kf(o,d)+(g?" "+g:"")})}function Hf(o,u){o.info(function(){return"TIMEOUT: "+u})}Dr.prototype.info=function(){};function Kf(o,u){if(!o.g)return u;if(!u)return null;try{var d=JSON.parse(u);if(d){for(o=0;o<d.length;o++)if(Array.isArray(d[o])){var g=d[o];if(!(2>g.length)){var A=g[1];if(Array.isArray(A)&&!(1>A.length)){var k=A[0];if(k!="noop"&&k!="stop"&&k!="close")for(var j=1;j<A.length;j++)A[j]=""}}}}return W(d)}catch{return u}}var Ri={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ql={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Io;function Pi(){}C(Pi,ee),Pi.prototype.g=function(){return new XMLHttpRequest},Pi.prototype.i=function(){return{}},Io=new Pi;function un(o,u,d,g){this.j=o,this.i=u,this.l=d,this.R=g||1,this.U=new An(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Wl}function Wl(){this.i=null,this.g="",this.h=!1}var Hl={},Ao={};function xo(o,u,d){o.L=1,o.v=Vi(Yt(u)),o.m=d,o.P=!0,Kl(o,null)}function Kl(o,u){o.F=Date.now(),ki(o),o.A=Yt(o.v);var d=o.A,g=o.R;Array.isArray(g)||(g=[String(g)]),ac(d.i,"t",g),o.C=0,d=o.j.J,o.h=new Wl,o.g=Cc(o.j,d?u:null,!o.m),0<o.O&&(o.M=new Wn(T(o.Y,o,o.g),o.O)),u=o.U,d=o.g,g=o.ca;var A="readystatechange";Array.isArray(A)||(A&&(Ai[0]=A.toString()),A=Ai);for(var k=0;k<A.length;k++){var j=It(d,A[k],g||u.handleEvent,!1,u.h||u);if(!j)break;u.g[j.key]=j}u=o.H?v(o.H):{},o.m?(o.u||(o.u="POST"),u["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,u)):(o.u="GET",o.g.ea(o.A,o.u,null,u)),Pr(),qf(o.i,o.u,o.A,o.l,o.R,o.m)}un.prototype.ca=function(o){o=o.target;const u=this.M;u&&Jt(o)==3?u.j():this.Y(o)},un.prototype.Y=function(o){try{if(o==this.g)e:{const nt=Jt(this.g);var u=this.g.Ba();const Yn=this.g.Z();if(!(3>nt)&&(nt!=3||this.g&&(this.h.h||this.g.oa()||pc(this.g)))){this.J||nt!=4||u==7||(u==8||0>=Yn?Pr(3):Pr(2)),Ro(this);var d=this.g.Z();this.X=d;t:if(Gl(this)){var g=pc(this.g);o="";var A=g.length,k=Jt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xn(this),Nr(this);var j="";break t}this.h.i=new l.TextDecoder}for(u=0;u<A;u++)this.h.h=!0,o+=this.h.i.decode(g[u],{stream:!(k&&u==A-1)});g.length=0,this.h.g+=o,this.C=0,j=this.h.g}else j=this.g.oa();if(this.o=d==200,Wf(this.i,this.u,this.A,this.l,this.R,nt,d),this.o){if(this.T&&!this.K){t:{if(this.g){var ve,Qe=this.g;if((ve=Qe.g?Qe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(ve)){var le=ve;break t}}le=null}if(d=le)Gn(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Po(this,d);else{this.o=!1,this.s=3,at(12),xn(this),Nr(this);break e}}if(this.P){d=!0;let Lt;for(;!this.J&&this.C<j.length;)if(Lt=Gf(this,j),Lt==Ao){nt==4&&(this.s=4,at(14),d=!1),Gn(this.i,this.l,null,"[Incomplete Response]");break}else if(Lt==Hl){this.s=4,at(15),Gn(this.i,this.l,j,"[Invalid Chunk]"),d=!1;break}else Gn(this.i,this.l,Lt,null),Po(this,Lt);if(Gl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),nt!=4||j.length!=0||this.h.h||(this.s=1,at(16),d=!1),this.o=this.o&&d,!d)Gn(this.i,this.l,j,"[Invalid Chunked Response]"),xn(this),Nr(this);else if(0<j.length&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.ba&&!tt.M&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+j.length),Oo(tt),tt.M=!0,at(11))}}else Gn(this.i,this.l,j,null),Po(this,j);nt==4&&xn(this),this.o&&!this.J&&(nt==4?Ec(this.j,this):(this.o=!1,ki(this)))}else hp(this.g),d==400&&0<j.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),xn(this),Nr(this)}}}catch{}finally{}};function Gl(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function Gf(o,u){var d=o.C,g=u.indexOf(`
`,d);return g==-1?Ao:(d=Number(u.substring(d,g)),isNaN(d)?Hl:(g+=1,g+d>u.length?Ao:(u=u.slice(g,g+d),o.C=g+d,u)))}un.prototype.cancel=function(){this.J=!0,xn(this)};function ki(o){o.S=Date.now()+o.I,Ql(o,o.I)}function Ql(o,u){if(o.B!=null)throw Error("WatchDog timer not null");o.B=kr(T(o.ba,o),u)}function Ro(o){o.B&&(l.clearTimeout(o.B),o.B=null)}un.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(Hf(this.i,this.A),this.L!=2&&(Pr(),at(17)),xn(this),this.s=2,Nr(this)):Ql(this,this.S-o)};function Nr(o){o.j.G==0||o.J||Ec(o.j,o)}function xn(o){Ro(o);var u=o.M;u&&typeof u.ma=="function"&&u.ma(),o.M=null,Hn(o.U),o.g&&(u=o.g,o.g=null,u.abort(),u.ma())}function Po(o,u){try{var d=o.j;if(d.G!=0&&(d.g==o||ko(d.h,o))){if(!o.K&&ko(d.h,o)&&d.G==3){try{var g=d.Da.g.parse(u)}catch{g=null}if(Array.isArray(g)&&g.length==3){var A=g;if(A[0]==0){e:if(!d.u){if(d.g)if(d.g.F+3e3<o.F)$i(d),Bi(d);else break e;Mo(d),at(18)}}else d.za=A[1],0<d.za-d.T&&37500>A[2]&&d.F&&d.v==0&&!d.C&&(d.C=kr(T(d.Za,d),6e3));if(1>=Jl(d.h)&&d.ca){try{d.ca()}catch{}d.ca=void 0}}else Pn(d,11)}else if((o.K||d.g==o)&&$i(d),!M(u))for(A=d.Da.g.parse(u),u=0;u<A.length;u++){let le=A[u];if(d.T=le[0],le=le[1],d.G==2)if(le[0]=="c"){d.K=le[1],d.ia=le[2];const tt=le[3];tt!=null&&(d.la=tt,d.j.info("VER="+d.la));const nt=le[4];nt!=null&&(d.Aa=nt,d.j.info("SVER="+d.Aa));const Yn=le[5];Yn!=null&&typeof Yn=="number"&&0<Yn&&(g=1.5*Yn,d.L=g,d.j.info("backChannelRequestTimeoutMs_="+g)),g=d;const Lt=o.g;if(Lt){const Ui=Lt.g?Lt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ui){var k=g.h;k.g||Ui.indexOf("spdy")==-1&&Ui.indexOf("quic")==-1&&Ui.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(Do(k,k.h),k.h=null))}if(g.D){const Lo=Lt.g?Lt.g.getResponseHeader("X-HTTP-Session-Id"):null;Lo&&(g.ya=Lo,Te(g.I,g.D,Lo))}}d.G=3,d.l&&d.l.ua(),d.ba&&(d.R=Date.now()-o.F,d.j.info("Handshake RTT: "+d.R+"ms")),g=d;var j=o;if(g.qa=Sc(g,g.J?g.ia:null,g.W),j.K){Zl(g.h,j);var ve=j,Qe=g.L;Qe&&(ve.I=Qe),ve.B&&(Ro(ve),ki(ve)),g.g=j}else _c(g);0<d.i.length&&Fi(d)}else le[0]!="stop"&&le[0]!="close"||Pn(d,7);else d.G==3&&(le[0]=="stop"||le[0]=="close"?le[0]=="stop"?Pn(d,7):Vo(d):le[0]!="noop"&&d.l&&d.l.ta(le),d.v=0)}}Pr(4)}catch{}}var Qf=class{constructor(o,u){this.g=o,this.map=u}};function Xl(o){this.l=o||10,l.PerformanceNavigationTiming?(o=l.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Yl(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Jl(o){return o.h?1:o.g?o.g.size:0}function ko(o,u){return o.h?o.h==u:o.g?o.g.has(u):!1}function Do(o,u){o.g?o.g.add(u):o.h=u}function Zl(o,u){o.h&&o.h==u?o.h=null:o.g&&o.g.has(u)&&o.g.delete(u)}Xl.prototype.cancel=function(){if(this.i=ec(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function ec(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let u=o.i;for(const d of o.g.values())u=u.concat(d.D);return u}return I(o.i)}function Xf(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(h(o)){for(var u=[],d=o.length,g=0;g<d;g++)u.push(o[g]);return u}u=[],d=0;for(g in o)u[d++]=o[g];return u}function Yf(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(h(o)||typeof o=="string"){var u=[];o=o.length;for(var d=0;d<o;d++)u.push(d);return u}u=[],d=0;for(const g in o)u[d++]=g;return u}}}function tc(o,u){if(o.forEach&&typeof o.forEach=="function")o.forEach(u,void 0);else if(h(o)||typeof o=="string")Array.prototype.forEach.call(o,u,void 0);else for(var d=Yf(o),g=Xf(o),A=g.length,k=0;k<A;k++)u.call(void 0,g[k],d&&d[k],o)}var nc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jf(o,u){if(o){o=o.split("&");for(var d=0;d<o.length;d++){var g=o[d].indexOf("="),A=null;if(0<=g){var k=o[d].substring(0,g);A=o[d].substring(g+1)}else k=o[d];u(k,A?decodeURIComponent(A.replace(/\+/g," ")):"")}}}function Rn(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof Rn){this.h=o.h,Di(this,o.j),this.o=o.o,this.g=o.g,Ni(this,o.s),this.l=o.l;var u=o.i,d=new Or;d.i=u.i,u.g&&(d.g=new Map(u.g),d.h=u.h),rc(this,d),this.m=o.m}else o&&(u=String(o).match(nc))?(this.h=!1,Di(this,u[1]||"",!0),this.o=Vr(u[2]||""),this.g=Vr(u[3]||"",!0),Ni(this,u[4]),this.l=Vr(u[5]||"",!0),rc(this,u[6]||"",!0),this.m=Vr(u[7]||"")):(this.h=!1,this.i=new Or(null,this.h))}Rn.prototype.toString=function(){var o=[],u=this.j;u&&o.push(Mr(u,ic,!0),":");var d=this.g;return(d||u=="file")&&(o.push("//"),(u=this.o)&&o.push(Mr(u,ic,!0),"@"),o.push(encodeURIComponent(String(d)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.s,d!=null&&o.push(":",String(d))),(d=this.l)&&(this.g&&d.charAt(0)!="/"&&o.push("/"),o.push(Mr(d,d.charAt(0)=="/"?tp:ep,!0))),(d=this.i.toString())&&o.push("?",d),(d=this.m)&&o.push("#",Mr(d,rp)),o.join("")};function Yt(o){return new Rn(o)}function Di(o,u,d){o.j=d?Vr(u,!0):u,o.j&&(o.j=o.j.replace(/:$/,""))}function Ni(o,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);o.s=u}else o.s=null}function rc(o,u,d){u instanceof Or?(o.i=u,ip(o.i,o.h)):(d||(u=Mr(u,np)),o.i=new Or(u,o.h))}function Te(o,u,d){o.i.set(u,d)}function Vi(o){return Te(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function Vr(o,u){return o?u?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Mr(o,u,d){return typeof o=="string"?(o=encodeURI(o).replace(u,Zf),d&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function Zf(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var ic=/[#\/\?@]/g,ep=/[#\?:]/g,tp=/[#\?]/g,np=/[#\?@]/g,rp=/#/g;function Or(o,u){this.h=this.g=null,this.i=o||null,this.j=!!u}function hn(o){o.g||(o.g=new Map,o.h=0,o.i&&Jf(o.i,function(u,d){o.add(decodeURIComponent(u.replace(/\+/g," ")),d)}))}t=Or.prototype,t.add=function(o,u){hn(this),this.i=null,o=Qn(this,o);var d=this.g.get(o);return d||this.g.set(o,d=[]),d.push(u),this.h+=1,this};function sc(o,u){hn(o),u=Qn(o,u),o.g.has(u)&&(o.i=null,o.h-=o.g.get(u).length,o.g.delete(u))}function oc(o,u){return hn(o),u=Qn(o,u),o.g.has(u)}t.forEach=function(o,u){hn(this),this.g.forEach(function(d,g){d.forEach(function(A){o.call(u,A,g,this)},this)},this)},t.na=function(){hn(this);const o=Array.from(this.g.values()),u=Array.from(this.g.keys()),d=[];for(let g=0;g<u.length;g++){const A=o[g];for(let k=0;k<A.length;k++)d.push(u[g])}return d},t.V=function(o){hn(this);let u=[];if(typeof o=="string")oc(this,o)&&(u=u.concat(this.g.get(Qn(this,o))));else{o=Array.from(this.g.values());for(let d=0;d<o.length;d++)u=u.concat(o[d])}return u},t.set=function(o,u){return hn(this),this.i=null,o=Qn(this,o),oc(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[u]),this.h+=1,this},t.get=function(o,u){return o?(o=this.V(o),0<o.length?String(o[0]):u):u};function ac(o,u,d){sc(o,u),0<d.length&&(o.i=null,o.g.set(Qn(o,u),I(d)),o.h+=d.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],u=Array.from(this.g.keys());for(var d=0;d<u.length;d++){var g=u[d];const k=encodeURIComponent(String(g)),j=this.V(g);for(g=0;g<j.length;g++){var A=k;j[g]!==""&&(A+="="+encodeURIComponent(String(j[g]))),o.push(A)}}return this.i=o.join("&")};function Qn(o,u){return u=String(u),o.j&&(u=u.toLowerCase()),u}function ip(o,u){u&&!o.j&&(hn(o),o.i=null,o.g.forEach(function(d,g){var A=g.toLowerCase();g!=A&&(sc(this,g),ac(this,A,d))},o)),o.j=u}function sp(o,u){const d=new Dr;if(l.Image){const g=new Image;g.onload=S(dn,d,"TestLoadImage: loaded",!0,u,g),g.onerror=S(dn,d,"TestLoadImage: error",!1,u,g),g.onabort=S(dn,d,"TestLoadImage: abort",!1,u,g),g.ontimeout=S(dn,d,"TestLoadImage: timeout",!1,u,g),l.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=o}else u(!1)}function op(o,u){const d=new Dr,g=new AbortController,A=setTimeout(()=>{g.abort(),dn(d,"TestPingServer: timeout",!1,u)},1e4);fetch(o,{signal:g.signal}).then(k=>{clearTimeout(A),k.ok?dn(d,"TestPingServer: ok",!0,u):dn(d,"TestPingServer: server error",!1,u)}).catch(()=>{clearTimeout(A),dn(d,"TestPingServer: error",!1,u)})}function dn(o,u,d,g,A){try{A&&(A.onload=null,A.onerror=null,A.onabort=null,A.ontimeout=null),g(d)}catch{}}function ap(){this.g=new ue}function lp(o,u,d){const g=d||"";try{tc(o,function(A,k){let j=A;f(A)&&(j=W(A)),u.push(g+k+"="+encodeURIComponent(j))})}catch(A){throw u.push(g+"type="+encodeURIComponent("_badmap")),A}}function Mi(o){this.l=o.Ub||null,this.j=o.eb||!1}C(Mi,ee),Mi.prototype.g=function(){return new Oi(this.l,this.j)},Mi.prototype.i=function(o){return function(){return o}}({});function Oi(o,u){Pe.call(this),this.D=o,this.o=u,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Oi,Pe),t=Oi.prototype,t.open=function(o,u){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=u,this.readyState=1,Br(this)},t.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const u={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(u.body=o),(this.D||l).fetch(new Request(this.A,u)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Lr(this)),this.readyState=0},t.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Br(this)),this.g&&(this.readyState=3,Br(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;lc(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function lc(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}t.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var u=o.value?o.value:new Uint8Array(0);(u=this.v.decode(u,{stream:!o.done}))&&(this.response=this.responseText+=u)}o.done?Lr(this):Br(this),this.readyState==3&&lc(this)}},t.Ra=function(o){this.g&&(this.response=this.responseText=o,Lr(this))},t.Qa=function(o){this.g&&(this.response=o,Lr(this))},t.ga=function(){this.g&&Lr(this)};function Lr(o){o.readyState=4,o.l=null,o.j=null,o.v=null,Br(o)}t.setRequestHeader=function(o,u){this.u.append(o,u)},t.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],u=this.h.entries();for(var d=u.next();!d.done;)d=d.value,o.push(d[0]+": "+d[1]),d=u.next();return o.join(`\r
`)};function Br(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Oi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function cc(o){let u="";return B(o,function(d,g){u+=g,u+=":",u+=d,u+=`\r
`}),u}function No(o,u,d){e:{for(g in d){var g=!1;break e}g=!0}g||(d=cc(d),typeof o=="string"?d!=null&&encodeURIComponent(String(d)):Te(o,u,d))}function Ie(o){Pe.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Ie,Pe);var cp=/^https?$/i,up=["POST","PUT"];t=Ie.prototype,t.Ha=function(o){this.J=o},t.ea=function(o,u,d,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);u=u?u.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Io.g(),this.v=this.o?Ee(this.o):Ee(Io),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(u,String(o),!0),this.B=!1}catch(k){uc(this,k);return}if(o=d||"",d=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var A in g)d.set(A,g[A]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(const k of g.keys())d.set(k,g.get(k));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(d.keys()).find(k=>k.toLowerCase()=="content-type"),A=l.FormData&&o instanceof l.FormData,!(0<=Array.prototype.indexOf.call(up,u,void 0))||g||A||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[k,j]of d)this.g.setRequestHeader(k,j);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{fc(this),this.u=!0,this.g.send(o),this.u=!1}catch(k){uc(this,k)}};function uc(o,u){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=u,o.m=5,hc(o),Li(o)}function hc(o){o.A||(o.A=!0,Ue(o,"complete"),Ue(o,"error"))}t.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,Ue(this,"complete"),Ue(this,"abort"),Li(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Li(this,!0)),Ie.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?dc(this):this.bb())},t.bb=function(){dc(this)};function dc(o){if(o.h&&typeof a<"u"&&(!o.v[1]||Jt(o)!=4||o.Z()!=2)){if(o.u&&Jt(o)==4)In(o.Ea,0,o);else if(Ue(o,"readystatechange"),Jt(o)==4){o.h=!1;try{const j=o.Z();e:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var u=!0;break e;default:u=!1}var d;if(!(d=u)){var g;if(g=j===0){var A=String(o.D).match(nc)[1]||null;!A&&l.self&&l.self.location&&(A=l.self.location.protocol.slice(0,-1)),g=!cp.test(A?A.toLowerCase():"")}d=g}if(d)Ue(o,"complete"),Ue(o,"success");else{o.m=6;try{var k=2<Jt(o)?o.g.statusText:""}catch{k=""}o.l=k+" ["+o.Z()+"]",hc(o)}}finally{Li(o)}}}}function Li(o,u){if(o.g){fc(o);const d=o.g,g=o.v[0]?()=>{}:null;o.g=null,o.v=null,u||Ue(o,"ready");try{d.onreadystatechange=g}catch{}}}function fc(o){o.I&&(l.clearTimeout(o.I),o.I=null)}t.isActive=function(){return!!this.g};function Jt(o){return o.g?o.g.readyState:0}t.Z=function(){try{return 2<Jt(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(o){if(this.g){var u=this.g.responseText;return o&&u.indexOf(o)==0&&(u=u.substring(o.length)),K(u)}};function pc(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function hp(o){const u={};o=(o.g&&2<=Jt(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<o.length;g++){if(M(o[g]))continue;var d=m(o[g]);const A=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();const k=u[A]||[];u[A]=k,k.push(d)}_(u,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fr(o,u,d){return d&&d.internalChannelParams&&d.internalChannelParams[o]||u}function mc(o){this.Aa=0,this.i=[],this.j=new Dr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fr("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fr("baseRetryDelayMs",5e3,o),this.cb=Fr("retryDelaySeedMs",1e4,o),this.Wa=Fr("forwardChannelMaxRetries",2,o),this.wa=Fr("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new Xl(o&&o.concurrentRequestLimit),this.Da=new ap,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=mc.prototype,t.la=8,t.G=1,t.connect=function(o,u,d,g){at(0),this.W=o,this.H=u||{},d&&g!==void 0&&(this.H.OSID=d,this.H.OAID=g),this.F=this.X,this.I=Sc(this,null,this.W),Fi(this)};function Vo(o){if(gc(o),o.G==3){var u=o.U++,d=Yt(o.I);if(Te(d,"SID",o.K),Te(d,"RID",u),Te(d,"TYPE","terminate"),$r(o,d),u=new un(o,o.j,u),u.L=2,u.v=Vi(Yt(d)),d=!1,l.navigator&&l.navigator.sendBeacon)try{d=l.navigator.sendBeacon(u.v.toString(),"")}catch{}!d&&l.Image&&(new Image().src=u.v,d=!0),d||(u.g=Cc(u.j,null),u.g.ea(u.v)),u.F=Date.now(),ki(u)}wc(o)}function Bi(o){o.g&&(Oo(o),o.g.cancel(),o.g=null)}function gc(o){Bi(o),o.u&&(l.clearTimeout(o.u),o.u=null),$i(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&l.clearTimeout(o.s),o.s=null)}function Fi(o){if(!Yl(o.h)&&!o.s){o.s=!0;var u=o.Ga;Z||Me(),te||(Z(),te=!0),ye.add(u,o),o.B=0}}function dp(o,u){return Jl(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=u.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=kr(T(o.Ga,o,u),Tc(o,o.B)),o.B++,!0)}t.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const A=new un(this,this.j,o);let k=this.o;if(this.S&&(k?(k=v(k),c(k,this.S)):k=this.S),this.m!==null||this.O||(A.H=k,k=null),this.P)e:{for(var u=0,d=0;d<this.i.length;d++){t:{var g=this.i[d];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(u+=g,4096<u){u=d;break e}if(u===4096||d===this.i.length-1){u=d+1;break e}}u=1e3}else u=1e3;u=vc(this,A,u),d=Yt(this.I),Te(d,"RID",o),Te(d,"CVER",22),this.D&&Te(d,"X-HTTP-Session-Id",this.D),$r(this,d),k&&(this.O?u="headers="+encodeURIComponent(String(cc(k)))+"&"+u:this.m&&No(d,this.m,k)),Do(this.h,A),this.Ua&&Te(d,"TYPE","init"),this.P?(Te(d,"$req",u),Te(d,"SID","null"),A.T=!0,xo(A,d,null)):xo(A,d,u),this.G=2}}else this.G==3&&(o?yc(this,o):this.i.length==0||Yl(this.h)||yc(this))};function yc(o,u){var d;u?d=u.l:d=o.U++;const g=Yt(o.I);Te(g,"SID",o.K),Te(g,"RID",d),Te(g,"AID",o.T),$r(o,g),o.m&&o.o&&No(g,o.m,o.o),d=new un(o,o.j,d,o.B+1),o.m===null&&(d.H=o.o),u&&(o.i=u.D.concat(o.i)),u=vc(o,d,1e3),d.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Do(o.h,d),xo(d,g,u)}function $r(o,u){o.H&&B(o.H,function(d,g){Te(u,g,d)}),o.l&&tc({},function(d,g){Te(u,g,d)})}function vc(o,u,d){d=Math.min(o.i.length,d);var g=o.l?T(o.l.Na,o.l,o):null;e:{var A=o.i;let k=-1;for(;;){const j=["count="+d];k==-1?0<d?(k=A[0].g,j.push("ofs="+k)):k=0:j.push("ofs="+k);let ve=!0;for(let Qe=0;Qe<d;Qe++){let le=A[Qe].g;const tt=A[Qe].map;if(le-=k,0>le)k=Math.max(0,A[Qe].g-100),ve=!1;else try{lp(tt,j,"req"+le+"_")}catch{g&&g(tt)}}if(ve){g=j.join("&");break e}}}return o=o.i.splice(0,d),u.D=o,g}function _c(o){if(!o.g&&!o.u){o.Y=1;var u=o.Fa;Z||Me(),te||(Z(),te=!0),ye.add(u,o),o.v=0}}function Mo(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=kr(T(o.Fa,o),Tc(o,o.v)),o.v++,!0)}t.Fa=function(){if(this.u=null,bc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=kr(T(this.ab,this),o)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),Bi(this),bc(this))};function Oo(o){o.A!=null&&(l.clearTimeout(o.A),o.A=null)}function bc(o){o.g=new un(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var u=Yt(o.qa);Te(u,"RID","rpc"),Te(u,"SID",o.K),Te(u,"AID",o.T),Te(u,"CI",o.F?"0":"1"),!o.F&&o.ja&&Te(u,"TO",o.ja),Te(u,"TYPE","xmlhttp"),$r(o,u),o.m&&o.o&&No(u,o.m,o.o),o.L&&(o.g.I=o.L);var d=o.g;o=o.ia,d.L=1,d.v=Vi(Yt(u)),d.m=null,d.P=!0,Kl(d,o)}t.Za=function(){this.C!=null&&(this.C=null,Bi(this),Mo(this),at(19))};function $i(o){o.C!=null&&(l.clearTimeout(o.C),o.C=null)}function Ec(o,u){var d=null;if(o.g==u){$i(o),Oo(o),o.g=null;var g=2}else if(ko(o.h,u))d=u.D,Zl(o.h,u),g=1;else return;if(o.G!=0){if(u.o)if(g==1){d=u.m?u.m.length:0,u=Date.now()-u.F;var A=o.B;g=xi(),Ue(g,new zl(g,d)),Fi(o)}else _c(o);else if(A=u.s,A==3||A==0&&0<u.X||!(g==1&&dp(o,u)||g==2&&Mo(o)))switch(d&&0<d.length&&(u=o.h,u.i=u.i.concat(d)),A){case 1:Pn(o,5);break;case 4:Pn(o,10);break;case 3:Pn(o,6);break;default:Pn(o,2)}}}function Tc(o,u){let d=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(d*=2),d*u}function Pn(o,u){if(o.j.info("Error code "+u),u==2){var d=T(o.fb,o),g=o.Xa;const A=!g;g=new Rn(g||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Di(g,"https"),Vi(g),A?sp(g.toString(),d):op(g.toString(),d)}else at(2);o.G=0,o.l&&o.l.sa(u),wc(o),gc(o)}t.fb=function(o){o?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function wc(o){if(o.G=0,o.ka=[],o.l){const u=ec(o.h);(u.length!=0||o.i.length!=0)&&(x(o.ka,u),x(o.ka,o.i),o.h.i.length=0,I(o.i),o.i.length=0),o.l.ra()}}function Sc(o,u,d){var g=d instanceof Rn?Yt(d):new Rn(d);if(g.g!="")u&&(g.g=u+"."+g.g),Ni(g,g.s);else{var A=l.location;g=A.protocol,u=u?u+"."+A.hostname:A.hostname,A=+A.port;var k=new Rn(null);g&&Di(k,g),u&&(k.g=u),A&&Ni(k,A),d&&(k.l=d),g=k}return d=o.D,u=o.ya,d&&u&&Te(g,d,u),Te(g,"VER",o.la),$r(o,g),g}function Cc(o,u,d){if(u&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return u=o.Ca&&!o.pa?new Ie(new Mi({eb:d})):new Ie(o.pa),u.Ha(o.J),u}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ic(){}t=Ic.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ji(){}ji.prototype.g=function(o,u){return new vt(o,u)};function vt(o,u){Pe.call(this),this.g=new mc(u),this.l=o,this.h=u&&u.messageUrlParams||null,o=u&&u.messageHeaders||null,u&&u.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=u&&u.initMessageHeaders||null,u&&u.messageContentType&&(o?o["X-WebChannel-Content-Type"]=u.messageContentType:o={"X-WebChannel-Content-Type":u.messageContentType}),u&&u.va&&(o?o["X-WebChannel-Client-Profile"]=u.va:o={"X-WebChannel-Client-Profile":u.va}),this.g.S=o,(o=u&&u.Sb)&&!M(o)&&(this.g.m=o),this.v=u&&u.supportsCrossDomainXhr||!1,this.u=u&&u.sendRawJson||!1,(u=u&&u.httpSessionIdParam)&&!M(u)&&(this.g.D=u,o=this.h,o!==null&&u in o&&(o=this.h,u in o&&delete o[u])),this.j=new Xn(this)}C(vt,Pe),vt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vt.prototype.close=function(){Vo(this.g)},vt.prototype.o=function(o){var u=this.g;if(typeof o=="string"){var d={};d.__data__=o,o=d}else this.u&&(d={},d.__data__=W(o),o=d);u.i.push(new Qf(u.Ya++,o)),u.G==3&&Fi(u)},vt.prototype.N=function(){this.g.l=null,delete this.j,Vo(this.g),delete this.g,vt.aa.N.call(this)};function Ac(o){Xt.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var u=o.__sm__;if(u){e:{for(const d in u){o=d;break e}o=void 0}(this.i=o)&&(o=this.i,u=u!==null&&o in u?u[o]:void 0),this.data=u}else this.data=o}C(Ac,Xt);function xc(){Kn.call(this),this.status=1}C(xc,Kn);function Xn(o){this.g=o}C(Xn,Ic),Xn.prototype.ua=function(){Ue(this.g,"a")},Xn.prototype.ta=function(o){Ue(this.g,new Ac(o))},Xn.prototype.sa=function(o){Ue(this.g,new xc)},Xn.prototype.ra=function(){Ue(this.g,"b")},ji.prototype.createWebChannel=ji.prototype.g,vt.prototype.send=vt.prototype.o,vt.prototype.open=vt.prototype.m,vt.prototype.close=vt.prototype.close,Xh=function(){return new ji},Qh=function(){return xi()},Gh=Ot,Ta={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ri.NO_ERROR=0,Ri.TIMEOUT=8,Ri.HTTP_ERROR=6,is=Ri,ql.COMPLETE="complete",Kh=ql,gt.EventType=yt,yt.OPEN="a",yt.CLOSE="b",yt.ERROR="c",yt.MESSAGE="d",Pe.prototype.listen=Pe.prototype.K,Qr=gt,Ie.prototype.listenOnce=Ie.prototype.L,Ie.prototype.getLastError=Ie.prototype.Ka,Ie.prototype.getLastErrorCode=Ie.prototype.Ba,Ie.prototype.getStatus=Ie.prototype.Z,Ie.prototype.getResponseJson=Ie.prototype.Oa,Ie.prototype.getResponseText=Ie.prototype.oa,Ie.prototype.send=Ie.prototype.ea,Ie.prototype.setWithCredentials=Ie.prototype.Ha,Hh=Ie}).apply(typeof qi<"u"?qi:typeof self<"u"?self:typeof window<"u"?window:{});const $c="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}st.UNAUTHENTICATED=new st(null),st.GOOGLE_CREDENTIALS=new st("google-credentials-uid"),st.FIRST_PARTY=new st("first-party-uid"),st.MOCK_USER=new st("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sr="11.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fn=new Fh("@firebase/firestore");function ir(){return Fn.logLevel}function q(t,...e){if(Fn.logLevel<=re.DEBUG){const n=e.map(Xa);Fn.debug(`Firestore (${Sr}): ${t}`,...n)}}function sn(t,...e){if(Fn.logLevel<=re.ERROR){const n=e.map(Xa);Fn.error(`Firestore (${Sr}): ${t}`,...n)}}function mr(t,...e){if(Fn.logLevel<=re.WARN){const n=e.map(Xa);Fn.warn(`Firestore (${Sr}): ${t}`,...n)}}function Xa(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J(t="Unexpected state"){const e=`FIRESTORE (${Sr}) INTERNAL ASSERTION FAILED: `+t;throw sn(e),new Error(e)}function Ce(t,e){t||J()}function ie(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class G extends wr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rg{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(st.UNAUTHENTICATED))}shutdown(){}}class ig{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class sg{constructor(e){this.t=e,this.currentUser=st.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ce(this.o===void 0);let r=this.i;const i=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let s=new Ln;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ln,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const h=s;e.enqueueRetryable(async()=>{await h.promise,await i(this.currentUser)})},l=h=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(h=>l(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?l(h):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ln)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ce(typeof r.accessToken=="string"),new Yh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ce(e===null||typeof e=="string"),new st(e)}}class og{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=st.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class ag{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new og(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(st.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lg{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cg{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ce(this.o===void 0);const r=s=>{s.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,q("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ce(typeof n.token=="string"),this.R=n.token,new lg(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=ug(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function oe(t,e){return t<e?-1:t>e?1:0}function gr(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new G(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new G(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ft.fromMillis(Date.now())}static fromDate(e){return ft.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ft(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?oe(this.nanoseconds,e.nanoseconds):oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Y(e)}static min(){return new Y(new ft(0,0))}static max(){return new Y(new ft(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e,n,r){n===void 0?n=0:n>e.length&&J(),r===void 0?r=e.length-n:r>e.length-n&&J(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ci.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ci?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Re extends ci{construct(e,n,r){return new Re(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new G(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Re(n)}static emptyPath(){return new Re([])}}const dg=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class lt extends ci{construct(e,n,r){return new lt(e,n,r)}static isValidIdentifier(e){return dg.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),lt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new lt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new G(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new G(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new G(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else l==="`"?(a=!a,i++):l!=="."||a?(r+=l,i++):(s(),i++)}if(s(),a)throw new G(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new lt(n)}static emptyPath(){return new lt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.path=e}static fromPath(e){return new X(Re.fromString(e))}static fromName(e){return new X(Re.fromString(e).popFirst(5))}static empty(){return new X(Re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Re.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Re.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new X(new Re(e.slice()))}}function fg(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Y.fromTimestamp(r===1e9?new ft(n+1,0):new ft(n,r));return new vn(i,X.empty(),e)}function pg(t){return new vn(t.readTime,t.key,-1)}class vn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new vn(Y.min(),X.empty(),-1)}static max(){return new vn(Y.max(),X.empty(),-1)}}function mg(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=X.comparator(t.documentKey,e.documentKey),n!==0?n:oe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yg{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ns(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==gg)throw t;q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&J(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new O((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof O?n:O.resolve(n)}catch(n){return O.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):O.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):O.reject(n)}static resolve(e){return new O((n,r)=>{n(e)})}static reject(e){return new O((n,r)=>{r(e)})}static waitFor(e){return new O((n,r)=>{let i=0,s=0,a=!1;e.forEach(l=>{++i,l.next(()=>{++s,a&&s===i&&n()},h=>r(h))}),a=!0,s===i&&n()})}static or(e){let n=O.resolve(!1);for(const r of e)n=n.next(i=>i?O.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new O((r,i)=>{const s=e.length,a=new Array(s);let l=0;for(let h=0;h<s;h++){const f=h;n(e[f]).next(p=>{a[f]=p,++l,l===s&&r(a)},p=>i(p))}})}static doWhile(e,n){return new O((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function vg(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Cr(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Vs.oe=-1;function Ms(t){return t==null}function wa(t){return t===0&&1/t==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _g(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=jc(e)),e=bg(t.get(n),e);return jc(e)}function bg(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function jc(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function _i(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Eg(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e,n){this.comparator=e,this.root=n||Xe.EMPTY}insert(e,n){return new Ne(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Xe.BLACK,null,null))}remove(e){return new Ne(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xe.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wi(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wi(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wi(this.root,e,this.comparator,!0)}}class Wi{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xe{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Xe.RED,this.left=i??Xe.EMPTY,this.right=s??Xe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Xe(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Xe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Xe.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw J();const e=this.left.check();if(e!==this.right.check())throw J();return e+(this.isRed()?0:1)}}Xe.EMPTY=null,Xe.RED=!0,Xe.BLACK=!1;Xe.EMPTY=new class{constructor(){this.size=0}get key(){throw J()}get value(){throw J()}get color(){throw J()}get left(){throw J()}get right(){throw J()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Xe(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.comparator=e,this.data=new Ne(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new zc(this.data.getIterator())}getIteratorFrom(e){return new zc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof qe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new qe(this.comparator);return n.data=e,n}}class zc{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.fields=e,e.sort(lt.comparator)}static empty(){return new pn([])}unionWith(e){let n=new qe(lt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new pn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return gr(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Jh("Invalid base64 string: "+s):s}}(e);return new Je(n)}static fromUint8Array(e){const n=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new Je(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Je.EMPTY_BYTE_STRING=new Je("");const Tg=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _n(t){if(Ce(!!t),typeof t=="string"){let e=0;const n=Tg.exec(t);if(Ce(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ke(t.seconds),nanos:ke(t.nanos)}}function ke(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function bn(t){return typeof t=="string"?Je.fromBase64String(t):Je.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ya(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Os(t){const e=t.mapValue.fields.__previous_value__;return Ya(e)?Os(e):e}function ui(t){const e=_n(t.mapValue.fields.__local_write_time__.timestampValue);return new ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e,n,r,i,s,a,l,h,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=h,this.useFetchStreams=f}}class hi{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new hi("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof hi&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function En(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ya(t)?4:Cg(t)?9007199254740991:Sg(t)?10:11:J()}function Kt(t,e){if(t===e)return!0;const n=En(t);if(n!==En(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ui(t).isEqual(ui(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=_n(i.timestampValue),l=_n(s.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return bn(i.bytesValue).isEqual(bn(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return ke(i.geoPointValue.latitude)===ke(s.geoPointValue.latitude)&&ke(i.geoPointValue.longitude)===ke(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ke(i.integerValue)===ke(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=ke(i.doubleValue),l=ke(s.doubleValue);return a===l?wa(a)===wa(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return gr(t.arrayValue.values||[],e.arrayValue.values||[],Kt);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},l=s.mapValue.fields||{};if(Uc(a)!==Uc(l))return!1;for(const h in a)if(a.hasOwnProperty(h)&&(l[h]===void 0||!Kt(a[h],l[h])))return!1;return!0}(t,e);default:return J()}}function di(t,e){return(t.values||[]).find(n=>Kt(n,e))!==void 0}function yr(t,e){if(t===e)return 0;const n=En(t),r=En(e);if(n!==r)return oe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return oe(t.booleanValue,e.booleanValue);case 2:return function(s,a){const l=ke(s.integerValue||s.doubleValue),h=ke(a.integerValue||a.doubleValue);return l<h?-1:l>h?1:l===h?0:isNaN(l)?isNaN(h)?0:-1:1}(t,e);case 3:return qc(t.timestampValue,e.timestampValue);case 4:return qc(ui(t),ui(e));case 5:return oe(t.stringValue,e.stringValue);case 6:return function(s,a){const l=bn(s),h=bn(a);return l.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const l=s.split("/"),h=a.split("/");for(let f=0;f<l.length&&f<h.length;f++){const p=oe(l[f],h[f]);if(p!==0)return p}return oe(l.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const l=oe(ke(s.latitude),ke(a.latitude));return l!==0?l:oe(ke(s.longitude),ke(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Wc(t.arrayValue,e.arrayValue);case 10:return function(s,a){var l,h,f,p;const y=s.fields||{},T=a.fields||{},S=(l=y.value)===null||l===void 0?void 0:l.arrayValue,C=(h=T.value)===null||h===void 0?void 0:h.arrayValue,I=oe(((f=S==null?void 0:S.values)===null||f===void 0?void 0:f.length)||0,((p=C==null?void 0:C.values)===null||p===void 0?void 0:p.length)||0);return I!==0?I:Wc(S,C)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===Hi.mapValue&&a===Hi.mapValue)return 0;if(s===Hi.mapValue)return 1;if(a===Hi.mapValue)return-1;const l=s.fields||{},h=Object.keys(l),f=a.fields||{},p=Object.keys(f);h.sort(),p.sort();for(let y=0;y<h.length&&y<p.length;++y){const T=oe(h[y],p[y]);if(T!==0)return T;const S=yr(l[h[y]],f[p[y]]);if(S!==0)return S}return oe(h.length,p.length)}(t.mapValue,e.mapValue);default:throw J()}}function qc(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return oe(t,e);const n=_n(t),r=_n(e),i=oe(n.seconds,r.seconds);return i!==0?i:oe(n.nanos,r.nanos)}function Wc(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=yr(n[i],r[i]);if(s)return s}return oe(n.length,r.length)}function vr(t){return Sa(t)}function Sa(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=_n(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return bn(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return X.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Sa(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${Sa(n.fields[a])}`;return i+"}"}(t.mapValue):J()}function ss(t){switch(En(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Os(t);return e?16+ss(e):16;case 5:return 2*t.stringValue.length;case 6:return bn(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+ss(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return _i(r.fields,(s,a)=>{i+=s.length+ss(a)}),i}(t.mapValue);default:throw J()}}function Ca(t){return!!t&&"integerValue"in t}function Ja(t){return!!t&&"arrayValue"in t}function Hc(t){return!!t&&"nullValue"in t}function Kc(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Uo(t){return!!t&&"mapValue"in t}function Sg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ti(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return _i(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ti(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ti(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Cg(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.value=e}static empty(){return new zt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Uo(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ti(n)}setAll(e){let n=lt.emptyPath(),r={},i=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const h=this.getFieldsMap(n);this.applyChanges(h,r,i),r={},i=[],n=l.popLast()}a?r[l.lastSegment()]=ti(a):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Uo(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Kt(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Uo(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){_i(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new zt(ti(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n,r,i,s,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=l}static newInvalidDocument(e){return new ot(e,0,Y.min(),Y.min(),Y.min(),zt.empty(),0)}static newFoundDocument(e,n,r,i){return new ot(e,1,n,Y.min(),r,i,0)}static newNoDocument(e,n){return new ot(e,2,n,Y.min(),Y.min(),zt.empty(),0)}static newUnknownDocument(e,n){return new ot(e,3,n,Y.min(),Y.min(),zt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Y.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Y.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ot&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ot(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e,n){this.position=e,this.inclusive=n}}function Gc(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=X.comparator(X.fromName(a.referenceValue),n.key):r=yr(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Qc(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Kt(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,n="asc"){this.field=e,this.dir=n}}function Ig(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{}class $e extends Zh{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new xg(e,n,r):n==="array-contains"?new kg(e,r):n==="in"?new Dg(e,r):n==="not-in"?new Ng(e,r):n==="array-contains-any"?new Vg(e,r):new $e(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Rg(e,r):new Pg(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(yr(n,this.value)):n!==null&&En(this.value)===En(n)&&this.matchesComparison(yr(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return J()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gt extends Zh{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Gt(e,n)}matches(e){return ed(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function ed(t){return t.op==="and"}function td(t){return Ag(t)&&ed(t)}function Ag(t){for(const e of t.filters)if(e instanceof Gt)return!1;return!0}function Ia(t){if(t instanceof $e)return t.field.canonicalString()+t.op.toString()+vr(t.value);if(td(t))return t.filters.map(e=>Ia(e)).join(",");{const e=t.filters.map(n=>Ia(n)).join(",");return`${t.op}(${e})`}}function nd(t,e){return t instanceof $e?function(r,i){return i instanceof $e&&r.op===i.op&&r.field.isEqual(i.field)&&Kt(r.value,i.value)}(t,e):t instanceof Gt?function(r,i){return i instanceof Gt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,l)=>s&&nd(a,i.filters[l]),!0):!1}(t,e):void J()}function rd(t){return t instanceof $e?function(n){return`${n.field.canonicalString()} ${n.op} ${vr(n.value)}`}(t):t instanceof Gt?function(n){return n.op.toString()+" {"+n.getFilters().map(rd).join(" ,")+"}"}(t):"Filter"}class xg extends $e{constructor(e,n,r){super(e,n,r),this.key=X.fromName(r.referenceValue)}matches(e){const n=X.comparator(e.key,this.key);return this.matchesComparison(n)}}class Rg extends $e{constructor(e,n){super(e,"in",n),this.keys=id("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Pg extends $e{constructor(e,n){super(e,"not-in",n),this.keys=id("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function id(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>X.fromName(r.referenceValue))}class kg extends $e{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ja(n)&&di(n.arrayValue,this.value)}}class Dg extends $e{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&di(this.value.arrayValue,n)}}class Ng extends $e{constructor(e,n){super(e,"not-in",n)}matches(e){if(di(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!di(this.value.arrayValue,n)}}class Vg extends $e{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ja(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>di(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e,n=null,r=[],i=[],s=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=l,this.ue=null}}function Xc(t,e=null,n=[],r=[],i=null,s=null,a=null){return new Mg(t,e,n,r,i,s,a)}function Za(t){const e=ie(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ia(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Ms(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>vr(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>vr(r)).join(",")),e.ue=n}return e.ue}function el(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Ig(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!nd(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Qc(t.startAt,e.startAt)&&Qc(t.endAt,e.endAt)}function Aa(t){return X.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,n=null,r=[],i=[],s=null,a="F",l=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=h,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Og(t,e,n,r,i,s,a,l){return new Ls(t,e,n,r,i,s,a,l)}function sd(t){return new Ls(t)}function Yc(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Lg(t){return t.collectionGroup!==null}function ni(t){const e=ie(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new qe(lt.comparator);return a.filters.forEach(h=>{h.getFlattenedFilters().forEach(f=>{f.isInequality()&&(l=l.add(f.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new ys(s,r))}),n.has(lt.keyField().canonicalString())||e.ce.push(new ys(lt.keyField(),r))}return e.ce}function Wt(t){const e=ie(t);return e.le||(e.le=Bg(e,ni(t))),e.le}function Bg(t,e){if(t.limitType==="F")return Xc(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new ys(i.field,s)});const n=t.endAt?new gs(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new gs(t.startAt.position,t.startAt.inclusive):null;return Xc(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function xa(t,e,n){return new Ls(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Bs(t,e){return el(Wt(t),Wt(e))&&t.limitType===e.limitType}function od(t){return`${Za(Wt(t))}|lt:${t.limitType}`}function sr(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>rd(i)).join(", ")}]`),Ms(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>vr(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>vr(i)).join(",")),`Target(${r})`}(Wt(t))}; limitType=${t.limitType})`}function Fs(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):X.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of ni(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,l,h){const f=Gc(a,l,h);return a.inclusive?f<=0:f<0}(r.startAt,ni(r),i)||r.endAt&&!function(a,l,h){const f=Gc(a,l,h);return a.inclusive?f>=0:f>0}(r.endAt,ni(r),i))}(t,e)}function Fg(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ad(t){return(e,n)=>{let r=!1;for(const i of ni(t)){const s=$g(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function $g(t,e,n){const r=t.field.isKeyField()?X.comparator(e.key,n.key):function(s,a,l){const h=a.data.field(s),f=l.data.field(s);return h!==null&&f!==null?yr(h,f):J()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return J()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){_i(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Eg(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jg=new Ne(X.comparator);function Tn(){return jg}const ld=new Ne(X.comparator);function Xr(...t){let e=ld;for(const n of t)e=e.insert(n.key,n);return e}function Ug(t){let e=ld;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Vn(){return ri()}function cd(){return ri()}function ri(){return new Un(t=>t.toString(),(t,e)=>t.isEqual(e))}const zg=new qe(X.comparator);function ae(...t){let e=zg;for(const n of t)e=e.add(n);return e}const qg=new qe(oe);function Wg(){return qg}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wa(e)?"-0":e}}function Kg(t){return{integerValue:""+t}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(){this._=void 0}}function Gg(t,e,n){return t instanceof Ra?function(i,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Ya(s)&&(s=Os(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(n,e):t instanceof vs?ud(t,e):t instanceof _s?hd(t,e):function(i,s){const a=Xg(i,s),l=Jc(a)+Jc(i.Pe);return Ca(a)&&Ca(i.Pe)?Kg(l):Hg(i.serializer,l)}(t,e)}function Qg(t,e,n){return t instanceof vs?ud(t,e):t instanceof _s?hd(t,e):n}function Xg(t,e){return t instanceof Pa?function(r){return Ca(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Ra extends $s{}class vs extends $s{constructor(e){super(),this.elements=e}}function ud(t,e){const n=dd(e);for(const r of t.elements)n.some(i=>Kt(i,r))||n.push(r);return{arrayValue:{values:n}}}class _s extends $s{constructor(e){super(),this.elements=e}}function hd(t,e){let n=dd(e);for(const r of t.elements)n=n.filter(i=>!Kt(i,r));return{arrayValue:{values:n}}}class Pa extends $s{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Jc(t){return ke(t.integerValue||t.doubleValue)}function dd(t){return Ja(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Yg(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof vs&&i instanceof vs||r instanceof _s&&i instanceof _s?gr(r.elements,i.elements,Kt):r instanceof Pa&&i instanceof Pa?Kt(r.Pe,i.Pe):r instanceof Ra&&i instanceof Ra}(t.transform,e.transform)}class Bn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Bn}static exists(e){return new Bn(void 0,e)}static updateTime(e){return new Bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function os(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class tl{}function fd(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Zg(t.key,Bn.none()):new nl(t.key,t.data,Bn.none());{const n=t.data,r=zt.empty();let i=new qe(lt.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new js(t.key,r,new pn(i.toArray()),Bn.none())}}function Jg(t,e,n){t instanceof nl?function(i,s,a){const l=i.value.clone(),h=eu(i.fieldTransforms,s,a.transformResults);l.setAll(h),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof js?function(i,s,a){if(!os(i.precondition,s))return void s.convertToUnknownDocument(a.version);const l=eu(i.fieldTransforms,s,a.transformResults),h=s.data;h.setAll(pd(i)),h.setAll(l),s.convertToFoundDocument(a.version,h).setHasCommittedMutations()}(t,e,n):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function ii(t,e,n,r){return t instanceof nl?function(s,a,l,h){if(!os(s.precondition,a))return l;const f=s.value.clone(),p=tu(s.fieldTransforms,h,a);return f.setAll(p),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),null}(t,e,n,r):t instanceof js?function(s,a,l,h){if(!os(s.precondition,a))return l;const f=tu(s.fieldTransforms,h,a),p=a.data;return p.setAll(pd(s)),p.setAll(f),a.convertToFoundDocument(a.version,p).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(y=>y.field))}(t,e,n,r):function(s,a,l){return os(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function Zc(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&gr(r,i,(s,a)=>Yg(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class nl extends tl{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class js extends tl{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function pd(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function eu(t,e,n){const r=new Map;Ce(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,l=e.data.field(s.field);r.set(s.field,Qg(a,l,n[i]))}return r}function tu(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,Gg(s,a,e))}return r}class Zg extends tl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Jg(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ii(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ii(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=cd();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let l=this.applyToLocalView(a,s.mutatedFields);l=n.has(i.key)?null:l;const h=fd(a,l);h!==null&&r.set(i.key,h),a.isValidDocument()||a.convertToNoDocument(Y.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ae())}isEqual(e){return this.batchId===e.batchId&&gr(this.mutations,e.mutations,(n,r)=>Zc(n,r))&&gr(this.baseMutations,e.baseMutations,(n,r)=>Zc(n,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe,ne;function md(t){if(t===void 0)return sn("GRPC error has no .code"),U.UNKNOWN;switch(t){case Oe.OK:return U.OK;case Oe.CANCELLED:return U.CANCELLED;case Oe.UNKNOWN:return U.UNKNOWN;case Oe.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case Oe.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case Oe.INTERNAL:return U.INTERNAL;case Oe.UNAVAILABLE:return U.UNAVAILABLE;case Oe.UNAUTHENTICATED:return U.UNAUTHENTICATED;case Oe.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case Oe.NOT_FOUND:return U.NOT_FOUND;case Oe.ALREADY_EXISTS:return U.ALREADY_EXISTS;case Oe.PERMISSION_DENIED:return U.PERMISSION_DENIED;case Oe.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case Oe.ABORTED:return U.ABORTED;case Oe.OUT_OF_RANGE:return U.OUT_OF_RANGE;case Oe.UNIMPLEMENTED:return U.UNIMPLEMENTED;case Oe.DATA_LOSS:return U.DATA_LOSS;default:return J()}}(ne=Oe||(Oe={}))[ne.OK=0]="OK",ne[ne.CANCELLED=1]="CANCELLED",ne[ne.UNKNOWN=2]="UNKNOWN",ne[ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ne[ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ne[ne.NOT_FOUND=5]="NOT_FOUND",ne[ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",ne[ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",ne[ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",ne[ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ne[ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ne[ne.ABORTED=10]="ABORTED",ne[ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",ne[ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",ne[ne.INTERNAL=13]="INTERNAL",ne[ne.UNAVAILABLE=14]="UNAVAILABLE",ne[ne.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ry(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy=new On([4294967295,4294967295],0);function nu(t){const e=ry().encode(t),n=new Wh;return n.update(e),new Uint8Array(n.digest())}function ru(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new On([n,r],0),new On([i,s],0)]}class rl{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Yr(`Invalid padding: ${n}`);if(r<0)throw new Yr(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Yr(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Yr(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=On.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(On.fromNumber(r)));return i.compare(iy)===1&&(i=new On([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=nu(e),[r,i]=ru(n);for(let s=0;s<this.hashCount;s++){const a=this.Ee(r,i,s);if(!this.de(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new rl(s,i,n);return r.forEach(l=>a.insert(l)),a}insert(e){if(this.Ie===0)return;const n=nu(e),[r,i]=ru(n);for(let s=0;s<this.hashCount;s++){const a=this.Ee(r,i,s);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Yr extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,bi.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Us(Y.min(),i,new Ne(oe),Tn(),ae())}}class bi{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new bi(r,n,ae(),ae(),ae())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class gd{constructor(e,n){this.targetId=e,this.me=n}}class yd{constructor(e,n,r=Je.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class iu{constructor(){this.fe=0,this.ge=ou(),this.pe=Je.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ae(),n=ae(),r=ae();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:J()}}),new bi(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=ou()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ce(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class sy{constructor(e){this.Le=e,this.Be=new Map,this.ke=Tn(),this.qe=su(),this.Qe=new Ne(oe)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:J()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Aa(s))if(r===0){const a=new X(s.path);this.Ue(n,a,ot.newNoDocument(a,Y.min()))}else Ce(r===1);else{const a=this.Ye(n);if(a!==r){const l=this.Ze(e),h=l?this.Xe(l,e,a):1;if(h!==0){this.je(n);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,f)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,l;try{a=bn(r).toUint8Array()}catch(h){if(h instanceof Jh)return mr("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{l=new rl(a,i,s)}catch(h){return mr(h instanceof Yr?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const a=this.Le.tt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,a)=>{const l=this.Je(a);if(l){if(s.current&&Aa(l.target)){const h=new X(l.target.path);this.ke.get(h)!==null||this.it(a,h)||this.Ue(a,h,ot.newNoDocument(h,e))}s.be&&(n.set(a,s.ve()),s.Ce())}});let r=ae();this.qe.forEach((s,a)=>{let l=!0;a.forEachWhile(h=>{const f=this.Je(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.ke.forEach((s,a)=>a.setReadTime(e));const i=new Us(e,n,this.Qe,this.ke,r);return this.ke=Tn(),this.qe=su(),this.Qe=new Ne(oe),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new iu,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new qe(oe),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||q("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new iu),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function su(){return new Ne(X.comparator)}function ou(){return new Ne(X.comparator)}const oy={asc:"ASCENDING",desc:"DESCENDING"},ay={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ly={and:"AND",or:"OR"};class cy{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ka(t,e){return t.useProto3Json||Ms(e)?e:{value:e}}function uy(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hy(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ur(t){return Ce(!!t),Y.fromTimestamp(function(n){const r=_n(n);return new ft(r.seconds,r.nanos)}(t))}function dy(t,e){return Da(t,e).canonicalString()}function Da(t,e){const n=function(i){return new Re(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function vd(t){const e=Re.fromString(t);return Ce(wd(e)),e}function zo(t,e){const n=vd(e);if(n.get(1)!==t.databaseId.projectId)throw new G(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new G(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new X(bd(n))}function _d(t,e){return dy(t.databaseId,e)}function fy(t){const e=vd(t);return e.length===4?Re.emptyPath():bd(e)}function au(t){return new Re(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function bd(t){return Ce(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function py(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:J()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(f,p){return f.useProto3Json?(Ce(p===void 0||typeof p=="string"),Je.fromBase64String(p||"")):(Ce(p===void 0||p instanceof Buffer||p instanceof Uint8Array),Je.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(f){const p=f.code===void 0?U.UNKNOWN:md(f.code);return new G(p,f.message||"")}(a);n=new yd(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=zo(t,r.document.name),s=ur(r.document.updateTime),a=r.document.createTime?ur(r.document.createTime):Y.min(),l=new zt({mapValue:{fields:r.document.fields}}),h=ot.newFoundDocument(i,s,a,l),f=r.targetIds||[],p=r.removedTargetIds||[];n=new as(f,p,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=zo(t,r.document),s=r.readTime?ur(r.readTime):Y.min(),a=ot.newNoDocument(i,s),l=r.removedTargetIds||[];n=new as([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=zo(t,r.document),s=r.removedTargetIds||[];n=new as([],s,i,null)}else{if(!("filter"in e))return J();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new ny(i,s),l=r.targetId;n=new gd(l,a)}}return n}function my(t,e){return{documents:[_d(t,e.path)]}}function gy(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=_d(t,i);const s=function(f){if(f.length!==0)return Td(Gt.create(f,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(f){if(f.length!==0)return f.map(p=>function(T){return{field:or(T.field),direction:_y(T.dir)}}(p))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=ka(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{_t:n,parent:i}}function yy(t){let e=fy(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ce(r===1);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=function(y){const T=Ed(y);return T instanceof Gt&&td(T)?T.getFilters():[T]}(n.where));let a=[];n.orderBy&&(a=function(y){return y.map(T=>function(C){return new ys(ar(C.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(T))}(n.orderBy));let l=null;n.limit&&(l=function(y){let T;return T=typeof y=="object"?y.value:y,Ms(T)?null:T}(n.limit));let h=null;n.startAt&&(h=function(y){const T=!!y.before,S=y.values||[];return new gs(S,T)}(n.startAt));let f=null;return n.endAt&&(f=function(y){const T=!y.before,S=y.values||[];return new gs(S,T)}(n.endAt)),Og(e,i,a,s,l,"F",h,f)}function vy(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return J()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Ed(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ar(n.unaryFilter.field);return $e.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ar(n.unaryFilter.field);return $e.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ar(n.unaryFilter.field);return $e.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=ar(n.unaryFilter.field);return $e.create(a,"!=",{nullValue:"NULL_VALUE"});default:return J()}}(t):t.fieldFilter!==void 0?function(n){return $e.create(ar(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return J()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Gt.create(n.compositeFilter.filters.map(r=>Ed(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return J()}}(n.compositeFilter.op))}(t):J()}function _y(t){return oy[t]}function by(t){return ay[t]}function Ey(t){return ly[t]}function or(t){return{fieldPath:t.canonicalString()}}function ar(t){return lt.fromServerFormat(t.fieldPath)}function Td(t){return t instanceof $e?function(n){if(n.op==="=="){if(Kc(n.value))return{unaryFilter:{field:or(n.field),op:"IS_NAN"}};if(Hc(n.value))return{unaryFilter:{field:or(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Kc(n.value))return{unaryFilter:{field:or(n.field),op:"IS_NOT_NAN"}};if(Hc(n.value))return{unaryFilter:{field:or(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:or(n.field),op:by(n.op),value:n.value}}}(t):t instanceof Gt?function(n){const r=n.getFilters().map(i=>Td(i));return r.length===1?r[0]:{compositeFilter:{op:Ey(n.op),filters:r}}}(t):J()}function wd(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e,n,r,i,s=Y.min(),a=Y.min(),l=Je.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=h}withSequenceNumber(e){return new mn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new mn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new mn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new mn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(e){this.ct=e}}function wy(t){const e=yy({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?xa(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(){this.un=new Cy}addToCollectionParentIndex(e,n){return this.un.add(n),O.resolve()}getCollectionParents(e,n){return O.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return O.resolve()}deleteFieldIndex(e,n){return O.resolve()}deleteAllFieldIndexes(e){return O.resolve()}createTargetIndexes(e,n){return O.resolve()}getDocumentsMatchingTarget(e,n){return O.resolve(null)}getIndexType(e,n){return O.resolve(0)}getFieldIndexes(e,n){return O.resolve([])}getNextCollectionGroupToUpdate(e){return O.resolve(null)}getMinOffset(e,n){return O.resolve(vn.min())}getMinOffsetFromCollectionGroup(e,n){return O.resolve(vn.min())}updateCollectionGroup(e,n,r){return O.resolve()}updateIndexEntries(e,n){return O.resolve()}}class Cy{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new qe(Re.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new qe(Re.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class dt{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new dt(e,dt.DEFAULT_COLLECTION_PERCENTILE,dt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dt.DEFAULT_COLLECTION_PERCENTILE=10,dt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dt.DEFAULT=new dt(41943040,dt.DEFAULT_COLLECTION_PERCENTILE,dt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dt.DISABLED=new dt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new _r(0)}static kn(){return new _r(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu([t,e],[n,r]){const i=oe(t,n);return i===0?oe(e,r):i}class Iy{constructor(e){this.Un=e,this.buffer=new qe(cu),this.Wn=0}Gn(){return++this.Wn}zn(e){const n=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();cu(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Ay{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){q("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Cr(n)?q("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Ns(n)}await this.Hn(3e5)})}}class xy{constructor(e,n){this.Jn=e,this.params=n}calculateTargetCount(e,n){return this.Jn.Yn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return O.resolve(Vs.oe);const r=new Iy(n);return this.Jn.forEachTarget(e,i=>r.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>r.zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(q("LruGarbageCollector","Garbage collection skipped; disabled"),O.resolve(lu)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(q("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lu):this.Xn(e,n))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,n){let r,i,s,a,l,h,f;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),i=this.params.maximumSequenceNumbersToCollect):i=y,a=Date.now(),this.nthSequenceNumber(e,i))).next(y=>(r=y,l=Date.now(),this.removeTargets(e,r,n))).next(y=>(s=y,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(y=>(f=Date.now(),ir()<=re.DEBUG&&q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-p}ms
	Determined least recently used ${i} in `+(l-a)+`ms
	Removed ${s} targets in `+(h-l)+`ms
	Removed ${y} documents in `+(f-h)+`ms
Total Duration: ${f-p}ms`),O.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:y})))}}function Ry(t,e){return new xy(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(){this.changes=new Un(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ot.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?O.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ii(r.mutation,i,pn.empty(),ft.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ae()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ae()){const i=Vn();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let a=Xr();return s.forEach((l,h)=>{a=a.insert(l,h.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Vn();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ae()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,r,i){let s=Tn();const a=ri(),l=function(){return ri()}();return n.forEach((h,f)=>{const p=r.get(f.key);i.has(f.key)&&(p===void 0||p.mutation instanceof js)?s=s.insert(f.key,f):p!==void 0?(a.set(f.key,p.mutation.getFieldMask()),ii(p.mutation,f,p.mutation.getFieldMask(),ft.now())):a.set(f.key,pn.empty())}),this.recalculateAndSaveOverlays(e,s).next(h=>(h.forEach((f,p)=>a.set(f,p)),n.forEach((f,p)=>{var y;return l.set(f,new ky(p,(y=a.get(f))!==null&&y!==void 0?y:null))}),l))}recalculateAndSaveOverlays(e,n){const r=ri();let i=new Ne((a,l)=>a-l),s=ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(h=>{const f=n.get(h);if(f===null)return;let p=r.get(h)||pn.empty();p=l.applyToLocalView(f,p),r.set(h,p);const y=(i.get(l.batchId)||ae()).add(h);i=i.insert(l.batchId,y)})}).next(()=>{const a=[],l=i.getReverseIterator();for(;l.hasNext();){const h=l.getNext(),f=h.key,p=h.value,y=cd();p.forEach(T=>{if(!s.has(T)){const S=fd(n.get(T),r.get(T));S!==null&&y.set(T,S),s=s.add(T)}}),a.push(this.documentOverlayCache.saveOverlays(e,f,y))}return O.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return X.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Lg(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):O.resolve(Vn());let l=-1,h=s;return a.next(f=>O.forEach(f,(p,y)=>(l<y.largestBatchId&&(l=y.largestBatchId),s.get(p)?O.resolve():this.remoteDocumentCache.getEntry(e,p).next(T=>{h=h.insert(p,T)}))).next(()=>this.populateOverlays(e,f,s)).next(()=>this.computeViews(e,h,f,ae())).next(p=>({batchId:l,changes:Ug(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new X(n)).next(r=>{let i=Xr();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=Xr();return this.indexManager.getCollectionParents(e,s).next(l=>O.forEach(l,h=>{const f=function(y,T){return new Ls(T,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(n,h.child(s));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(p=>{p.forEach((y,T)=>{a=a.insert(y,T)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(a=>{s.forEach((h,f)=>{const p=f.getKey();a.get(p)===null&&(a=a.insert(p,ot.newInvalidDocument(p)))});let l=Xr();return a.forEach((h,f)=>{const p=s.get(h);p!==void 0&&ii(p.mutation,f,pn.empty(),ft.now()),Fs(n,f)&&(l=l.insert(h,f))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return O.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ur(i.createTime)}}(n)),O.resolve()}getNamedQuery(e,n){return O.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:wy(i.bundledQuery),readTime:ur(i.readTime)}}(n)),O.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(){this.overlays=new Ne(X.comparator),this.Ir=new Map}getOverlay(e,n){return O.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Vn();return O.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),O.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),O.resolve()}getOverlaysForCollection(e,n,r){const i=Vn(),s=n.length+1,a=new X(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const h=l.getNext().value,f=h.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===s&&h.largestBatchId>r&&i.set(h.getKey(),h)}return O.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ne((f,p)=>f-p);const a=this.overlays.getIterator();for(;a.hasNext();){const f=a.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let p=s.get(f.largestBatchId);p===null&&(p=Vn(),s=s.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const l=Vn(),h=s.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((f,p)=>l.set(f,p)),!(l.size()>=i)););return O.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new ty(n,r));let s=this.Ir.get(n);s===void 0&&(s=ae(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(){this.sessionToken=Je.EMPTY_BYTE_STRING}getSessionToken(e){return O.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,O.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(){this.Tr=new qe(ze.Er),this.dr=new qe(ze.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new ze(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new ze(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new X(new Re([])),r=new ze(n,e),i=new ze(n,e+1),s=[];return this.dr.forEachInRange([r,i],a=>{this.Vr(a),s.push(a.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new X(new Re([])),r=new ze(n,e),i=new ze(n,e+1);let s=ae();return this.dr.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new ze(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ze{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return X.comparator(e.key,n.key)||oe(e.wr,n.wr)}static Ar(e,n){return oe(e.wr,n.wr)||X.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new qe(ze.Er)}checkEmpty(e){return O.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new ey(s,n,r,i);this.mutationQueue.push(a);for(const l of i)this.br=this.br.add(new ze(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return O.resolve(a)}lookupMutationBatch(e,n){return O.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return O.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ze(n,0),i=new ze(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],a=>{const l=this.Dr(a.wr);s.push(l)}),O.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new qe(oe);return n.forEach(i=>{const s=new ze(i,0),a=new ze(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,a],l=>{r=r.add(l.wr)})}),O.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;X.isDocumentKey(s)||(s=s.child(""));const a=new ze(new X(s),0);let l=new qe(oe);return this.br.forEachWhile(h=>{const f=h.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(l=l.add(h.wr)),!0)},a),O.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ce(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return O.forEach(n.mutations,i=>{const s=new ze(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new ze(n,0),i=this.br.firstAfterOrEqual(r);return O.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,O.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(e){this.Mr=e,this.docs=function(){return new Ne(X.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return O.resolve(r?r.document.mutableCopy():ot.newInvalidDocument(n))}getEntries(e,n){let r=Tn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ot.newInvalidDocument(i))}),O.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Tn();const a=n.path,l=new X(a.child("")),h=this.docs.getIteratorFrom(l);for(;h.hasNext();){const{key:f,value:{document:p}}=h.getNext();if(!a.isPrefixOf(f.path))break;f.path.length>a.length+1||mg(pg(p),r)<=0||(i.has(p.key)||Fs(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return O.resolve(s)}getAllFromCollectionGroup(e,n,r,i){J()}Or(e,n){return O.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new By(this)}getSize(e){return O.resolve(this.size)}}class By extends Py{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),O.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(e){this.persistence=e,this.Nr=new Un(n=>Za(n),el),this.lastRemoteSnapshotVersion=Y.min(),this.highestTargetId=0,this.Lr=0,this.Br=new il,this.targetCount=0,this.kr=_r.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),O.resolve()}getLastRemoteSnapshotVersion(e){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return O.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),O.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new _r(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,O.resolve()}updateTargetData(e,n){return this.Kn(n),O.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,O.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Nr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),O.waitFor(s).next(()=>i)}getTargetCount(e){return O.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return O.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),O.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),O.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),O.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return O.resolve(r)}containsKey(e,n){return O.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Vs(0),this.Kr=!1,this.Kr=!0,this.$r=new My,this.referenceDelegate=e(this),this.Ur=new Fy(this),this.indexManager=new Sy,this.remoteDocumentCache=function(i){return new Ly(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Ty(n),this.Gr=new Ny(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Vy,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Oy(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){q("MemoryPersistence","Starting transaction:",e);const i=new $y(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return O.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class $y extends yg{constructor(e){super(),this.currentSequenceNumber=e}}class sl{constructor(e){this.persistence=e,this.Jr=new il,this.Yr=null}static Zr(e){return new sl(e)}get Xr(){if(this.Yr)return this.Yr;throw J()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),O.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),O.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),O.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.Xr,r=>{const i=X.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,Y.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return O.or([()=>O.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}class bs{constructor(e,n){this.persistence=e,this.ti=new Un(r=>_g(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Ry(this,n)}static Zr(e,n){return new bs(e,n)}zr(){}jr(e){return O.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Yn(e){const n=this.er(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}er(e){let n=0;return this.Zn(e,r=>{n++}).next(()=>n)}Zn(e,n){return O.forEach(this.ti,(r,i)=>this.nr(e,r,i).next(s=>s?O.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Or(e,a=>this.nr(e,a,n).next(l=>{l||(r++,s.removeEntry(a,Y.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ti.set(n,e.currentSequenceNumber),O.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ti.set(r,e.currentSequenceNumber),O.resolve()}removeReference(e,n,r){return this.ti.set(r,e.currentSequenceNumber),O.resolve()}updateLimboDocument(e,n){return this.ti.set(n,e.currentSequenceNumber),O.resolve()}Wr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ss(e.data.value)),n}nr(e,n,r){return O.or([()=>this.persistence.Hr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.ti.get(n);return O.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ae(),i=ae();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new ol(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Bp()?8:vg(Op())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new jy;return this.Xi(e,n,a).next(l=>{if(s.result=l,this.zi)return this.es(e,n,a,l.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(ir()<=re.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",sr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),O.resolve()):(ir()<=re.DEBUG&&q("QueryEngine","Query:",sr(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(ir()<=re.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",sr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wt(n))):O.resolve())}Yi(e,n){if(Yc(n))return O.resolve(null);let r=Wt(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=xa(n,null,"F"),r=Wt(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=ae(...s);return this.Ji.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,r).next(h=>{const f=this.ts(n,l);return this.ns(n,f,a,h.readTime)?this.Yi(e,xa(n,null,"F")):this.rs(e,f,n,h)}))})))}Zi(e,n,r,i){return Yc(n)||i.isEqual(Y.min())?O.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const a=this.ts(n,s);return this.ns(n,a,r,i)?O.resolve(null):(ir()<=re.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),sr(n)),this.rs(e,a,n,fg(i,-1)).next(l=>l))})}ts(e,n){let r=new qe(ad(e));return n.forEach((i,s)=>{Fs(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return ir()<=re.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",sr(n)),this.Ji.getDocumentsMatchingQuery(e,n,vn.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Ne(oe),this._s=new Un(s=>Za(s),el),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Dy(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function qy(t,e,n,r){return new zy(t,e,n,r)}async function Cd(t,e){const n=ie(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],l=[];let h=ae();for(const f of i){a.push(f.batchId);for(const p of f.mutations)h=h.add(p.key)}for(const f of s){l.push(f.batchId);for(const p of f.mutations)h=h.add(p.key)}return n.localDocuments.getDocuments(r,h).next(f=>({hs:f,removedBatchIds:a,addedBatchIds:l}))})})}function Id(t){const e=ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function Wy(t,e){const n=ie(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const l=[];e.targetChanges.forEach((p,y)=>{const T=i.get(y);if(!T)return;l.push(n.Ur.removeMatchingKeys(s,p.removedDocuments,y).next(()=>n.Ur.addMatchingKeys(s,p.addedDocuments,y)));let S=T.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(y)!==null?S=S.withResumeToken(Je.EMPTY_BYTE_STRING,Y.min()).withLastLimboFreeSnapshotVersion(Y.min()):p.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(p.resumeToken,r)),i=i.insert(y,S),function(I,x,L){return I.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(T,S,p)&&l.push(n.Ur.updateTargetData(s,S))});let h=Tn(),f=ae();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))}),l.push(Hy(s,a,e.documentUpdates).next(p=>{h=p.Ps,f=p.Is})),!r.isEqual(Y.min())){const p=n.Ur.getLastRemoteSnapshotVersion(s).next(y=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(p)}return O.waitFor(l).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,h,f)).next(()=>h)}).then(s=>(n.os=i,s))}function Hy(t,e,n){let r=ae(),i=ae();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let a=Tn();return n.forEach((l,h)=>{const f=s.get(l);h.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(l)),h.isNoDocument()&&h.version.isEqual(Y.min())?(e.removeEntry(l,h.readTime),a=a.insert(l,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),a=a.insert(l,h)):q("LocalStore","Ignoring outdated watch update for ",l,". Current version:",f.version," Watch version:",h.version)}),{Ps:a,Is:i}})}function Ky(t,e){const n=ie(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,O.resolve(i)):n.Ur.allocateTargetId(r).next(a=>(i=new mn(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Na(t,e,n){const r=ie(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Cr(a))throw a;q("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function uu(t,e,n){const r=ie(t);let i=Y.min(),s=ae();return r.persistence.runTransaction("Execute query","readwrite",a=>function(h,f,p){const y=ie(h),T=y._s.get(p);return T!==void 0?O.resolve(y.os.get(T)):y.Ur.getTargetData(f,p)}(r,a,Wt(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,l.targetId).next(h=>{s=h})}).next(()=>r.ss.getDocumentsMatchingQuery(a,e,n?i:Y.min(),n?s:ae())).next(l=>(Gy(r,Fg(e),l),{documents:l,Ts:s})))}function Gy(t,e,n){let r=t.us.get(e)||Y.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class hu{constructor(){this.activeTargetIds=Wg()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Qy{constructor(){this.so=new hu,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new hu,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ki=null;function qo(){return Ki===null?Ki=function(){return 268435456+Math.round(2147483648*Math.random())}():Ki++,"0x"+Ki.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rt="WebChannelConnection";class Zy extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,a){const l=qo(),h=this.xo(n,r.toUriEncodedString());q("RestConnection",`Sending RPC '${n}' ${l}:`,h,i);const f={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(f,s,a),this.No(n,h,f,i).then(p=>(q("RestConnection",`Received RPC '${n}' ${l}: `,p),p),p=>{throw mr("RestConnection",`RPC '${n}' ${l} failed with error: `,p,"url: ",h,"request:",i),p})}Lo(n,r,i,s,a,l){return this.Mo(n,r,i,s,a)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Sr}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,a)=>n[a]=s),i&&i.headers.forEach((s,a)=>n[a]=s)}xo(n,r){const i=Yy[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=qo();return new Promise((a,l)=>{const h=new Hh;h.setWithCredentials(!0),h.listenOnce(Kh.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case is.NO_ERROR:const p=h.getResponseJson();q(rt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case is.TIMEOUT:q(rt,`RPC '${e}' ${s} timed out`),l(new G(U.DEADLINE_EXCEEDED,"Request time out"));break;case is.HTTP_ERROR:const y=h.getStatus();if(q(rt,`RPC '${e}' ${s} failed with status:`,y,"response text:",h.getResponseText()),y>0){let T=h.getResponseJson();Array.isArray(T)&&(T=T[0]);const S=T==null?void 0:T.error;if(S&&S.status&&S.message){const C=function(x){const L=x.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(L)>=0?L:U.UNKNOWN}(S.status);l(new G(C,S.message))}else l(new G(U.UNKNOWN,"Server responded with status "+h.getStatus()))}else l(new G(U.UNAVAILABLE,"Connection failed."));break;default:J()}}finally{q(rt,`RPC '${e}' ${s} completed.`)}});const f=JSON.stringify(i);q(rt,`RPC '${e}' ${s} sending request:`,i),h.send(n,"POST",f,r,15)})}Bo(e,n,r){const i=qo(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Xh(),l=Qh(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Oo(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const p=s.join("");q(rt,`Creating RPC '${e}' stream ${i}: ${p}`,h);const y=a.createWebChannel(p,h);let T=!1,S=!1;const C=new Jy({Io:x=>{S?q(rt,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(T||(q(rt,`Opening RPC '${e}' stream ${i} transport.`),y.open(),T=!0),q(rt,`RPC '${e}' stream ${i} sending:`,x),y.send(x))},To:()=>y.close()}),I=(x,L,M)=>{x.listen(L,P=>{try{M(P)}catch(D){setTimeout(()=>{throw D},0)}})};return I(y,Qr.EventType.OPEN,()=>{S||(q(rt,`RPC '${e}' stream ${i} transport opened.`),C.yo())}),I(y,Qr.EventType.CLOSE,()=>{S||(S=!0,q(rt,`RPC '${e}' stream ${i} transport closed`),C.So())}),I(y,Qr.EventType.ERROR,x=>{S||(S=!0,mr(rt,`RPC '${e}' stream ${i} transport errored:`,x),C.So(new G(U.UNAVAILABLE,"The operation could not be completed")))}),I(y,Qr.EventType.MESSAGE,x=>{var L;if(!S){const M=x.data[0];Ce(!!M);const P=M,D=P.error||((L=P[0])===null||L===void 0?void 0:L.error);if(D){q(rt,`RPC '${e}' stream ${i} received error:`,D);const $=D.status;let B=function(E){const c=Oe[E];if(c!==void 0)return md(c)}($),_=D.message;B===void 0&&(B=U.INTERNAL,_="Unknown error status: "+$+" with message "+D.message),S=!0,C.So(new G(B,_)),y.close()}else q(rt,`RPC '${e}' stream ${i} received:`,M),C.bo(M)}}),I(l,Gh.STAT_EVENT,x=>{x.stat===Ta.PROXY?q(rt,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===Ta.NOPROXY&&q(rt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.wo()},0),C}}function Wo(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ad(t){return new cy(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e,n,r,i,s,a,l,h){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=h,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new xd(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(sn(n.toString()),sn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new G(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class t0 extends e0{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=py(this.serializer,e),r=function(s){if(!("targetChange"in s))return Y.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Y.min():a.readTime?ur(a.readTime):Y.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=au(this.serializer),n.addTarget=function(s,a){let l;const h=a.target;if(l=Aa(h)?{documents:my(s,h)}:{query:gy(s,h)._t},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=hy(s,a.resumeToken);const f=ka(s,a.expectedCount);f!==null&&(l.expectedCount=f)}else if(a.snapshotVersion.compareTo(Y.min())>0){l.readTime=uy(s,a.snapshotVersion.toTimestamp());const f=ka(s,a.expectedCount);f!==null&&(l.expectedCount=f)}return l}(this.serializer,e);const r=vy(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=au(this.serializer),n.removeTarget=e,this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new G(U.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Mo(e,Da(n,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new G(U.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Lo(e,Da(n,r),i,a,l,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new G(U.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class r0{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(sn(n),this.D_=!1):q("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(a=>{r.enqueueAndForget(async()=>{Ti(this)&&(q("RemoteStore","Restarting streams for network reachability change."),await async function(h){const f=ie(h);f.L_.add(4),await Ei(f),f.q_.set("Unknown"),f.L_.delete(4),await zs(f)}(this))})}),this.q_=new r0(r,i)}}async function zs(t){if(Ti(t))for(const e of t.B_)await e(!0)}async function Ei(t){for(const e of t.B_)await e(!1)}function Rd(t,e){const n=ie(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),ul(n)?cl(n):Ir(n).r_()&&ll(n,e))}function al(t,e){const n=ie(t),r=Ir(n);n.N_.delete(e),r.r_()&&Pd(n,e),n.N_.size===0&&(r.r_()?r.o_():Ti(n)&&n.q_.set("Unknown"))}function ll(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Y.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ir(t).A_(e)}function Pd(t,e){t.Q_.xe(e),Ir(t).R_(e)}function cl(t){t.Q_=new sy({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ir(t).start(),t.q_.v_()}function ul(t){return Ti(t)&&!Ir(t).n_()&&t.N_.size>0}function Ti(t){return ie(t).L_.size===0}function kd(t){t.Q_=void 0}async function s0(t){t.q_.set("Online")}async function o0(t){t.N_.forEach((e,n)=>{ll(t,e)})}async function a0(t,e){kd(t),ul(t)?(t.q_.M_(e),cl(t)):t.q_.set("Unknown")}async function l0(t,e,n){if(t.q_.set("Online"),e instanceof yd&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const l of s.targetIds)i.N_.has(l)&&(await i.remoteSyncer.rejectListen(l,a),i.N_.delete(l),i.Q_.removeTarget(l))}(t,e)}catch(r){q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await fu(t,r)}else if(e instanceof as?t.Q_.Ke(e):e instanceof gd?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Y.min()))try{const r=await Id(t.localStore);n.compareTo(r)>=0&&await function(s,a){const l=s.Q_.rt(a);return l.targetChanges.forEach((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const p=s.N_.get(f);p&&s.N_.set(f,p.withResumeToken(h.resumeToken,a))}}),l.targetMismatches.forEach((h,f)=>{const p=s.N_.get(h);if(!p)return;s.N_.set(h,p.withResumeToken(Je.EMPTY_BYTE_STRING,p.snapshotVersion)),Pd(s,h);const y=new mn(p.target,h,f,p.sequenceNumber);ll(s,y)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){q("RemoteStore","Failed to raise snapshot:",r),await fu(t,r)}}async function fu(t,e,n){if(!Cr(e))throw e;t.L_.add(1),await Ei(t),t.q_.set("Offline"),n||(n=()=>Id(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{q("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await zs(t)})}async function pu(t,e){const n=ie(t);n.asyncQueue.verifyOperationInProgress(),q("RemoteStore","RemoteStore received new credentials");const r=Ti(n);n.L_.add(3),await Ei(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await zs(n)}async function c0(t,e){const n=ie(t);e?(n.L_.delete(2),await zs(n)):e||(n.L_.add(2),await Ei(n),n.q_.set("Unknown"))}function Ir(t){return t.K_||(t.K_=function(n,r,i){const s=ie(n);return s.w_(),new t0(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:s0.bind(null,t),Ro:o0.bind(null,t),mo:a0.bind(null,t),d_:l0.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),ul(t)?cl(t):t.q_.set("Unknown")):(await t.K_.stop(),kd(t))})),t.K_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ln,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,l=new hl(e,n,a,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dd(t,e){if(sn("AsyncQueue",`${e}: ${t}`),Cr(t))return new G(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this.comparator=e?(n,r)=>e(n,r)||X.comparator(n.key,r.key):(n,r)=>X.comparator(n.key,r.key),this.keyedMap=Xr(),this.sortedSet=new Ne(this.comparator)}static emptySet(e){return new hr(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof hr)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new hr;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(){this.W_=new Ne(X.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):J():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class br{constructor(e,n,r,i,s,a,l,h,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new br(e,n,hr.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bs(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class h0{constructor(){this.queries=gu(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=ie(n),s=i.queries;i.queries=gu(),s.forEach((a,l)=>{for(const h of l.j_)h.onError(r)})})(this,new G(U.ABORTED,"Firestore shutting down"))}}function gu(){return new Un(t=>od(t),Bs)}async function d0(t,e){const n=ie(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new u0,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const l=Dd(a,`Initialization of query '${sr(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&dl(n)}async function f0(t,e){const n=ie(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.j_.indexOf(e);a>=0&&(s.j_.splice(a,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function p0(t,e){const n=ie(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const l of a.j_)l.X_(i)&&(r=!0);a.z_=i}}r&&dl(n)}function m0(t,e,n){const r=ie(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function dl(t){t.Y_.forEach(e=>{e.next()})}var Va,yu;(yu=Va||(Va={})).ea="default",yu.Cache="cache";class g0{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new br(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=br.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Va.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e){this.key=e}}class Vd{constructor(e){this.key=e}}class y0{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ae(),this.mutatedKeys=ae(),this.Aa=ad(e),this.Ra=new hr(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new mu,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,l=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,y)=>{const T=i.get(p),S=Fs(this.query,y)?y:null,C=!!T&&this.mutatedKeys.has(T.key),I=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let x=!1;T&&S?T.data.isEqual(S.data)?C!==I&&(r.track({type:3,doc:S}),x=!0):this.ga(T,S)||(r.track({type:2,doc:S}),x=!0,(h&&this.Aa(S,h)>0||f&&this.Aa(S,f)<0)&&(l=!0)):!T&&S?(r.track({type:0,doc:S}),x=!0):T&&!S&&(r.track({type:1,doc:T}),x=!0,(h||f)&&(l=!0)),x&&(S?(a=a.add(S),s=I?s.add(p):s.delete(p)):(a=a.delete(p),s=s.delete(p)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const p=this.query.limitType==="F"?a.last():a.first();a=a.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{Ra:a,fa:r,ns:l,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((p,y)=>function(S,C){const I=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return J()}};return I(S)-I(C)}(p.type,y.type)||this.Aa(p.doc,y.doc)),this.pa(r),i=i!=null&&i;const l=n&&!i?this.ya():[],h=this.da.size===0&&this.current&&!i?1:0,f=h!==this.Ea;return this.Ea=h,a.length!==0||f?{snapshot:new br(this.query,e.Ra,s,a,e.mutatedKeys,h===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new mu,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ae(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new Vd(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Nd(r))}),n}ba(e){this.Ta=e.Ts,this.da=ae();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return br.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class v0{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class _0{constructor(e){this.key=e,this.va=!1}}class b0{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new Un(l=>od(l),Bs),this.Ma=new Map,this.xa=new Set,this.Oa=new Ne(X.comparator),this.Na=new Map,this.La=new il,this.Ba={},this.ka=new Map,this.qa=_r.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function E0(t,e,n=!0){const r=Fd(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await Md(r,e,n,!0),i}async function T0(t,e){const n=Fd(t);await Md(n,e,!0,!1)}async function Md(t,e,n,r){const i=await Ky(t.localStore,Wt(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let l;return r&&(l=await w0(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&Rd(t.remoteStore,i),l}async function w0(t,e,n,r,i){t.Ka=(y,T,S)=>async function(I,x,L,M){let P=x.view.ma(L);P.ns&&(P=await uu(I.localStore,x.query,!1).then(({documents:_})=>x.view.ma(_,P)));const D=M&&M.targetChanges.get(x.targetId),$=M&&M.targetMismatches.get(x.targetId)!=null,B=x.view.applyChanges(P,I.isPrimaryClient,D,$);return _u(I,x.targetId,B.wa),B.snapshot}(t,y,T,S);const s=await uu(t.localStore,e,!0),a=new y0(e,s.Ts),l=a.ma(s.documents),h=bi.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=a.applyChanges(l,t.isPrimaryClient,h);_u(t,n,f.wa);const p=new v0(e,n,a);return t.Fa.set(e,p),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),f.snapshot}async function S0(t,e,n){const r=ie(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(a=>!Bs(a,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Na(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&al(r.remoteStore,i.targetId),Ma(r,i.targetId)}).catch(Ns)):(Ma(r,i.targetId),await Na(r.localStore,i.targetId,!0))}async function C0(t,e){const n=ie(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),al(n.remoteStore,r.targetId))}async function Od(t,e){const n=ie(t);try{const r=await Wy(n.localStore,e);e.targetChanges.forEach((i,s)=>{const a=n.Na.get(s);a&&(Ce(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?Ce(a.va):i.removedDocuments.size>0&&(Ce(a.va),a.va=!1))}),await Bd(n,r,e)}catch(r){await Ns(r)}}function vu(t,e,n){const r=ie(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,a)=>{const l=a.view.Z_(e);l.snapshot&&i.push(l.snapshot)}),function(a,l){const h=ie(a);h.onlineState=l;let f=!1;h.queries.forEach((p,y)=>{for(const T of y.j_)T.Z_(l)&&(f=!0)}),f&&dl(h)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function I0(t,e,n){const r=ie(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let a=new Ne(X.comparator);a=a.insert(s,ot.newNoDocument(s,Y.min()));const l=ae().add(s),h=new Us(Y.min(),new Map,new Ne(oe),a,l);await Od(r,h),r.Oa=r.Oa.remove(s),r.Na.delete(e),fl(r)}else await Na(r.localStore,e,!1).then(()=>Ma(r,e,n)).catch(Ns)}function Ma(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||Ld(t,r)})}function Ld(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(al(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),fl(t))}function _u(t,e,n){for(const r of n)r instanceof Nd?(t.La.addReference(r.key,e),A0(t,r)):r instanceof Vd?(q("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||Ld(t,r.key)):J()}function A0(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(q("SyncEngine","New document in limbo: "+n),t.xa.add(r),fl(t))}function fl(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new X(Re.fromString(e)),r=t.qa.next();t.Na.set(r,new _0(n)),t.Oa=t.Oa.insert(n,r),Rd(t.remoteStore,new mn(Wt(sd(n.path)),r,"TargetPurposeLimboResolution",Vs.oe))}}async function Bd(t,e,n){const r=ie(t),i=[],s=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((l,h)=>{a.push(r.Ka(h,e,n).then(f=>{var p;if((f||n)&&r.isPrimaryClient){const y=f?!f.fromCache:(p=n==null?void 0:n.targetChanges.get(h.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(h.targetId,y?"current":"not-current")}if(f){i.push(f);const y=ol.Wi(h.targetId,f);s.push(y)}}))}),await Promise.all(a),r.Ca.d_(i),await async function(h,f){const p=ie(h);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>O.forEach(f,T=>O.forEach(T.$i,S=>p.persistence.referenceDelegate.addReference(y,T.targetId,S)).next(()=>O.forEach(T.Ui,S=>p.persistence.referenceDelegate.removeReference(y,T.targetId,S)))))}catch(y){if(!Cr(y))throw y;q("LocalStore","Failed to update sequence numbers: "+y)}for(const y of f){const T=y.targetId;if(!y.fromCache){const S=p.os.get(T),C=S.snapshotVersion,I=S.withLastLimboFreeSnapshotVersion(C);p.os=p.os.insert(T,I)}}}(r.localStore,s))}async function x0(t,e){const n=ie(t);if(!n.currentUser.isEqual(e)){q("SyncEngine","User change. New user:",e.toKey());const r=await Cd(n.localStore,e);n.currentUser=e,function(s,a){s.ka.forEach(l=>{l.forEach(h=>{h.reject(new G(U.CANCELLED,a))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Bd(n,r.hs)}}function R0(t,e){const n=ie(t),r=n.Na.get(e);if(r&&r.va)return ae().add(r.key);{let i=ae();const s=n.Ma.get(e);if(!s)return i;for(const a of s){const l=n.Fa.get(a);i=i.unionWith(l.view.Va)}return i}}function Fd(t){const e=ie(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Od.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=R0.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=I0.bind(null,e),e.Ca.d_=p0.bind(null,e.eventManager),e.Ca.$a=m0.bind(null,e.eventManager),e}class Es{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ad(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return qy(this.persistence,new Uy,e.initialUser,this.serializer)}Ga(e){return new Sd(sl.Zr,this.serializer)}Wa(e){return new Qy}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Es.provider={build:()=>new Es};class P0 extends Es{constructor(e){super(),this.cacheSizeBytes=e}ja(e,n){Ce(this.persistence.referenceDelegate instanceof bs);const r=this.persistence.referenceDelegate.garbageCollector;return new Ay(r,e.asyncQueue,n)}Ga(e){const n=this.cacheSizeBytes!==void 0?dt.withCacheSize(this.cacheSizeBytes):dt.DEFAULT;return new Sd(r=>bs.Zr(r,n),this.serializer)}}class Oa{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>vu(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=x0.bind(null,this.syncEngine),await c0(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new h0}()}createDatastore(e){const n=Ad(e.databaseInfo.databaseId),r=function(s){return new Zy(s)}(e.databaseInfo);return function(s,a,l,h){return new n0(s,a,l,h)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,a,l){return new i0(r,i,s,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>vu(this.syncEngine,n,0),function(){return du.D()?new du:new Xy}())}createSyncEngine(e,n){return function(i,s,a,l,h,f,p){const y=new b0(i,s,a,l,h,f);return p&&(y.Qa=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ie(i);q("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Ei(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Oa.provider={build:()=>new Oa};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):sn("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=st.UNAUTHENTICATED,this.clientId=hg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async a=>{q("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(q("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ln;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Dd(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ho(t,e){t.asyncQueue.verifyOperationInProgress(),q("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Cd(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function bu(t,e){t.asyncQueue.verifyOperationInProgress();const n=await N0(t);q("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>pu(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>pu(e.remoteStore,i)),t._onlineComponents=e}async function N0(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){q("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ho(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===U.FAILED_PRECONDITION||i.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;mr("Error using user provided cache. Falling back to memory cache: "+n),await Ho(t,new Es)}}else q("FirestoreClient","Using default OfflineComponentProvider"),await Ho(t,new P0(void 0));return t._offlineComponents}async function V0(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(q("FirestoreClient","Using user provided OnlineComponentProvider"),await bu(t,t._uninitializedComponentsProvider._online)):(q("FirestoreClient","Using default OnlineComponentProvider"),await bu(t,new Oa))),t._onlineComponents}async function M0(t){const e=await V0(t),n=e.eventManager;return n.onListen=E0.bind(null,e.syncEngine),n.onUnlisten=S0.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=T0.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=C0.bind(null,e.syncEngine),n}function O0(t,e,n={}){const r=new Ln;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,l,h,f){const p=new k0({next:T=>{p.Za(),a.enqueueAndForget(()=>f0(s,y)),T.fromCache&&h.source==="server"?f.reject(new G(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(T)},error:T=>f.reject(T)}),y=new g0(l,p,{includeMetadataChanges:!0,_a:!0});return d0(s,y)}(await M0(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $d(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eu=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(t,e,n){if(!n)throw new G(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function B0(t,e,n,r){if(e===!0&&r===!0)throw new G(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Tu(t){if(X.isDocumentKey(t))throw new G(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function F0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":J()}function La(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new G(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=F0(t);throw new G(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new G(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new G(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}B0("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$d((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new G(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new G(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new G(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pl{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wu({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new G(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new G(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wu(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new rg;switch(r.type){case"firstParty":return new ag(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new G(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Eu.get(n);r&&(q("ComponentProvider","Removing Datastore"),Eu.delete(n),r.terminate())}(this),Promise.resolve()}}function $0(t,e,n,r={}){var i;const s=(t=La(t,pl))._getSettings(),a=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&mr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let l,h;if(typeof r.mockUserToken=="string")l=r.mockUserToken,h=st.MOCK_USER;else{l=Mp(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new G(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new st(f)}t._authCredentials=new ig(new Yh(l,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new qs(this.firestore,e,this._query)}}class Ar{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new dr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ar(this.firestore,e,this._key)}}class dr extends qs{constructor(e,n,r){super(e,n,sd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ar(this.firestore,null,new X(e))}withConverter(e){return new dr(this.firestore,e,this._path)}}function Su(t,e,...n){if(t=qp(t),L0("collection","path",e),t instanceof pl){const r=Re.fromString(e,...n);return Tu(r),new dr(t,null,r)}{if(!(t instanceof Ar||t instanceof dr))throw new G(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Re.fromString(e,...n));return Tu(r),new dr(t.firestore,null,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new xd(this,"async_queue_retry"),this.Vu=()=>{const r=Wo();r&&q("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Wo();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Wo();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Ln;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Cr(e))throw e;q("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),l}(r);throw sn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=hl.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&J()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class jd extends pl{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Cu,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Cu(e),this._firestoreClient=void 0,await e}}}function j0(t,e){const n=typeof t=="object"?t:Wm(),r=typeof t=="string"?t:"(default)",i=jm(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=Np("firestore");s&&$0(i,...s)}return i}function U0(t){if(t._terminated)throw new G(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||z0(t),t._firestoreClient}function z0(t){var e,n,r;const i=t._freezeSettings(),s=function(l,h,f,p){return new wg(l,h,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,$d(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new D0(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(l){const h=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(h),_online:h}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ts(Je.fromBase64String(e))}catch(n){throw new G(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ts(Je.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new G(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new G(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new G(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return oe(this._lat,e._lat)||oe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}const H0=new RegExp("[~\\*/\\[\\]]");function K0(t,e,n){if(e.search(H0)>=0)throw Iu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t);try{return new Ud(...e.split("."))._internalPath}catch{throw Iu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t)}}function Iu(t,e,n,r,i){let s=`Function ${e}() called with invalid data`;s+=". ";let a="";return new G(U.INVALID_ARGUMENT,s+t+a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ar(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new G0(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(qd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class G0 extends zd{data(){return super.data()}}function qd(t,e){return typeof e=="string"?K0(t,e):e instanceof Ud?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new G(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class X0{convertValue(e,n="none"){switch(En(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ke(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(bn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw J()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return _i(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>ke(a.doubleValue));return new W0(s)}convertGeoPoint(e){return new q0(ke(e.latitude),ke(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Os(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ui(e));default:return null}}convertTimestamp(e){const n=_n(e);return new ft(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Re.fromString(e);Ce(wd(r));const i=new hi(r.get(1),r.get(3)),s=new X(r.popFirst(5));return i.isEqual(n)||sn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Y0 extends zd{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ls(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(qd("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ls extends Y0{data(e={}){return super.data(e)}}class J0{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Gi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ls(this._firestore,this._userDataWriter,r.key,r,new Gi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new G(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(l=>{const h=new ls(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Gi(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:h,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const h=new ls(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Gi(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,p=-1;return l.type!==0&&(f=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),p=a.indexOf(l.doc.key)),{type:Z0(l.type),doc:h,oldIndex:f,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Z0(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return J()}}class ev extends X0{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ts(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ar(this.firestore,null,n)}}function Au(t){t=La(t,qs);const e=La(t.firestore,jd),n=U0(e),r=new ev(e);return Q0(t._query),O0(n,t._query).then(i=>new J0(e,r,t,i))}(function(e,n=!0){(function(i){Sr=i})(qm),ms(new ai("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),l=new jd(new sg(r.getProvider("auth-internal")),new cg(r.getProvider("app-check-internal")),function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new G(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hi(f.options.projectId,p)}(a,i),a);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),cr($c,"4.7.4",e),cr($c,"4.7.4","esm2017")})();const tv={apiKey:"AIzaSyCmw-FJH04zK8mUWwU_Xytems1k4vLCw7A",authDomain:"portfolio-benep.firebaseapp.com",projectId:"portfolio-benep",storageBucket:"portfolio-benep.firebasestorage.app",messagingSenderId:"1071633710122",appId:"1:1071633710122:web:989b500ae3a991bbd69753",measurementId:"G-9JQK6J0Q0F"},nv=Uh(tv),xu=j0(nv);var Wd={};function rv(t){if(t&&t.__esModule)return t;var e={};if(t!=null){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}}return e.default=t,e}var Hd=rv,Zt={},Ko,Ru;function iv(){if(Ru)return Ko;Ru=1;function t(e){return e&&e.__esModule?e:{default:e}}return Ko=t,Ko}var Qi,Pu;function sv(){if(Pu)return Qi;Pu=1;function t(){return Qi=t=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},t.apply(this,arguments)}return Qi=t,Qi}var Go,ku;function ov(){if(ku)return Go;ku=1;function t(e,n){if(e==null)return{};var r={},i=Object.keys(e),s,a;for(a=0;a<i.length;a++)s=i[a],!(n.indexOf(s)>=0)&&(r[s]=e[s]);return r}return Go=t,Go}var Qo,Du;function av(){if(Du)return Qo;Du=1;var t=ov();function e(n,r){if(n==null)return{};var i=t(n,r),s,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(a=0;a<l.length;a++)s=l[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(n,s)&&(i[s]=n[s])}return i}return Qo=e,Qo}var Xo,Nu;function lv(){if(Nu)return Xo;Nu=1;function t(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}return Xo=t,Xo}var Yo,Vu;function cv(){if(Vu)return Yo;Vu=1;function t(n,r){for(var i=0;i<r.length;i++){var s=r[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(n,s.key,s)}}function e(n,r,i){return r&&t(n.prototype,r),i&&t(n,i),n}return Yo=e,Yo}var Ur,Mu;function uv(){if(Mu)return Ur;Mu=1;function t(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(i){return typeof i}:t=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},t(n)}function e(n){return typeof Symbol=="function"&&t(Symbol.iterator)==="symbol"?Ur=e=function(i){return t(i)}:Ur=e=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":t(i)},e(n)}return Ur=e,Ur}var Jo,Ou;function hv(){if(Ou)return Jo;Ou=1;function t(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}return Jo=t,Jo}var Zo,Lu;function dv(){if(Lu)return Zo;Lu=1;var t=uv(),e=hv();function n(r,i){return i&&(t(i)==="object"||typeof i=="function")?i:e(r)}return Zo=n,Zo}var Xi,Bu;function fv(){if(Bu)return Xi;Bu=1;function t(e){return Xi=t=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},t(e)}return Xi=t,Xi}var Yi,Fu;function pv(){if(Fu)return Yi;Fu=1;function t(e,n){return Yi=t=Object.setPrototypeOf||function(i,s){return i.__proto__=s,i},t(e,n)}return Yi=t,Yi}var ea,$u;function mv(){if($u)return ea;$u=1;var t=pv();function e(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),r&&t(n,r)}return ea=e,ea}var ta={exports:{}},na,ju;function gv(){if(ju)return na;ju=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return na=t,na}var ra,Uu;function yv(){if(Uu)return ra;Uu=1;var t=gv();function e(){}function n(){}return n.resetWarningCache=e,ra=function(){function r(a,l,h,f,p,y){if(y!==t){var T=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw T.name="Invariant Violation",T}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},ra}var zu;function Kd(){return zu||(zu=1,ta.exports=yv()()),ta.exports}var ia,qu;function Gd(){if(qu)return ia;qu=1;var t=function(){};return ia=t,ia}var sa={},oa,Wu;function Ws(){if(Wu)return oa;Wu=1;function t(e){return e&&e.__esModule?e:{default:e}}return oa=t,oa}var zr={},Hu;function vv(){if(Hu)return zr;Hu=1;var t=Ws();Object.defineProperty(zr,"__esModule",{value:!0}),zr.default=void 0;var e=t(R);t(Gd());var n=function(s){s.index;var a=s.children;e.default.Children.count(a)},r=n;return zr.default=r,zr}var Ji={},qr={},Ku;function Qd(){if(Ku)return qr;Ku=1,Object.defineProperty(qr,"__esModule",{value:!0}),qr.default=void 0;var t={RESISTANCE_COEF:.6,UNCERTAINTY_THRESHOLD:3};return qr.default=t,qr}var Gu;function _v(){if(Gu)return Ji;Gu=1;var t=Ws();Object.defineProperty(Ji,"__esModule",{value:!0}),Ji.default=r;var e=t(R),n=t(Qd());function r(i){var s=i.children,a=i.startIndex,l=i.startX,h=i.pageX,f=i.viewLength,p=i.resistance,y=e.default.Children.count(s)-1,T=a+(l-h)/f,S;return p?T<0?T=Math.exp(T*n.default.RESISTANCE_COEF)-1:T>y&&(T=y+1-Math.exp((y-T)*n.default.RESISTANCE_COEF)):T<0?(T=0,S=(T-a)*f+h):T>y&&(T=y,S=(T-a)*f+h),{index:T,startX:S}}return Ji}var Wr={},Qu;function bv(){if(Qu)return Wr;Qu=1;var t=Ws();Object.defineProperty(Wr,"__esModule",{value:!0}),Wr.default=void 0;var e=t(R),n=function(s,a){var l=!1,h=function(C){return C?C.key:"empty"};if(s.children.length&&a.children.length){var f=e.default.Children.map(s.children,h),p=f[s.index];if(p!=null){var y=e.default.Children.map(a.children,h),T=y[a.index];p===T&&(l=!0)}}return l},r=n;return Wr.default=r,Wr}var Hr={},Xu;function Ev(){if(Xu)return Hr;Xu=1,Object.defineProperty(Hr,"__esModule",{value:!0}),Hr.default=void 0;function t(n,r){var i=n%r;return i<0?i+r:i}var e=t;return Hr.default=e,Hr}var Yu;function Tv(){return Yu||(Yu=1,function(t){var e=Ws();Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"checkIndexBounds",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"computeIndex",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"constant",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"getDisplaySameSlide",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"mod",{enumerable:!0,get:function(){return a.default}});var n=e(vv()),r=e(_v()),i=e(Qd()),s=e(bv()),a=e(Ev())}(sa)),sa}var Ju;function wv(){if(Ju)return Zt;Ju=1;var t=Hd,e=iv();Object.defineProperty(Zt,"__esModule",{value:!0}),Zt.getDomTreeShapes=L,Zt.findNativeHandler=P,Zt.default=Zt.SwipeableViewsContext=void 0;var n=e(sv()),r=e(av()),i=e(lv()),s=e(cv()),a=e(dv()),l=e(fv()),h=e(mv()),f=t(R);e(Kd()),e(Gd());var p=Tv();function y(_,v,E,c){return _.addEventListener(v,E,c),{remove:function(){_.removeEventListener(v,E,c)}}}var T={container:{direction:"ltr",display:"flex",willChange:"transform"},slide:{width:"100%",WebkitFlexShrink:0,flexShrink:0,overflow:"auto"}},S={root:{x:{overflowX:"hidden"},"x-reverse":{overflowX:"hidden"},y:{overflowY:"hidden"},"y-reverse":{overflowY:"hidden"}},flexDirection:{x:"row","x-reverse":"row-reverse",y:"column","y-reverse":"column-reverse"},transform:{x:function(v){return"translate(".concat(-v,"%, 0)")},"x-reverse":function(v){return"translate(".concat(v,"%, 0)")},y:function(v){return"translate(0, ".concat(-v,"%)")},"y-reverse":function(v){return"translate(0, ".concat(v,"%)")}},length:{x:"width","x-reverse":"width",y:"height","y-reverse":"height"},rotationMatrix:{x:{x:[1,0],y:[0,1]},"x-reverse":{x:[-1,0],y:[0,1]},y:{x:[0,1],y:[1,0]},"y-reverse":{x:[0,-1],y:[1,0]}},scrollPosition:{x:"scrollLeft","x-reverse":"scrollLeft",y:"scrollTop","y-reverse":"scrollTop"},scrollLength:{x:"scrollWidth","x-reverse":"scrollWidth",y:"scrollHeight","y-reverse":"scrollHeight"},clientLength:{x:"clientWidth","x-reverse":"clientWidth",y:"clientHeight","y-reverse":"clientHeight"}};function C(_,v){var E=v.duration,c=v.easeFunction,m=v.delay;return"".concat(_," ").concat(E," ").concat(c," ").concat(m)}function I(_,v){var E=S.rotationMatrix[v];return{pageX:E.x[0]*_.pageX+E.x[1]*_.pageY,pageY:E.y[0]*_.pageX+E.y[1]*_.pageY}}function x(_){return _.touches=[{pageX:_.pageX,pageY:_.pageY}],_}function L(_,v){for(var E=[];_&&_!==v&&_!==document.body&&!_.hasAttribute("data-swipeable");){var c=window.getComputedStyle(_);c.getPropertyValue("position")==="absolute"||c.getPropertyValue("overflow-x")==="hidden"?E=[]:(_.clientWidth>0&&_.scrollWidth>_.clientWidth||_.clientHeight>0&&_.scrollHeight>_.clientHeight)&&E.push({element:_,scrollWidth:_.scrollWidth,scrollHeight:_.scrollHeight,clientWidth:_.clientWidth,clientHeight:_.clientHeight,scrollLeft:_.scrollLeft,scrollTop:_.scrollTop}),_=_.parentNode}return E}var M=null;function P(_){var v=_.domTreeShapes,E=_.pageX,c=_.startX,m=_.axis;return v.some(function(w){var b=E>=c;(m==="x"||m==="y")&&(b=!b);var F=Math.round(w[S.scrollPosition[m]]),z=F>0,H=F+w[S.clientLength[m]]<w[S.scrollLength[m]];return b&&H||!b&&z?(M=w.element,!0):!1})}var D=f.createContext();Zt.SwipeableViewsContext=D;var $=function(_){(0,h.default)(v,_);function v(E){var c;return(0,i.default)(this,v),c=(0,a.default)(this,(0,l.default)(v).call(this,E)),c.rootNode=null,c.containerNode=null,c.ignoreNextScrollEvents=!1,c.viewLength=0,c.startX=0,c.lastX=0,c.vx=0,c.startY=0,c.isSwiping=void 0,c.started=!1,c.startIndex=0,c.transitionListener=null,c.touchMoveListener=null,c.activeSlide=null,c.indexCurrent=null,c.firstRenderTimeout=null,c.setRootNode=function(m){c.rootNode=m},c.setContainerNode=function(m){c.containerNode=m},c.setActiveSlide=function(m){c.activeSlide=m,c.updateHeight()},c.handleSwipeStart=function(m){var w=c.props.axis,b=I(m.touches[0],w);c.viewLength=c.rootNode.getBoundingClientRect()[S.length[w]],c.startX=b.pageX,c.lastX=b.pageX,c.vx=0,c.startY=b.pageY,c.isSwiping=void 0,c.started=!0;var F=window.getComputedStyle(c.containerNode),z=F.getPropertyValue("-webkit-transform")||F.getPropertyValue("transform");if(z&&z!=="none"){var H=z.split("(")[1].split(")")[0].split(","),Z=window.getComputedStyle(c.rootNode),te=I({pageX:parseInt(H[4],10),pageY:parseInt(H[5],10)},w);c.startIndex=-te.pageX/(c.viewLength-parseInt(Z.paddingLeft,10)-parseInt(Z.paddingRight,10))||0}},c.handleSwipeMove=function(m){if(!c.started){c.handleTouchStart(m);return}if(!(M!==null&&M!==c.rootNode)){var w=c.props,b=w.axis,F=w.children,z=w.ignoreNativeScroll,H=w.onSwitching,Z=w.resistance,te=I(m.touches[0],b);if(c.isSwiping===void 0){var ye=Math.abs(te.pageX-c.startX),Me=Math.abs(te.pageY-c.startY),me=ye>Me&&ye>p.constant.UNCERTAINTY_THRESHOLD;if(!Z&&(b==="y"||b==="y-reverse")&&(c.indexCurrent===0&&c.startX<te.pageX||c.indexCurrent===f.Children.count(c.props.children)-1&&c.startX>te.pageX)){c.isSwiping=!1;return}if(ye>Me&&m.preventDefault(),me===!0||Me>p.constant.UNCERTAINTY_THRESHOLD){c.isSwiping=me,c.startX=te.pageX;return}}if(c.isSwiping===!0){m.preventDefault(),c.vx=c.vx*.5+(te.pageX-c.lastX)*.5,c.lastX=te.pageX;var Se=(0,p.computeIndex)({children:F,resistance:Z,pageX:te.pageX,startIndex:c.startIndex,startX:c.startX,viewLength:c.viewLength}),ce=Se.index,se=Se.startX;if(M===null&&!z){var je=L(m.target,c.rootNode),Be=P({domTreeShapes:je,startX:c.startX,pageX:te.pageX,axis:b});if(Be)return}se?c.startX=se:M===null&&(M=c.rootNode),c.setIndexCurrent(ce);var Ke=function(){H&&H(ce,"move")};(c.state.displaySameSlide||!c.state.isDragging)&&c.setState({displaySameSlide:!1,isDragging:!0},Ke),Ke()}}},c.handleSwipeEnd=function(){if(M=null,!!c.started&&(c.started=!1,c.isSwiping===!0)){var m=c.state.indexLatest,w=c.indexCurrent,b=m-w,F;Math.abs(c.vx)>c.props.threshold?c.vx>0?F=Math.floor(w):F=Math.ceil(w):Math.abs(b)>c.props.hysteresis?F=b>0?Math.floor(w):Math.ceil(w):F=m;var z=f.Children.count(c.props.children)-1;F<0?F=0:F>z&&(F=z),c.setIndexCurrent(F),c.setState({indexLatest:F,isDragging:!1},function(){c.props.onSwitching&&c.props.onSwitching(F,"end"),c.props.onChangeIndex&&F!==m&&c.props.onChangeIndex(F,m,{reason:"swipe"}),w===m&&c.handleTransitionEnd()})}},c.handleTouchStart=function(m){c.props.onTouchStart&&c.props.onTouchStart(m),c.handleSwipeStart(m)},c.handleTouchEnd=function(m){c.props.onTouchEnd&&c.props.onTouchEnd(m),c.handleSwipeEnd(m)},c.handleMouseDown=function(m){c.props.onMouseDown&&c.props.onMouseDown(m),m.persist(),c.handleSwipeStart(x(m))},c.handleMouseUp=function(m){c.props.onMouseUp&&c.props.onMouseUp(m),c.handleSwipeEnd(x(m))},c.handleMouseLeave=function(m){c.props.onMouseLeave&&c.props.onMouseLeave(m),c.started&&c.handleSwipeEnd(x(m))},c.handleMouseMove=function(m){c.props.onMouseMove&&c.props.onMouseMove(m),c.started&&c.handleSwipeMove(x(m))},c.handleScroll=function(m){if(c.props.onScroll&&c.props.onScroll(m),m.target===c.rootNode){if(c.ignoreNextScrollEvents){c.ignoreNextScrollEvents=!1;return}var w=c.state.indexLatest,b=Math.ceil(m.target.scrollLeft/m.target.clientWidth)+w;c.ignoreNextScrollEvents=!0,m.target.scrollLeft=0,c.props.onChangeIndex&&b!==w&&c.props.onChangeIndex(b,w,{reason:"focus"})}},c.updateHeight=function(){if(c.activeSlide!==null){var m=c.activeSlide.children[0];m!==void 0&&m.offsetHeight!==void 0&&c.state.heightLatest!==m.offsetHeight&&c.setState({heightLatest:m.offsetHeight})}},c.state={indexLatest:E.index,isDragging:!1,renderOnlyActive:!E.disableLazyLoading,heightLatest:0,displaySameSlide:!0},c.setIndexCurrent(E.index),c}return(0,s.default)(v,[{key:"componentDidMount",value:function(){var c=this;this.transitionListener=y(this.containerNode,"transitionend",function(m){m.target===c.containerNode&&c.handleTransitionEnd()}),this.touchMoveListener=y(this.rootNode,"touchmove",function(m){c.props.disabled||c.handleSwipeMove(m)},{passive:!1}),this.props.disableLazyLoading||(this.firstRenderTimeout=setTimeout(function(){c.setState({renderOnlyActive:!1})},0)),this.props.action&&this.props.action({updateHeight:this.updateHeight})}},{key:"UNSAFE_componentWillReceiveProps",value:function(c){var m=c.index;typeof m=="number"&&m!==this.props.index&&(this.setIndexCurrent(m),this.setState({displaySameSlide:(0,p.getDisplaySameSlide)(this.props,c),indexLatest:m}))}},{key:"componentWillUnmount",value:function(){this.transitionListener.remove(),this.touchMoveListener.remove(),clearTimeout(this.firstRenderTimeout)}},{key:"getSwipeableViewsContext",value:function(){var c=this;return{slideUpdateHeight:function(){c.updateHeight()}}}},{key:"setIndexCurrent",value:function(c){if(!this.props.animateTransitions&&this.indexCurrent!==c&&this.handleTransitionEnd(),this.indexCurrent=c,this.containerNode){var m=this.props.axis,w=S.transform[m](c*100);this.containerNode.style.WebkitTransform=w,this.containerNode.style.transform=w}}},{key:"handleTransitionEnd",value:function(){this.props.onTransitionEnd&&(this.state.displaySameSlide||this.state.isDragging||this.props.onTransitionEnd())}},{key:"render",value:function(){var c=this,m=this.props;m.action;var w=m.animateHeight,b=m.animateTransitions,F=m.axis,z=m.children,H=m.containerStyle,Z=m.disabled;m.disableLazyLoading;var te=m.enableMouseEvents;m.hysteresis,m.ignoreNativeScroll,m.index,m.onChangeIndex,m.onSwitching,m.onTransitionEnd,m.resistance;var ye=m.slideStyle,Me=m.slideClassName,me=m.springConfig,Se=m.style;m.threshold;var ce=(0,r.default)(m,["action","animateHeight","animateTransitions","axis","children","containerStyle","disabled","disableLazyLoading","enableMouseEvents","hysteresis","ignoreNativeScroll","index","onChangeIndex","onSwitching","onTransitionEnd","resistance","slideStyle","slideClassName","springConfig","style","threshold"]),se=this.state,je=se.displaySameSlide,Be=se.heightLatest,Ke=se.indexLatest,Mt=se.isDragging,Ft=se.renderOnlyActive,ct=Z?{}:{onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd},St=!Z&&te?{onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onMouseLeave:this.handleMouseLeave,onMouseMove:this.handleMouseMove}:{},Fe=(0,n.default)({},T.slide,ye),Ge,mt;if(Mt||!b||je)Ge="all 0s ease 0s",mt="all 0s ease 0s";else if(Ge=C("transform",me),mt=C("-webkit-transform",me),Be!==0){var Ct=", ".concat(C("height",me));Ge+=Ct,mt+=Ct}var It={height:null,WebkitFlexDirection:S.flexDirection[F],flexDirection:S.flexDirection[F],WebkitTransition:mt,transition:Ge};if(!Ft){var Ze=S.transform[F](this.indexCurrent*100);It.WebkitTransform=Ze,It.transform=Ze}return w&&(It.height=Be),f.createElement(D.Provider,{value:this.getSwipeableViewsContext()},f.createElement("div",(0,n.default)({ref:this.setRootNode,style:(0,n.default)({},S.root[F],Se)},ce,ct,St,{onScroll:this.handleScroll}),f.createElement("div",{ref:this.setContainerNode,style:(0,n.default)({},It,T.container,H),className:"react-swipeable-view-container"},f.Children.map(z,function(et,ut){if(Ft&&ut!==Ke)return null;var ht,At=!0;return ut===Ke&&(At=!1,w&&(ht=c.setActiveSlide,Fe.overflowY="hidden")),f.createElement("div",{ref:ht,style:Fe,className:Me,"aria-hidden":At,"data-swipeable":"true"},et)}))))}}]),v}(f.Component);$.displayName="ReactSwipableView",$.propTypes={},$.defaultProps={animateHeight:!1,animateTransitions:!0,axis:"x",disabled:!1,disableLazyLoading:!1,enableMouseEvents:!1,hysteresis:.6,ignoreNativeScroll:!1,index:0,threshold:5,springConfig:{duration:"0.35s",easeFunction:"cubic-bezier(0.15, 0.3, 0.25, 1)",delay:"0s"},resistance:!1};var B=$;return Zt.default=B,Zt}(function(t){var e=Hd;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"SwipeableViewsContext",{enumerable:!0,get:function(){return n.SwipeableViewsContext}});var n=e(wv())})(Wd);const Sv=mp(Wd);function $n(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${t}; visit ${n} for the full message.`}const ml="$$material";function ws(){return ws=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ws.apply(null,arguments)}function Xd(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var Cv=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Iv=Xd(function(t){return Cv.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),Av=!1;function xv(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function Rv(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Pv=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!Av:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Rv(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=xv(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),it="-ms-",Ss="-moz-",he="-webkit-",Yd="comm",gl="rule",yl="decl",kv="@import",Jd="@keyframes",Dv="@layer",Nv=Math.abs,Hs=String.fromCharCode,Vv=Object.assign;function Mv(t,e){return Ye(t,0)^45?(((e<<2^Ye(t,0))<<2^Ye(t,1))<<2^Ye(t,2))<<2^Ye(t,3):0}function Zd(t){return t.trim()}function Ov(t,e){return(t=e.exec(t))?t[0]:t}function de(t,e,n){return t.replace(e,n)}function Ba(t,e){return t.indexOf(e)}function Ye(t,e){return t.charCodeAt(e)|0}function fi(t,e,n){return t.slice(e,n)}function jt(t){return t.length}function vl(t){return t.length}function Zi(t,e){return e.push(t),t}function Lv(t,e){return t.map(e).join("")}var Ks=1,Er=1,ef=0,pt=0,Le=0,xr="";function Gs(t,e,n,r,i,s,a){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Ks,column:Er,length:a,return:""}}function Kr(t,e){return Vv(Gs("",null,null,"",null,null,0),t,{length:-t.length},e)}function Bv(){return Le}function Fv(){return Le=pt>0?Ye(xr,--pt):0,Er--,Le===10&&(Er=1,Ks--),Le}function bt(){return Le=pt<ef?Ye(xr,pt++):0,Er++,Le===10&&(Er=1,Ks++),Le}function Ht(){return Ye(xr,pt)}function cs(){return pt}function wi(t,e){return fi(xr,t,e)}function pi(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function tf(t){return Ks=Er=1,ef=jt(xr=t),pt=0,[]}function nf(t){return xr="",t}function us(t){return Zd(wi(pt-1,Fa(t===91?t+2:t===40?t+1:t)))}function $v(t){for(;(Le=Ht())&&Le<33;)bt();return pi(t)>2||pi(Le)>3?"":" "}function jv(t,e){for(;--e&&bt()&&!(Le<48||Le>102||Le>57&&Le<65||Le>70&&Le<97););return wi(t,cs()+(e<6&&Ht()==32&&bt()==32))}function Fa(t){for(;bt();)switch(Le){case t:return pt;case 34:case 39:t!==34&&t!==39&&Fa(Le);break;case 40:t===41&&Fa(t);break;case 92:bt();break}return pt}function Uv(t,e){for(;bt()&&t+Le!==57;)if(t+Le===84&&Ht()===47)break;return"/*"+wi(e,pt-1)+"*"+Hs(t===47?t:bt())}function zv(t){for(;!pi(Ht());)bt();return wi(t,pt)}function qv(t){return nf(hs("",null,null,null,[""],t=tf(t),0,[0],t))}function hs(t,e,n,r,i,s,a,l,h){for(var f=0,p=0,y=a,T=0,S=0,C=0,I=1,x=1,L=1,M=0,P="",D=i,$=s,B=r,_=P;x;)switch(C=M,M=bt()){case 40:if(C!=108&&Ye(_,y-1)==58){Ba(_+=de(us(M),"&","&\f"),"&\f")!=-1&&(L=-1);break}case 34:case 39:case 91:_+=us(M);break;case 9:case 10:case 13:case 32:_+=$v(C);break;case 92:_+=jv(cs()-1,7);continue;case 47:switch(Ht()){case 42:case 47:Zi(Wv(Uv(bt(),cs()),e,n),h);break;default:_+="/"}break;case 123*I:l[f++]=jt(_)*L;case 125*I:case 59:case 0:switch(M){case 0:case 125:x=0;case 59+p:L==-1&&(_=de(_,/\f/g,"")),S>0&&jt(_)-y&&Zi(S>32?eh(_+";",r,n,y-1):eh(de(_," ","")+";",r,n,y-2),h);break;case 59:_+=";";default:if(Zi(B=Zu(_,e,n,f,p,i,l,P,D=[],$=[],y),s),M===123)if(p===0)hs(_,e,B,B,D,s,y,l,$);else switch(T===99&&Ye(_,3)===110?100:T){case 100:case 108:case 109:case 115:hs(t,B,B,r&&Zi(Zu(t,B,B,0,0,i,l,P,i,D=[],y),$),i,$,y,l,r?D:$);break;default:hs(_,B,B,B,[""],$,0,l,$)}}f=p=S=0,I=L=1,P=_="",y=a;break;case 58:y=1+jt(_),S=C;default:if(I<1){if(M==123)--I;else if(M==125&&I++==0&&Fv()==125)continue}switch(_+=Hs(M),M*I){case 38:L=p>0?1:(_+="\f",-1);break;case 44:l[f++]=(jt(_)-1)*L,L=1;break;case 64:Ht()===45&&(_+=us(bt())),T=Ht(),p=y=jt(P=_+=zv(cs())),M++;break;case 45:C===45&&jt(_)==2&&(I=0)}}return s}function Zu(t,e,n,r,i,s,a,l,h,f,p){for(var y=i-1,T=i===0?s:[""],S=vl(T),C=0,I=0,x=0;C<r;++C)for(var L=0,M=fi(t,y+1,y=Nv(I=a[C])),P=t;L<S;++L)(P=Zd(I>0?T[L]+" "+M:de(M,/&\f/g,T[L])))&&(h[x++]=P);return Gs(t,e,n,i===0?gl:l,h,f,p)}function Wv(t,e,n){return Gs(t,e,n,Yd,Hs(Bv()),fi(t,2,-2),0)}function eh(t,e,n,r){return Gs(t,e,n,yl,fi(t,0,r),fi(t,r+1,-1),r)}function fr(t,e){for(var n="",r=vl(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function Hv(t,e,n,r){switch(t.type){case Dv:if(t.children.length)break;case kv:case yl:return t.return=t.return||t.value;case Yd:return"";case Jd:return t.return=t.value+"{"+fr(t.children,r)+"}";case gl:t.value=t.props.join(",")}return jt(n=fr(t.children,r))?t.return=t.value+"{"+n+"}":""}function Kv(t){var e=vl(t);return function(n,r,i,s){for(var a="",l=0;l<e;l++)a+=t[l](n,r,i,s)||"";return a}}function Gv(t){return function(e){e.root||(e=e.return)&&t(e)}}var Qv=function(e,n,r){for(var i=0,s=0;i=s,s=Ht(),i===38&&s===12&&(n[r]=1),!pi(s);)bt();return wi(e,pt)},Xv=function(e,n){var r=-1,i=44;do switch(pi(i)){case 0:i===38&&Ht()===12&&(n[r]=1),e[r]+=Qv(pt-1,n,r);break;case 2:e[r]+=us(i);break;case 4:if(i===44){e[++r]=Ht()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Hs(i)}while(i=bt());return e},Yv=function(e,n){return nf(Xv(tf(e),n))},th=new WeakMap,Jv=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!th.get(r))&&!i){th.set(e,!0);for(var s=[],a=Yv(n,s),l=r.props,h=0,f=0;h<a.length;h++)for(var p=0;p<l.length;p++,f++)e.props[f]=s[h]?a[h].replace(/&\f/g,l[p]):l[p]+" "+a[h]}}},Zv=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function rf(t,e){switch(Mv(t,e)){case 5103:return he+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return he+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return he+t+Ss+t+it+t+t;case 6828:case 4268:return he+t+it+t+t;case 6165:return he+t+it+"flex-"+t+t;case 5187:return he+t+de(t,/(\w+).+(:[^]+)/,he+"box-$1$2"+it+"flex-$1$2")+t;case 5443:return he+t+it+"flex-item-"+de(t,/flex-|-self/,"")+t;case 4675:return he+t+it+"flex-line-pack"+de(t,/align-content|flex-|-self/,"")+t;case 5548:return he+t+it+de(t,"shrink","negative")+t;case 5292:return he+t+it+de(t,"basis","preferred-size")+t;case 6060:return he+"box-"+de(t,"-grow","")+he+t+it+de(t,"grow","positive")+t;case 4554:return he+de(t,/([^-])(transform)/g,"$1"+he+"$2")+t;case 6187:return de(de(de(t,/(zoom-|grab)/,he+"$1"),/(image-set)/,he+"$1"),t,"")+t;case 5495:case 3959:return de(t,/(image-set\([^]*)/,he+"$1$`$1");case 4968:return de(de(t,/(.+:)(flex-)?(.*)/,he+"box-pack:$3"+it+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+he+t+t;case 4095:case 3583:case 4068:case 2532:return de(t,/(.+)-inline(.+)/,he+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(jt(t)-1-e>6)switch(Ye(t,e+1)){case 109:if(Ye(t,e+4)!==45)break;case 102:return de(t,/(.+:)(.+)-([^]+)/,"$1"+he+"$2-$3$1"+Ss+(Ye(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Ba(t,"stretch")?rf(de(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Ye(t,e+1)!==115)break;case 6444:switch(Ye(t,jt(t)-3-(~Ba(t,"!important")&&10))){case 107:return de(t,":",":"+he)+t;case 101:return de(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+he+(Ye(t,14)===45?"inline-":"")+"box$3$1"+he+"$2$3$1"+it+"$2box$3")+t}break;case 5936:switch(Ye(t,e+11)){case 114:return he+t+it+de(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return he+t+it+de(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return he+t+it+de(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return he+t+it+t+t}return t}var e_=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case yl:e.return=rf(e.value,e.length);break;case Jd:return fr([Kr(e,{value:de(e.value,"@","@"+he)})],i);case gl:if(e.length)return Lv(e.props,function(s){switch(Ov(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return fr([Kr(e,{props:[de(s,/:(read-\w+)/,":"+Ss+"$1")]})],i);case"::placeholder":return fr([Kr(e,{props:[de(s,/:(plac\w+)/,":"+he+"input-$1")]}),Kr(e,{props:[de(s,/:(plac\w+)/,":"+Ss+"$1")]}),Kr(e,{props:[de(s,/:(plac\w+)/,it+"input-$1")]})],i)}return""})}},t_=[e_],n_=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(I){var x=I.getAttribute("data-emotion");x.indexOf(" ")!==-1&&(document.head.appendChild(I),I.setAttribute("data-s",""))})}var i=e.stylisPlugins||t_,s={},a,l=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(I){for(var x=I.getAttribute("data-emotion").split(" "),L=1;L<x.length;L++)s[x[L]]=!0;l.push(I)});var h,f=[Jv,Zv];{var p,y=[Hv,Gv(function(I){p.insert(I)})],T=Kv(f.concat(i,y)),S=function(x){return fr(qv(x),T)};h=function(x,L,M,P){p=M,S(x?x+"{"+L.styles+"}":L.styles),P&&(C.inserted[L.name]=!0)}}var C={key:n,sheet:new Pv({key:n,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:h};return C.sheet.hydrate(l),C},sf={exports:{}},pe={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var We=typeof Symbol=="function"&&Symbol.for,_l=We?Symbol.for("react.element"):60103,bl=We?Symbol.for("react.portal"):60106,Qs=We?Symbol.for("react.fragment"):60107,Xs=We?Symbol.for("react.strict_mode"):60108,Ys=We?Symbol.for("react.profiler"):60114,Js=We?Symbol.for("react.provider"):60109,Zs=We?Symbol.for("react.context"):60110,El=We?Symbol.for("react.async_mode"):60111,eo=We?Symbol.for("react.concurrent_mode"):60111,to=We?Symbol.for("react.forward_ref"):60112,no=We?Symbol.for("react.suspense"):60113,r_=We?Symbol.for("react.suspense_list"):60120,ro=We?Symbol.for("react.memo"):60115,io=We?Symbol.for("react.lazy"):60116,i_=We?Symbol.for("react.block"):60121,s_=We?Symbol.for("react.fundamental"):60117,o_=We?Symbol.for("react.responder"):60118,a_=We?Symbol.for("react.scope"):60119;function Tt(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case _l:switch(t=t.type,t){case El:case eo:case Qs:case Ys:case Xs:case no:return t;default:switch(t=t&&t.$$typeof,t){case Zs:case to:case io:case ro:case Js:return t;default:return e}}case bl:return e}}}function of(t){return Tt(t)===eo}pe.AsyncMode=El;pe.ConcurrentMode=eo;pe.ContextConsumer=Zs;pe.ContextProvider=Js;pe.Element=_l;pe.ForwardRef=to;pe.Fragment=Qs;pe.Lazy=io;pe.Memo=ro;pe.Portal=bl;pe.Profiler=Ys;pe.StrictMode=Xs;pe.Suspense=no;pe.isAsyncMode=function(t){return of(t)||Tt(t)===El};pe.isConcurrentMode=of;pe.isContextConsumer=function(t){return Tt(t)===Zs};pe.isContextProvider=function(t){return Tt(t)===Js};pe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===_l};pe.isForwardRef=function(t){return Tt(t)===to};pe.isFragment=function(t){return Tt(t)===Qs};pe.isLazy=function(t){return Tt(t)===io};pe.isMemo=function(t){return Tt(t)===ro};pe.isPortal=function(t){return Tt(t)===bl};pe.isProfiler=function(t){return Tt(t)===Ys};pe.isStrictMode=function(t){return Tt(t)===Xs};pe.isSuspense=function(t){return Tt(t)===no};pe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Qs||t===eo||t===Ys||t===Xs||t===no||t===r_||typeof t=="object"&&t!==null&&(t.$$typeof===io||t.$$typeof===ro||t.$$typeof===Js||t.$$typeof===Zs||t.$$typeof===to||t.$$typeof===s_||t.$$typeof===o_||t.$$typeof===a_||t.$$typeof===i_)};pe.typeOf=Tt;sf.exports=pe;var l_=sf.exports,af=l_,c_={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u_={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},lf={};lf[af.ForwardRef]=c_;lf[af.Memo]=u_;var h_=!0;function d_(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var cf=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||h_===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},f_=function(e,n,r){cf(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function p_(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var m_={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},g_=!1,y_=/[A-Z]|^ms/g,v_=/_EMO_([^_]+?)_([^]*?)_EMO_/g,uf=function(e){return e.charCodeAt(1)===45},nh=function(e){return e!=null&&typeof e!="boolean"},aa=Xd(function(t){return uf(t)?t:t.replace(y_,"-$&").toLowerCase()}),rh=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(v_,function(r,i,s){return Ut={name:i,styles:s,next:Ut},i})}return m_[e]!==1&&!uf(e)&&typeof n=="number"&&n!==0?n+"px":n},__="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function mi(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return Ut={name:i.name,styles:i.styles,next:Ut},i.name;var s=n;if(s.styles!==void 0){var a=s.next;if(a!==void 0)for(;a!==void 0;)Ut={name:a.name,styles:a.styles,next:Ut},a=a.next;var l=s.styles+";";return l}return b_(t,e,n)}case"function":{if(t!==void 0){var h=Ut,f=n(t);return Ut=h,mi(t,e,f)}break}}var p=n;if(e==null)return p;var y=e[p];return y!==void 0?y:p}function b_(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=mi(t,e,n[i])+";";else for(var s in n){var a=n[s];if(typeof a!="object"){var l=a;e!=null&&e[l]!==void 0?r+=s+"{"+e[l]+"}":nh(l)&&(r+=aa(s)+":"+rh(s,l)+";")}else{if(s==="NO_COMPONENT_SELECTOR"&&g_)throw new Error(__);if(Array.isArray(a)&&typeof a[0]=="string"&&(e==null||e[a[0]]===void 0))for(var h=0;h<a.length;h++)nh(a[h])&&(r+=aa(s)+":"+rh(s,a[h])+";");else{var f=mi(t,e,a);switch(s){case"animation":case"animationName":{r+=aa(s)+":"+f+";";break}default:r+=s+"{"+f+"}"}}}}return r}var ih=/label:\s*([^\s;{]+)\s*(;|$)/g,Ut;function Tl(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";Ut=void 0;var s=t[0];if(s==null||s.raw===void 0)r=!1,i+=mi(n,e,s);else{var a=s;i+=a[0]}for(var l=1;l<t.length;l++)if(i+=mi(n,e,t[l]),r){var h=s;i+=h[l]}ih.lastIndex=0;for(var f="",p;(p=ih.exec(i))!==null;)f+="-"+p[1];var y=p_(i)+f;return{name:y,styles:i,next:Ut}}var E_=function(e){return e()},T_=ma.useInsertionEffect?ma.useInsertionEffect:!1,w_=T_||E_,hf=R.createContext(typeof HTMLElement<"u"?n_({key:"css"}):null);hf.Provider;var S_=function(e){return R.forwardRef(function(n,r){var i=R.useContext(hf);return e(n,i,r)})},df=R.createContext({});function C_(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Tl(e)}var wl=function(){var e=C_.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},I_=Iv,A_=function(e){return e!=="theme"},sh=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?I_:A_},oh=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(a){return e.__emotion_forwardProp(a)&&s(a)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},x_=!1,R_=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return cf(n,r,i),w_(function(){return f_(n,r,i)}),null},P_=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,a;n!==void 0&&(s=n.label,a=n.target);var l=oh(e,n,r),h=l||sh(i),f=!h("as");return function(){var p=arguments,y=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&y.push("label:"+s+";"),p[0]==null||p[0].raw===void 0)y.push.apply(y,p);else{y.push(p[0][0]);for(var T=p.length,S=1;S<T;S++)y.push(p[S],p[0][S])}var C=S_(function(I,x,L){var M=f&&I.as||i,P="",D=[],$=I;if(I.theme==null){$={};for(var B in I)$[B]=I[B];$.theme=R.useContext(df)}typeof I.className=="string"?P=d_(x.registered,D,I.className):I.className!=null&&(P=I.className+" ");var _=Tl(y.concat(D),x.registered,$);P+=x.key+"-"+_.name,a!==void 0&&(P+=" "+a);var v=f&&l===void 0?sh(M):h,E={};for(var c in I)f&&c==="as"||v(c)&&(E[c]=I[c]);return E.className=P,L&&(E.ref=L),R.createElement(R.Fragment,null,R.createElement(R_,{cache:x,serialized:_,isStringTag:typeof M=="string"}),R.createElement(M,E))});return C.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",C.defaultProps=e.defaultProps,C.__emotion_real=C,C.__emotion_base=i,C.__emotion_styles=y,C.__emotion_forwardProp=l,Object.defineProperty(C,"toString",{value:function(){return a===void 0&&x_?"NO_COMPONENT_SELECTOR":"."+a}}),C.withComponent=function(I,x){return t(I,ws({},n,x,{shouldForwardProp:oh(C,x,!0)})).apply(void 0,y)},C}},k_=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],$a=P_.bind();k_.forEach(function(t){$a[t]=$a(t)});Kd();/**
 * @mui/styled-engine v6.1.6
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function ff(t,e){return $a(t,e)}function D_(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const ah=[];function lh(t){return ah[0]=t,Tl(ah)}function qt(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function pf(t){if(!qt(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=pf(t[n])}),e}function Et(t,e,n={clone:!0}){const r=n.clone?{...t}:t;return qt(t)&&qt(e)&&Object.keys(e).forEach(i=>{qt(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&qt(t[i])?r[i]=Et(t[i],e[i],n):n.clone?r[i]=qt(e[i])?pf(e[i]):e[i]:r[i]=e[i]}),r}const N_=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function V_(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=t,s=N_(e),a=Object.keys(s);function l(T){return`@media (min-width:${typeof e[T]=="number"?e[T]:T}${n})`}function h(T){return`@media (max-width:${(typeof e[T]=="number"?e[T]:T)-r/100}${n})`}function f(T,S){const C=a.indexOf(S);return`@media (min-width:${typeof e[T]=="number"?e[T]:T}${n}) and (max-width:${(C!==-1&&typeof e[a[C]]=="number"?e[a[C]]:S)-r/100}${n})`}function p(T){return a.indexOf(T)+1<a.length?f(T,a[a.indexOf(T)+1]):l(T)}function y(T){const S=a.indexOf(T);return S===0?l(a[1]):S===a.length-1?h(a[S]):f(T,a[a.indexOf(T)+1]).replace("@media","@media not all and")}return{keys:a,values:s,up:l,down:h,between:f,only:p,not:y,unit:n,...i}}function M_(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var a,l;const s=/min-width:\s*([0-9.]+)/;return+(((a=r.match(s))==null?void 0:a[1])||0)-+(((l=i.match(s))==null?void 0:l[1])||0)});return n.length?n.reduce((r,i)=>{const s=e[i];return delete r[i],r[i]=s,r},{...e}):e}function O_(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function L_(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,s=Number.isNaN(+r)?r||0:+r;return t.containerQueries(i).up(s)}function B_(t){const e=(s,a)=>s.replace("@media",a?`@container ${a}`:"@container");function n(s,a){s.up=(...l)=>e(t.breakpoints.up(...l),a),s.down=(...l)=>e(t.breakpoints.down(...l),a),s.between=(...l)=>e(t.breakpoints.between(...l),a),s.only=(...l)=>e(t.breakpoints.only(...l),a),s.not=(...l)=>{const h=e(t.breakpoints.not(...l),a);return h.includes("not all and")?h.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):h}}const r={},i=s=>(n(r,s),r);return n(i),{...t,containerQueries:i}}const F_={borderRadius:4};function si(t,e){return e?Et(t,e,{clone:!1}):t}const so={xs:0,sm:600,md:900,lg:1200,xl:1536},ch={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${so[t]}px)`},$_={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:so[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function on(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||ch;return e.reduce((a,l,h)=>(a[s.up(s.keys[h])]=n(e[h]),a),{})}if(typeof e=="object"){const s=r.breakpoints||ch;return Object.keys(e).reduce((a,l)=>{if(O_(s.keys,l)){const h=L_(r.containerQueries?r:$_,l);h&&(a[h]=n(e[l],l))}else if(Object.keys(s.values||so).includes(l)){const h=s.up(l);a[h]=n(e[l],l)}else{const h=l;a[h]=e[h]}return a},{})}return n(e)}function j_(t={}){var n;return((n=t.keys)==null?void 0:n.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function U_(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function De(t){if(typeof t!="string")throw new Error($n(7));return t.charAt(0).toUpperCase()+t.slice(1)}function oo(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function Cs(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=oo(t,n)||r,e&&(i=e(i,r,t)),i}function Ve(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=a=>{if(a[e]==null)return null;const l=a[e],h=a.theme,f=oo(h,r)||{};return on(a,l,y=>{let T=Cs(f,i,y);return y===T&&typeof y=="string"&&(T=Cs(f,i,`${e}${y==="default"?"":De(y)}`,y)),n===!1?T:{[n]:T}})};return s.propTypes={},s.filterProps=[e],s}function z_(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const q_={m:"margin",p:"padding"},W_={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},uh={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},H_=z_(t=>{if(t.length>2)if(uh[t])t=uh[t];else return[t];const[e,n]=t.split(""),r=q_[e],i=W_[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),Sl=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Cl=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Sl,...Cl];function Si(t,e,n,r){const i=oo(t,e,!0)??n;return typeof i=="number"||typeof i=="string"?s=>typeof s=="string"?s:typeof i=="string"?`calc(${s} * ${i})`:i*s:Array.isArray(i)?s=>{if(typeof s=="string")return s;const a=Math.abs(s),l=i[a];return s>=0?l:typeof l=="number"?-l:`-${l}`}:typeof i=="function"?i:()=>{}}function Il(t){return Si(t,"spacing",8)}function Ci(t,e){return typeof e=="string"||e==null?e:t(e)}function K_(t,e){return n=>t.reduce((r,i)=>(r[i]=Ci(e,n),r),{})}function G_(t,e,n,r){if(!e.includes(n))return null;const i=H_(n),s=K_(i,r),a=t[n];return on(t,a,s)}function mf(t,e){const n=Il(t.theme);return Object.keys(t).map(r=>G_(t,e,r,n)).reduce(si,{})}function Ae(t){return mf(t,Sl)}Ae.propTypes={};Ae.filterProps=Sl;function xe(t){return mf(t,Cl)}xe.propTypes={};xe.filterProps=Cl;function gf(t=8,e=Il({spacing:t})){if(t.mui)return t;const n=(...r)=>(r.length===0?[1]:r).map(s=>{const a=e(s);return typeof a=="number"?`${a}px`:a}).join(" ");return n.mui=!0,n}function ao(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?si(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Pt(t){return typeof t!="number"?t:`${t}px solid`}function kt(t,e){return Ve({prop:t,themeKey:"borders",transform:e})}const Q_=kt("border",Pt),X_=kt("borderTop",Pt),Y_=kt("borderRight",Pt),J_=kt("borderBottom",Pt),Z_=kt("borderLeft",Pt),eb=kt("borderColor"),tb=kt("borderTopColor"),nb=kt("borderRightColor"),rb=kt("borderBottomColor"),ib=kt("borderLeftColor"),sb=kt("outline",Pt),ob=kt("outlineColor"),lo=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Si(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:Ci(e,r)});return on(t,t.borderRadius,n)}return null};lo.propTypes={};lo.filterProps=["borderRadius"];ao(Q_,X_,Y_,J_,Z_,eb,tb,nb,rb,ib,lo,sb,ob);const co=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Si(t.theme,"spacing",8),n=r=>({gap:Ci(e,r)});return on(t,t.gap,n)}return null};co.propTypes={};co.filterProps=["gap"];const uo=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Si(t.theme,"spacing",8),n=r=>({columnGap:Ci(e,r)});return on(t,t.columnGap,n)}return null};uo.propTypes={};uo.filterProps=["columnGap"];const ho=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Si(t.theme,"spacing",8),n=r=>({rowGap:Ci(e,r)});return on(t,t.rowGap,n)}return null};ho.propTypes={};ho.filterProps=["rowGap"];const ab=Ve({prop:"gridColumn"}),lb=Ve({prop:"gridRow"}),cb=Ve({prop:"gridAutoFlow"}),ub=Ve({prop:"gridAutoColumns"}),hb=Ve({prop:"gridAutoRows"}),db=Ve({prop:"gridTemplateColumns"}),fb=Ve({prop:"gridTemplateRows"}),pb=Ve({prop:"gridTemplateAreas"}),mb=Ve({prop:"gridArea"});ao(co,uo,ho,ab,lb,cb,ub,hb,db,fb,pb,mb);function pr(t,e){return e==="grey"?e:t}const gb=Ve({prop:"color",themeKey:"palette",transform:pr}),yb=Ve({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:pr}),vb=Ve({prop:"backgroundColor",themeKey:"palette",transform:pr});ao(gb,yb,vb);function _t(t){return t<=1&&t!==0?`${t*100}%`:t}const _b=Ve({prop:"width",transform:_t}),Al=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var i,s,a,l,h;const r=((a=(s=(i=t.theme)==null?void 0:i.breakpoints)==null?void 0:s.values)==null?void 0:a[n])||so[n];return r?((h=(l=t.theme)==null?void 0:l.breakpoints)==null?void 0:h.unit)!=="px"?{maxWidth:`${r}${t.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:_t(n)}};return on(t,t.maxWidth,e)}return null};Al.filterProps=["maxWidth"];const bb=Ve({prop:"minWidth",transform:_t}),Eb=Ve({prop:"height",transform:_t}),Tb=Ve({prop:"maxHeight",transform:_t}),wb=Ve({prop:"minHeight",transform:_t});Ve({prop:"size",cssProperty:"width",transform:_t});Ve({prop:"size",cssProperty:"height",transform:_t});const Sb=Ve({prop:"boxSizing"});ao(_b,Al,bb,Eb,Tb,wb,Sb);const Ii={border:{themeKey:"borders",transform:Pt},borderTop:{themeKey:"borders",transform:Pt},borderRight:{themeKey:"borders",transform:Pt},borderBottom:{themeKey:"borders",transform:Pt},borderLeft:{themeKey:"borders",transform:Pt},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Pt},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:lo},color:{themeKey:"palette",transform:pr},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:pr},backgroundColor:{themeKey:"palette",transform:pr},p:{style:xe},pt:{style:xe},pr:{style:xe},pb:{style:xe},pl:{style:xe},px:{style:xe},py:{style:xe},padding:{style:xe},paddingTop:{style:xe},paddingRight:{style:xe},paddingBottom:{style:xe},paddingLeft:{style:xe},paddingX:{style:xe},paddingY:{style:xe},paddingInline:{style:xe},paddingInlineStart:{style:xe},paddingInlineEnd:{style:xe},paddingBlock:{style:xe},paddingBlockStart:{style:xe},paddingBlockEnd:{style:xe},m:{style:Ae},mt:{style:Ae},mr:{style:Ae},mb:{style:Ae},ml:{style:Ae},mx:{style:Ae},my:{style:Ae},margin:{style:Ae},marginTop:{style:Ae},marginRight:{style:Ae},marginBottom:{style:Ae},marginLeft:{style:Ae},marginX:{style:Ae},marginY:{style:Ae},marginInline:{style:Ae},marginInlineStart:{style:Ae},marginInlineEnd:{style:Ae},marginBlock:{style:Ae},marginBlockStart:{style:Ae},marginBlockEnd:{style:Ae},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:co},rowGap:{style:ho},columnGap:{style:uo},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:_t},maxWidth:{style:Al},minWidth:{transform:_t},height:{transform:_t},maxHeight:{transform:_t},minHeight:{transform:_t},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function Cb(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function Ib(t,e){return typeof t=="function"?t(e):t}function Ab(){function t(n,r,i,s){const a={[n]:r,theme:i},l=s[n];if(!l)return{[n]:r};const{cssProperty:h=n,themeKey:f,transform:p,style:y}=l;if(r==null)return null;if(f==="typography"&&r==="inherit")return{[n]:r};const T=oo(i,f)||{};return y?y(a):on(a,r,C=>{let I=Cs(T,p,C);return C===I&&typeof C=="string"&&(I=Cs(T,p,`${n}${C==="default"?"":De(C)}`,C)),h===!1?I:{[h]:I}})}function e(n){const{sx:r,theme:i={}}=n||{};if(!r)return null;const s=i.unstable_sxConfig??Ii;function a(l){let h=l;if(typeof l=="function")h=l(i);else if(typeof l!="object")return l;if(!h)return null;const f=j_(i.breakpoints),p=Object.keys(f);let y=f;return Object.keys(h).forEach(T=>{const S=Ib(h[T],i);if(S!=null)if(typeof S=="object")if(s[T])y=si(y,t(T,S,i,s));else{const C=on({theme:i},S,I=>({[T]:I}));Cb(C,S)?y[T]=e({sx:S,theme:i}):y=si(y,C)}else y=si(y,t(T,S,i,s))}),M_(i,U_(p,y))}return Array.isArray(r)?r.map(a):a(r)}return e}const jn=Ab();jn.filterProps=["sx"];function xb(t,e){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[t])||typeof n.getColorSchemeSelector!="function")return{};let i=n.getColorSchemeSelector(t);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return n.palette.mode===t?e:{}}function xl(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={},...a}=t,l=V_(n),h=gf(i);let f=Et({breakpoints:l,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:h,shape:{...F_,...s}},a);return f=B_(f),f.applyStyles=xb,f=e.reduce((p,y)=>Et(p,y),f),f.unstable_sxConfig={...Ii,...a==null?void 0:a.unstable_sxConfig},f.unstable_sx=function(y){return jn({sx:y,theme:this})},f}function Rb(t){return Object.keys(t).length===0}function yf(t=null){const e=R.useContext(df);return!e||Rb(e)?t:e}const Pb=xl();function vf(t=Pb){return yf(t)}const kb=t=>{var r;const e={systemProps:{},otherProps:{}},n=((r=t==null?void 0:t.theme)==null?void 0:r.unstable_sxConfig)??Ii;return Object.keys(t).forEach(i=>{n[i]?e.systemProps[i]=t[i]:e.otherProps[i]=t[i]}),e};function _f(t){const{sx:e,...n}=t,{systemProps:r,otherProps:i}=kb(n);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...a)=>{const l=e(...a);return qt(l)?{...r,...l}:r}:s={...r,...e},{...i,sx:s}}const hh=t=>t,Db=()=>{let t=hh;return{configure(e){t=e},generate(e){return t(e)},reset(){t=hh}}},bf=Db();function Ef(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Ef(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function fe(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Ef(t))&&(r&&(r+=" "),r+=e);return r}function Nb(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,s=ff("div",{shouldForwardProp:l=>l!=="theme"&&l!=="sx"&&l!=="as"})(jn);return R.forwardRef(function(h,f){const p=vf(n),{className:y,component:T="div",...S}=_f(h);return V.jsx(s,{as:T,ref:f,className:fe(y,i?i(r):r),theme:e&&p[e]||p,...S})})}const Vb={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Dt(t,e,n="Mui"){const r=Vb[e];return r?`${n}-${r}`:`${bf.generate(t)}-${e}`}function wt(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=Dt(t,i,n)}),r}function Tf(t){const{variants:e,...n}=t,r={variants:e,style:lh(n),isProcessed:!0};return r.style===n||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=lh(i.style))}),r}const Mb=xl();function la(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function Ob(t){return t?(e,n)=>n[t]:null}function Lb(t,e,n){t.theme=$b(t.theme)?n:t.theme[e]||t.theme}function ds(t,e){const n=typeof e=="function"?e(t):e;if(Array.isArray(n))return n.flatMap(r=>ds(t,r));if(Array.isArray(n==null?void 0:n.variants)){let r;if(n.isProcessed)r=n.style;else{const{variants:i,...s}=n;r=s}return wf(t,n.variants,[r])}return n!=null&&n.isProcessed?n.style:n}function wf(t,e,n=[]){var i;let r;e:for(let s=0;s<e.length;s+=1){const a=e[s];if(typeof a.props=="function"){if(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),!a.props(r))continue}else for(const l in a.props)if(t[l]!==a.props[l]&&((i=t.ownerState)==null?void 0:i[l])!==a.props[l])continue e;typeof a.style=="function"?(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),n.push(a.style(r))):n.push(a.style)}return n}function Bb(t={}){const{themeId:e,defaultTheme:n=Mb,rootShouldForwardProp:r=la,slotShouldForwardProp:i=la}=t;function s(l){Lb(l,e,n)}return(l,h={})=>{D_(l,$=>$.filter(B=>B!==jn));const{name:f,slot:p,skipVariantsResolver:y,skipSx:T,overridesResolver:S=Ob(Ub(p)),...C}=h,I=y!==void 0?y:p&&p!=="Root"&&p!=="root"||!1,x=T||!1;let L=la;p==="Root"||p==="root"?L=r:p?L=i:jb(l)&&(L=void 0);const M=ff(l,{shouldForwardProp:L,label:Fb(),...C}),P=$=>{if(typeof $=="function"&&$.__emotion_real!==$)return function(_){return ds(_,$)};if(qt($)){const B=Tf($);return B.variants?function(v){return ds(v,B)}:B.style}return $},D=(...$)=>{const B=[],_=$.map(P),v=[];if(B.push(s),f&&S&&v.push(function(w){var H,Z;const F=(Z=(H=w.theme.components)==null?void 0:H[f])==null?void 0:Z.styleOverrides;if(!F)return null;const z={};for(const te in F)z[te]=ds(w,F[te]);return S(w,z)}),f&&!I&&v.push(function(w){var z,H;const b=w.theme,F=(H=(z=b==null?void 0:b.components)==null?void 0:z[f])==null?void 0:H.variants;return F?wf(w,F):null}),x||v.push(jn),Array.isArray(_[0])){const m=_.shift(),w=new Array(B.length).fill(""),b=new Array(v.length).fill("");let F;F=[...w,...m,...b],F.raw=[...w,...m.raw,...b],B.unshift(F)}const E=[...B,..._,...v],c=M(...E);return l.muiName&&(c.muiName=l.muiName),c};return M.withConfig&&(D.withConfig=M.withConfig),D}}function Fb(t,e){return void 0}function $b(t){for(const e in t)return!1;return!0}function jb(t){return typeof t=="string"&&t.charCodeAt(0)>96}function Ub(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}function Is(t,e){const n={...e};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const i=r;if(i==="components"||i==="slots")n[i]={...t[i],...n[i]};else if(i==="componentsProps"||i==="slotProps"){const s=t[i],a=e[i];if(!a)n[i]=s||{};else if(!s)n[i]=a;else{n[i]={...a};for(const l in s)if(Object.prototype.hasOwnProperty.call(s,l)){const h=l;n[i][h]=Is(s[h],a[h])}}}else n[i]===void 0&&(n[i]=t[i])}return n}function zb(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:Is(e.components[n].defaultProps,r)}const gi=typeof window<"u"?R.useLayoutEffect:R.useEffect;function qb(t,e,n,r,i){const[s,a]=R.useState(()=>i&&n?n(t).matches:r?r(t).matches:e);return gi(()=>{if(!n)return;const l=n(t),h=()=>{a(l.matches)};return h(),l.addEventListener("change",h),()=>{l.removeEventListener("change",h)}},[t,n]),s}const Wb={...ma},Sf=Wb.useSyncExternalStore;function Hb(t,e,n,r,i){const s=R.useCallback(()=>e,[e]),a=R.useMemo(()=>{if(i&&n)return()=>n(t).matches;if(r!==null){const{matches:p}=r(t);return()=>p}return s},[s,t,r,i,n]),[l,h]=R.useMemo(()=>{if(n===null)return[s,()=>()=>{}];const p=n(t);return[()=>p.matches,y=>(p.addEventListener("change",y),()=>{p.removeEventListener("change",y)})]},[s,n,t]);return Sf(h,l,a)}function Kb(t,e={}){const n=yf(),r=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:i=!1,matchMedia:s=r?window.matchMedia:null,ssrMatchMedia:a=null,noSsr:l=!1}=zb({name:"MuiUseMediaQuery",props:e,theme:n});let h=typeof t=="function"?t(n):t;return h=h.replace(/^@media( ?)/m,""),(Sf!==void 0?Hb:qb)(h,i,s,a,l)}function Gb(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}function Rl(t,e=0,n=1){return Gb(t,e,n)}function Qb(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function wn(t){if(t.type)return t;if(t.charAt(0)==="#")return wn(Qb(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error($n(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error($n(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const Xb=t=>{const e=wn(t);return e.values.slice(0,3).map((n,r)=>e.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},Jr=(t,e)=>{try{return Xb(t)}catch{return t}};function fo(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.includes("rgb")?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function Cf(t){t=wn(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),a=(f,p=(f+n/30)%12)=>i-s*Math.max(Math.min(p-3,9-p,1),-1);let l="rgb";const h=[Math.round(a(0)*255),Math.round(a(8)*255),Math.round(a(4)*255)];return t.type==="hsla"&&(l+="a",h.push(e[3])),fo({type:l,values:h})}function ja(t){t=wn(t);let e=t.type==="hsl"||t.type==="hsla"?wn(Cf(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function Yb(t,e){const n=ja(t),r=ja(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function yi(t,e){return t=wn(t),e=Rl(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,fo(t)}function es(t,e,n){try{return yi(t,e)}catch{return t}}function Pl(t,e){if(t=wn(t),e=Rl(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return fo(t)}function _e(t,e,n){try{return Pl(t,e)}catch{return t}}function kl(t,e){if(t=wn(t),e=Rl(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return fo(t)}function be(t,e,n){try{return kl(t,e)}catch{return t}}function Jb(t,e=.15){return ja(t)>.5?Pl(t,e):kl(t,e)}function ts(t,e,n){try{return Jb(t,e)}catch{return t}}function dh(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function If(t,e=166){let n;function r(...i){const s=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(s,e)}return r.clear=()=>{clearTimeout(n)},r}function Sn(t){return t&&t.ownerDocument||document}function Tr(t){return Sn(t).defaultView||window}function Ua(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function nn(t){const e=R.useRef(t);return gi(()=>{e.current=t}),R.useRef((...n)=>(0,e.current)(...n)).current}function an(...t){return R.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{Ua(n,e)})},t)}const fh={};function Af(t,e){const n=R.useRef(fh);return n.current===fh&&(n.current=t(e)),n}const Zb=[];function eE(t){R.useEffect(t,Zb)}class Dl{constructor(){jr(this,"currentId",null);jr(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});jr(this,"disposeEffect",()=>this.clear)}static create(){return new Dl}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function tE(){const t=Af(Dl.create).current;return eE(t.disposeEffect),t}function ph(t){try{return t.matches(":focus-visible")}catch{}return!1}function nE(t=window){const e=t.document.documentElement.clientWidth;return t.innerWidth-e}function Bt(t,e,n=void 0){const r={};for(const i in t){const s=t[i];let a="",l=!0;for(let h=0;h<s.length;h+=1){const f=s[h];f&&(a+=(l===!0?"":" ")+e(f),l=!1,n&&n[f]&&(a+=" "+n[f]))}r[i]=a}return r}function rE(t){return typeof t=="string"}function xf(t,e,n){return t===void 0||rE(t)?e:{...e,ownerState:{...e.ownerState,...n}}}function Rf(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function mh(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function Pf(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=t;if(!e){const S=fe(n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),C={...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},I={...n,...i,...r};return S.length>0&&(I.className=S),Object.keys(C).length>0&&(I.style=C),{props:I,internalRef:void 0}}const a=Rf({...i,...r}),l=mh(r),h=mh(i),f=e(a),p=fe(f==null?void 0:f.className,n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),y={...f==null?void 0:f.style,...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},T={...f,...n,...h,...l};return p.length>0&&(T.className=p),Object.keys(y).length>0&&(T.style=y),{props:T,internalRef:f.ref}}function kf(t,e,n){return typeof t=="function"?t(e,n):t}function As(t){var y;const{elementType:e,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:i=!1,...s}=t,a=i?{}:kf(n,r),{props:l,internalRef:h}=Pf({...s,externalSlotProps:a}),f=an(h,a==null?void 0:a.ref,(y=t.additionalProps)==null?void 0:y.ref);return xf(e,{...l,ref:f},r)}function Nl(t){var e;return parseInt(R.version,10)>=19?((e=t==null?void 0:t.props)==null?void 0:e.ref)||null:(t==null?void 0:t.ref)||null}const iE=R.createContext(),Df=()=>R.useContext(iE)??!1,sE=R.createContext(void 0);function oE(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?Is(i.defaultProps,r):!i.styleOverrides&&!i.variants?Is(i,r):r}function aE({props:t,name:e}){const n=R.useContext(sE);return oE({props:t,name:e,theme:{components:n}})}const gh={theme:void 0};function lE(t){let e,n;return function(i){let s=e;return(s===void 0||i.theme!==n)&&(gh.theme=i.theme,s=Tf(t(gh)),e=s,n=i.theme),s}}function cE(t=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${t?`${t}-`:""}${r}${e(...i)})`}const yh=(t,e,n,r=[])=>{let i=t;e.forEach((s,a)=>{a===e.length-1?Array.isArray(i)?i[Number(s)]=n:i&&typeof i=="object"&&(i[s]=n):i&&typeof i=="object"&&(i[s]||(i[s]=r.includes(s)?[]:{}),i=i[s])})},uE=(t,e,n)=>{function r(i,s=[],a=[]){Object.entries(i).forEach(([l,h])=>{(!n||n&&!n([...s,l]))&&h!=null&&(typeof h=="object"&&Object.keys(h).length>0?r(h,[...s,l],Array.isArray(h)?[...a,l]:a):e([...s,l],h,a))})}r(t)},hE=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>t.includes(r))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function ca(t,e){const{prefix:n,shouldSkipGeneratingVar:r}=e||{},i={},s={},a={};return uE(t,(l,h,f)=>{if((typeof h=="string"||typeof h=="number")&&(!r||!r(l,h))){const p=`--${n?`${n}-`:""}${l.join("-")}`,y=hE(l,h);Object.assign(i,{[p]:y}),yh(s,l,`var(${p})`,f),yh(a,l,`var(${p}, ${y})`,f)}},l=>l[0]==="vars"),{css:i,vars:s,varsWithDefaults:a}}function dE(t,e={}){const{getSelector:n=x,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:s={},components:a,defaultColorScheme:l="light",...h}=t,{vars:f,css:p,varsWithDefaults:y}=ca(h,e);let T=y;const S={},{[l]:C,...I}=s;if(Object.entries(I||{}).forEach(([P,D])=>{const{vars:$,css:B,varsWithDefaults:_}=ca(D,e);T=Et(T,_),S[P]={css:B,vars:$}}),C){const{css:P,vars:D,varsWithDefaults:$}=ca(C,e);T=Et(T,$),S[l]={css:P,vars:D}}function x(P,D){var B,_;let $=i;if(i==="class"&&($=".%s"),i==="data"&&($="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&($=`[${i}="%s"]`),P){if($==="media")return t.defaultColorScheme===P?":root":{[`@media (prefers-color-scheme: ${((_=(B=s[P])==null?void 0:B.palette)==null?void 0:_.mode)||P})`]:{":root":D}};if($)return t.defaultColorScheme===P?`:root, ${$.replace("%s",String(P))}`:$.replace("%s",String(P))}return":root"}return{vars:T,generateThemeVars:()=>{let P={...f};return Object.entries(S).forEach(([,{vars:D}])=>{P=Et(P,D)}),P},generateStyleSheets:()=>{var v,E;const P=[],D=t.defaultColorScheme||"light";function $(c,m){Object.keys(m).length&&P.push(typeof c=="string"?{[c]:{...m}}:c)}$(n(void 0,{...p}),p);const{[D]:B,..._}=S;if(B){const{css:c}=B,m=(E=(v=s[D])==null?void 0:v.palette)==null?void 0:E.mode,w=!r&&m?{colorScheme:m,...c}:{...c};$(n(D,{...w}),w)}return Object.entries(_).forEach(([c,{css:m}])=>{var F,z;const w=(z=(F=s[c])==null?void 0:F.palette)==null?void 0:z.mode,b=!r&&w?{colorScheme:w,...m}:{...m};$(n(c,{...b}),b)}),P}}}function fE(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}const vi={black:"#000",white:"#fff"},pE={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Jn={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Zn={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Gr={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},er={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},tr={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},nr={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};function Nf(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:vi.white,default:vi.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const mE=Nf();function Vf(){return{text:{primary:vi.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:vi.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const vh=Vf();function _h(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=kl(t.main,i):e==="dark"&&(t.dark=Pl(t.main,s)))}function gE(t="light"){return t==="dark"?{main:er[200],light:er[50],dark:er[400]}:{main:er[700],light:er[400],dark:er[800]}}function yE(t="light"){return t==="dark"?{main:Jn[200],light:Jn[50],dark:Jn[400]}:{main:Jn[500],light:Jn[300],dark:Jn[700]}}function vE(t="light"){return t==="dark"?{main:Zn[500],light:Zn[300],dark:Zn[700]}:{main:Zn[700],light:Zn[400],dark:Zn[800]}}function _E(t="light"){return t==="dark"?{main:tr[400],light:tr[300],dark:tr[700]}:{main:tr[700],light:tr[500],dark:tr[900]}}function bE(t="light"){return t==="dark"?{main:nr[400],light:nr[300],dark:nr[700]}:{main:nr[800],light:nr[500],dark:nr[900]}}function EE(t="light"){return t==="dark"?{main:Gr[400],light:Gr[300],dark:Gr[700]}:{main:"#ed6c02",light:Gr[500],dark:Gr[900]}}function Vl(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2,...i}=t,s=t.primary||gE(e),a=t.secondary||yE(e),l=t.error||vE(e),h=t.info||_E(e),f=t.success||bE(e),p=t.warning||EE(e);function y(I){return Yb(I,vh.text.primary)>=n?vh.text.primary:mE.text.primary}const T=({color:I,name:x,mainShade:L=500,lightShade:M=300,darkShade:P=700})=>{if(I={...I},!I.main&&I[L]&&(I.main=I[L]),!I.hasOwnProperty("main"))throw new Error($n(11,x?` (${x})`:"",L));if(typeof I.main!="string")throw new Error($n(12,x?` (${x})`:"",JSON.stringify(I.main)));return _h(I,"light",M,r),_h(I,"dark",P,r),I.contrastText||(I.contrastText=y(I.main)),I};let S;return e==="light"?S=Nf():e==="dark"&&(S=Vf()),Et({common:{...vi},mode:e,primary:T({color:s,name:"primary"}),secondary:T({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:T({color:l,name:"error"}),warning:T({color:p,name:"warning"}),info:T({color:h,name:"info"}),success:T({color:f,name:"success"}),grey:pE,contrastThreshold:n,getContrastText:y,augmentColor:T,tonalOffset:r,...S},i)}function TE(t){const e={};return Object.entries(t).forEach(r=>{const[i,s]=r;typeof s=="object"&&(e[i]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),e}function wE(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function SE(t){return Math.round(t*1e5)/1e5}const bh={textTransform:"uppercase"},Eh='"Roboto", "Helvetica", "Arial", sans-serif';function CE(t,e){const{fontFamily:n=Eh,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:s=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:h=16,allVariants:f,pxToRem:p,...y}=typeof e=="function"?e(t):e,T=r/14,S=p||(x=>`${x/h*T}rem`),C=(x,L,M,P,D)=>({fontFamily:n,fontWeight:x,fontSize:S(L),lineHeight:M,...n===Eh?{letterSpacing:`${SE(P/L)}em`}:{},...D,...f}),I={h1:C(i,96,1.167,-1.5),h2:C(i,60,1.2,-.5),h3:C(s,48,1.167,0),h4:C(s,34,1.235,.25),h5:C(s,24,1.334,0),h6:C(a,20,1.6,.15),subtitle1:C(s,16,1.75,.15),subtitle2:C(a,14,1.57,.1),body1:C(s,16,1.5,.15),body2:C(s,14,1.43,.15),button:C(a,14,1.75,.4,bh),caption:C(s,12,1.66,.4),overline:C(s,12,2.66,1,bh),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Et({htmlFontSize:h,pxToRem:S,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:s,fontWeightMedium:a,fontWeightBold:l,...I},y,{clone:!1})}const IE=.2,AE=.14,xE=.12;function we(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${IE})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${AE})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${xE})`].join(",")}const RE=["none",we(0,2,1,-1,0,1,1,0,0,1,3,0),we(0,3,1,-2,0,2,2,0,0,1,5,0),we(0,3,3,-2,0,3,4,0,0,1,8,0),we(0,2,4,-1,0,4,5,0,0,1,10,0),we(0,3,5,-1,0,5,8,0,0,1,14,0),we(0,3,5,-1,0,6,10,0,0,1,18,0),we(0,4,5,-2,0,7,10,1,0,2,16,1),we(0,5,5,-3,0,8,10,1,0,3,14,2),we(0,5,6,-3,0,9,12,1,0,3,16,2),we(0,6,6,-3,0,10,14,1,0,4,18,3),we(0,6,7,-4,0,11,15,1,0,4,20,3),we(0,7,8,-4,0,12,17,2,0,5,22,4),we(0,7,8,-4,0,13,19,2,0,5,24,4),we(0,7,9,-4,0,14,21,2,0,5,26,4),we(0,8,9,-5,0,15,22,2,0,6,28,5),we(0,8,10,-5,0,16,24,2,0,6,30,5),we(0,8,11,-5,0,17,26,2,0,6,32,5),we(0,9,11,-5,0,18,28,2,0,7,34,6),we(0,9,12,-6,0,19,29,2,0,7,36,6),we(0,10,13,-6,0,20,31,3,0,8,38,7),we(0,10,13,-6,0,21,33,3,0,8,40,7),we(0,10,14,-6,0,22,35,3,0,8,42,7),we(0,11,14,-7,0,23,36,3,0,9,44,8),we(0,11,15,-7,0,24,38,3,0,9,46,8)],PE={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},kE={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Th(t){return`${Math.round(t)}ms`}function DE(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function NE(t){const e={...PE,...t.easing},n={...kE,...t.duration};return{getAutoHeightDuration:DE,create:(i=["all"],s={})=>{const{duration:a=n.standard,easing:l=e.easeInOut,delay:h=0,...f}=s;return(Array.isArray(i)?i:[i]).map(p=>`${p} ${typeof a=="string"?a:Th(a)} ${l} ${typeof h=="string"?h:Th(h)}`).join(",")},...t,easing:e,duration:n}}const VE={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function ME(t){return qt(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function Mf(t={}){const e={...t};function n(r){const i=Object.entries(r);for(let s=0;s<i.length;s++){const[a,l]=i[s];!ME(l)||a.startsWith("unstable_")?delete r[a]:qt(l)&&(r[a]={...l},n(r[a]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function za(t={},...e){const{breakpoints:n,mixins:r={},spacing:i,palette:s={},transitions:a={},typography:l={},shape:h,...f}=t;if(t.vars)throw new Error($n(20));const p=Vl(s),y=xl(t);let T=Et(y,{mixins:wE(y.breakpoints,r),palette:p,shadows:RE.slice(),typography:CE(p,l),transitions:NE(a),zIndex:{...VE}});return T=Et(T,f),T=e.reduce((S,C)=>Et(S,C),T),T.unstable_sxConfig={...Ii,...f==null?void 0:f.unstable_sxConfig},T.unstable_sx=function(C){return jn({sx:C,theme:this})},T.toRuntimeSource=Mf,T}function qa(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const OE=[...Array(25)].map((t,e)=>{if(e===0)return"none";const n=qa(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function Of(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function Lf(t){return t==="dark"?OE:[]}function LE(t){const{palette:e={mode:"light"},opacity:n,overlays:r,...i}=t,s=Vl(e);return{palette:s,opacity:{...Of(s.mode),...n},overlays:r||Lf(s.mode),...i}}function BE(t){var e;return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!((e=t[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const FE=t=>[...[...Array(25)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],$E=t=>(e,n)=>{const r=t.rootSelector||":root",i=t.colorSchemeSelector;let s=i;if(i==="class"&&(s=".%s"),i==="data"&&(s="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(s=`[${i}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const a={};return FE(t.cssVarPrefix).forEach(l=>{a[l]=n[l],delete n[l]}),s==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:a}}:s?{[s.replace("%s",e)]:a,[`${r}, ${s.replace("%s",e)}`]:n}:{[r]:{...n,...a}}}if(s&&s!=="media")return`${r}, ${s.replace("%s",String(e))}`}else if(e){if(s==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:n}};if(s)return s.replace("%s",String(e))}return r};function jE(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function N(t,e,n){!t[e]&&n&&(t[e]=n)}function Zr(t){return!t||!t.startsWith("hsl")?t:Cf(t)}function en(t,e){`${e}Channel`in t||(t[`${e}Channel`]=Jr(Zr(t[e]),`MUI: Can't create \`palette.${e}Channel\` because \`palette.${e}\` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color().
To suppress this warning, you need to explicitly provide the \`palette.${e}Channel\` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.`))}function UE(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const $t=t=>{try{return t()}catch{}},zE=(t="mui")=>cE(t);function ua(t,e,n,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!n){t[r]=LE({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:s,...a}=za({...n,palette:{mode:i,...e==null?void 0:e.palette}});return t[r]={...e,palette:s,opacity:{...Of(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||Lf(i)},a}function qE(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:s="mui",shouldSkipGeneratingVar:a=BE,colorSchemeSelector:l=n.light&&n.dark?"media":void 0,rootSelector:h=":root",...f}=t,p=Object.keys(n)[0],y=r||(n.light&&p!=="light"?"light":p),T=zE(s),{[y]:S,light:C,dark:I,...x}=n,L={...x};let M=S;if((y==="dark"&&!("dark"in n)||y==="light"&&!("light"in n))&&(M=!0),!M)throw new Error($n(21,y));const P=ua(L,M,f,y);C&&!L.light&&ua(L,C,void 0,"light"),I&&!L.dark&&ua(L,I,void 0,"dark");let D={defaultColorScheme:y,...P,cssVarPrefix:s,colorSchemeSelector:l,rootSelector:h,getCssVar:T,colorSchemes:L,font:{...TE(P.typography),...P.font},spacing:UE(f.spacing)};Object.keys(D.colorSchemes).forEach(E=>{const c=D.colorSchemes[E].palette,m=w=>{const b=w.split("-"),F=b[1],z=b[2];return T(w,c[F][z])};if(c.mode==="light"&&(N(c.common,"background","#fff"),N(c.common,"onBackground","#000")),c.mode==="dark"&&(N(c.common,"background","#000"),N(c.common,"onBackground","#fff")),jE(c,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),c.mode==="light"){N(c.Alert,"errorColor",_e(c.error.light,.6)),N(c.Alert,"infoColor",_e(c.info.light,.6)),N(c.Alert,"successColor",_e(c.success.light,.6)),N(c.Alert,"warningColor",_e(c.warning.light,.6)),N(c.Alert,"errorFilledBg",m("palette-error-main")),N(c.Alert,"infoFilledBg",m("palette-info-main")),N(c.Alert,"successFilledBg",m("palette-success-main")),N(c.Alert,"warningFilledBg",m("palette-warning-main")),N(c.Alert,"errorFilledColor",$t(()=>c.getContrastText(c.error.main))),N(c.Alert,"infoFilledColor",$t(()=>c.getContrastText(c.info.main))),N(c.Alert,"successFilledColor",$t(()=>c.getContrastText(c.success.main))),N(c.Alert,"warningFilledColor",$t(()=>c.getContrastText(c.warning.main))),N(c.Alert,"errorStandardBg",be(c.error.light,.9)),N(c.Alert,"infoStandardBg",be(c.info.light,.9)),N(c.Alert,"successStandardBg",be(c.success.light,.9)),N(c.Alert,"warningStandardBg",be(c.warning.light,.9)),N(c.Alert,"errorIconColor",m("palette-error-main")),N(c.Alert,"infoIconColor",m("palette-info-main")),N(c.Alert,"successIconColor",m("palette-success-main")),N(c.Alert,"warningIconColor",m("palette-warning-main")),N(c.AppBar,"defaultBg",m("palette-grey-100")),N(c.Avatar,"defaultBg",m("palette-grey-400")),N(c.Button,"inheritContainedBg",m("palette-grey-300")),N(c.Button,"inheritContainedHoverBg",m("palette-grey-A100")),N(c.Chip,"defaultBorder",m("palette-grey-400")),N(c.Chip,"defaultAvatarColor",m("palette-grey-700")),N(c.Chip,"defaultIconColor",m("palette-grey-700")),N(c.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),N(c.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),N(c.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),N(c.LinearProgress,"primaryBg",be(c.primary.main,.62)),N(c.LinearProgress,"secondaryBg",be(c.secondary.main,.62)),N(c.LinearProgress,"errorBg",be(c.error.main,.62)),N(c.LinearProgress,"infoBg",be(c.info.main,.62)),N(c.LinearProgress,"successBg",be(c.success.main,.62)),N(c.LinearProgress,"warningBg",be(c.warning.main,.62)),N(c.Skeleton,"bg",`rgba(${m("palette-text-primaryChannel")} / 0.11)`),N(c.Slider,"primaryTrack",be(c.primary.main,.62)),N(c.Slider,"secondaryTrack",be(c.secondary.main,.62)),N(c.Slider,"errorTrack",be(c.error.main,.62)),N(c.Slider,"infoTrack",be(c.info.main,.62)),N(c.Slider,"successTrack",be(c.success.main,.62)),N(c.Slider,"warningTrack",be(c.warning.main,.62));const w=ts(c.background.default,.8);N(c.SnackbarContent,"bg",w),N(c.SnackbarContent,"color",$t(()=>c.getContrastText(w))),N(c.SpeedDialAction,"fabHoverBg",ts(c.background.paper,.15)),N(c.StepConnector,"border",m("palette-grey-400")),N(c.StepContent,"border",m("palette-grey-400")),N(c.Switch,"defaultColor",m("palette-common-white")),N(c.Switch,"defaultDisabledColor",m("palette-grey-100")),N(c.Switch,"primaryDisabledColor",be(c.primary.main,.62)),N(c.Switch,"secondaryDisabledColor",be(c.secondary.main,.62)),N(c.Switch,"errorDisabledColor",be(c.error.main,.62)),N(c.Switch,"infoDisabledColor",be(c.info.main,.62)),N(c.Switch,"successDisabledColor",be(c.success.main,.62)),N(c.Switch,"warningDisabledColor",be(c.warning.main,.62)),N(c.TableCell,"border",be(es(c.divider,1),.88)),N(c.Tooltip,"bg",es(c.grey[700],.92))}if(c.mode==="dark"){N(c.Alert,"errorColor",be(c.error.light,.6)),N(c.Alert,"infoColor",be(c.info.light,.6)),N(c.Alert,"successColor",be(c.success.light,.6)),N(c.Alert,"warningColor",be(c.warning.light,.6)),N(c.Alert,"errorFilledBg",m("palette-error-dark")),N(c.Alert,"infoFilledBg",m("palette-info-dark")),N(c.Alert,"successFilledBg",m("palette-success-dark")),N(c.Alert,"warningFilledBg",m("palette-warning-dark")),N(c.Alert,"errorFilledColor",$t(()=>c.getContrastText(c.error.dark))),N(c.Alert,"infoFilledColor",$t(()=>c.getContrastText(c.info.dark))),N(c.Alert,"successFilledColor",$t(()=>c.getContrastText(c.success.dark))),N(c.Alert,"warningFilledColor",$t(()=>c.getContrastText(c.warning.dark))),N(c.Alert,"errorStandardBg",_e(c.error.light,.9)),N(c.Alert,"infoStandardBg",_e(c.info.light,.9)),N(c.Alert,"successStandardBg",_e(c.success.light,.9)),N(c.Alert,"warningStandardBg",_e(c.warning.light,.9)),N(c.Alert,"errorIconColor",m("palette-error-main")),N(c.Alert,"infoIconColor",m("palette-info-main")),N(c.Alert,"successIconColor",m("palette-success-main")),N(c.Alert,"warningIconColor",m("palette-warning-main")),N(c.AppBar,"defaultBg",m("palette-grey-900")),N(c.AppBar,"darkBg",m("palette-background-paper")),N(c.AppBar,"darkColor",m("palette-text-primary")),N(c.Avatar,"defaultBg",m("palette-grey-600")),N(c.Button,"inheritContainedBg",m("palette-grey-800")),N(c.Button,"inheritContainedHoverBg",m("palette-grey-700")),N(c.Chip,"defaultBorder",m("palette-grey-700")),N(c.Chip,"defaultAvatarColor",m("palette-grey-300")),N(c.Chip,"defaultIconColor",m("palette-grey-300")),N(c.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),N(c.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),N(c.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),N(c.LinearProgress,"primaryBg",_e(c.primary.main,.5)),N(c.LinearProgress,"secondaryBg",_e(c.secondary.main,.5)),N(c.LinearProgress,"errorBg",_e(c.error.main,.5)),N(c.LinearProgress,"infoBg",_e(c.info.main,.5)),N(c.LinearProgress,"successBg",_e(c.success.main,.5)),N(c.LinearProgress,"warningBg",_e(c.warning.main,.5)),N(c.Skeleton,"bg",`rgba(${m("palette-text-primaryChannel")} / 0.13)`),N(c.Slider,"primaryTrack",_e(c.primary.main,.5)),N(c.Slider,"secondaryTrack",_e(c.secondary.main,.5)),N(c.Slider,"errorTrack",_e(c.error.main,.5)),N(c.Slider,"infoTrack",_e(c.info.main,.5)),N(c.Slider,"successTrack",_e(c.success.main,.5)),N(c.Slider,"warningTrack",_e(c.warning.main,.5));const w=ts(c.background.default,.98);N(c.SnackbarContent,"bg",w),N(c.SnackbarContent,"color",$t(()=>c.getContrastText(w))),N(c.SpeedDialAction,"fabHoverBg",ts(c.background.paper,.15)),N(c.StepConnector,"border",m("palette-grey-600")),N(c.StepContent,"border",m("palette-grey-600")),N(c.Switch,"defaultColor",m("palette-grey-300")),N(c.Switch,"defaultDisabledColor",m("palette-grey-600")),N(c.Switch,"primaryDisabledColor",_e(c.primary.main,.55)),N(c.Switch,"secondaryDisabledColor",_e(c.secondary.main,.55)),N(c.Switch,"errorDisabledColor",_e(c.error.main,.55)),N(c.Switch,"infoDisabledColor",_e(c.info.main,.55)),N(c.Switch,"successDisabledColor",_e(c.success.main,.55)),N(c.Switch,"warningDisabledColor",_e(c.warning.main,.55)),N(c.TableCell,"border",_e(es(c.divider,1),.68)),N(c.Tooltip,"bg",es(c.grey[700],.92))}en(c.background,"default"),en(c.background,"paper"),en(c.common,"background"),en(c.common,"onBackground"),en(c,"divider"),Object.keys(c).forEach(w=>{const b=c[w];b&&typeof b=="object"&&(b.main&&N(c[w],"mainChannel",Jr(Zr(b.main))),b.light&&N(c[w],"lightChannel",Jr(Zr(b.light))),b.dark&&N(c[w],"darkChannel",Jr(Zr(b.dark))),b.contrastText&&N(c[w],"contrastTextChannel",Jr(Zr(b.contrastText))),w==="text"&&(en(c[w],"primary"),en(c[w],"secondary")),w==="action"&&(b.active&&en(c[w],"active"),b.selected&&en(c[w],"selected")))})}),D=e.reduce((E,c)=>Et(E,c),D);const $={prefix:s,disableCssColorScheme:i,shouldSkipGeneratingVar:a,getSelector:$E(D)},{vars:B,generateThemeVars:_,generateStyleSheets:v}=dE(D,$);return D.vars=B,Object.entries(D.colorSchemes[D.defaultColorScheme]).forEach(([E,c])=>{D[E]=c}),D.generateThemeVars=_,D.generateStyleSheets=v,D.generateSpacing=function(){return gf(f.spacing,Il(this))},D.getColorSchemeSelector=fE(l),D.spacing=D.generateSpacing(),D.shouldSkipGeneratingVar=a,D.unstable_sxConfig={...Ii,...f==null?void 0:f.unstable_sxConfig},D.unstable_sx=function(c){return jn({sx:c,theme:this})},D.toRuntimeSource=Mf,D}function wh(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:Vl({...n===!0?{}:n.palette,mode:e})})}function Bf(t={},...e){const{palette:n,cssVariables:r=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:s=n==null?void 0:n.mode,...a}=t,l=s||"light",h=i==null?void 0:i[l],f={...i,...n?{[l]:{...typeof h!="boolean"&&h,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in t))return za(t,...e);let p=n;"palette"in t||f[l]&&(f[l]!==!0?p=f[l].palette:l==="dark"&&(p={mode:"dark"}));const y=za({...t,palette:p},...e);return y.defaultColorScheme=l,y.colorSchemes=f,y.palette.mode==="light"&&(y.colorSchemes.light={...f.light!==!0&&f.light,palette:y.palette},wh(y,"dark",f.dark)),y.palette.mode==="dark"&&(y.colorSchemes.dark={...f.dark!==!0&&f.dark,palette:y.palette},wh(y,"light",f.light)),y}return!n&&!("light"in f)&&l==="light"&&(f.light=!0),qE({...a,colorSchemes:f,defaultColorScheme:l,...typeof r!="boolean"&&r},...e)}const Ff=Bf();function po(){const t=vf(Ff);return t[ml]||t}function WE(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const HE=t=>WE(t)&&t!=="classes",He=Bb({themeId:ml,defaultTheme:Ff,rootShouldForwardProp:HE});function KE(){return _f}const Qt=lE;function Nt(t){return aE(t)}function GE(t){return typeof t.main=="string"}function QE(t,e=[]){if(!GE(t))return!1;for(const n of e)if(!t.hasOwnProperty(n)||typeof t[n]!="string")return!1;return!0}function xs(t=[]){return([,e])=>e&&QE(e,t)}function XE(t){return Dt("MuiPaper",t)}wt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const YE=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,s={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return Bt(s,XE,i)},JE=He("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(Qt(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(t.vars||t).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),ZE=R.forwardRef(function(e,n){var S;const r=Nt({props:e,name:"MuiPaper"}),i=po(),{className:s,component:a="div",elevation:l=1,square:h=!1,variant:f="elevation",...p}=r,y={...r,component:a,elevation:l,square:h,variant:f},T=YE(y);return V.jsx(JE,{as:a,ownerState:y,className:fe(T.root,s),ref:n,...p,style:{...f==="elevation"&&{"--Paper-shadow":(i.vars||i).shadows[l],...i.vars&&{"--Paper-overlay":(S=i.vars.overlays)==null?void 0:S[l]},...!i.vars&&i.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${yi("#fff",qa(l))}, ${yi("#fff",qa(l))})`}},...p.style}})});function eT(t){return Dt("MuiAppBar",t)}wt("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const tT=t=>{const{color:e,position:n,classes:r}=t,i={root:["root",`color${De(e)}`,`position${De(n)}`]};return Bt(i,eT,r)},Sh=(t,e)=>t?`${t==null?void 0:t.replace(")","")}, ${e})`:e,nT=He(ZE,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${De(n.position)}`],e[`color${De(n.color)}`]]}})(Qt(({theme:t})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[100],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[100]),...t.applyStyles("dark",{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[900],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[900])})}},...Object.entries(t.palette).filter(xs(["contrastText"])).map(([e])=>({props:{color:e},style:{"--AppBar-background":(t.vars??t).palette[e].main,"--AppBar-color":(t.vars??t).palette[e].contrastText}})),{props:e=>e.enableColorOnDark===!0&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:e=>e.enableColorOnDark===!1&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...t.applyStyles("dark",{backgroundColor:t.vars?Sh(t.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:t.vars?Sh(t.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...t.applyStyles("dark",{backgroundImage:"none"})}}]}))),rT=R.forwardRef(function(e,n){const r=Nt({props:e,name:"MuiAppBar"}),{className:i,color:s="primary",enableColorOnDark:a=!1,position:l="fixed",...h}=r,f={...r,color:s,position:l,enableColorOnDark:a},p=tT(f);return V.jsx(nT,{square:!0,component:"header",ownerState:f,elevation:4,className:fe(p.root,i,l==="fixed"&&"mui-fixed"),ref:n,...h})});var ge={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ml=Symbol.for("react.element"),Ol=Symbol.for("react.portal"),mo=Symbol.for("react.fragment"),go=Symbol.for("react.strict_mode"),yo=Symbol.for("react.profiler"),vo=Symbol.for("react.provider"),_o=Symbol.for("react.context"),iT=Symbol.for("react.server_context"),bo=Symbol.for("react.forward_ref"),Eo=Symbol.for("react.suspense"),To=Symbol.for("react.suspense_list"),wo=Symbol.for("react.memo"),So=Symbol.for("react.lazy"),sT=Symbol.for("react.offscreen"),$f;$f=Symbol.for("react.module.reference");function Vt(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Ml:switch(t=t.type,t){case mo:case yo:case go:case Eo:case To:return t;default:switch(t=t&&t.$$typeof,t){case iT:case _o:case bo:case So:case wo:case vo:return t;default:return e}}case Ol:return e}}}ge.ContextConsumer=_o;ge.ContextProvider=vo;ge.Element=Ml;ge.ForwardRef=bo;ge.Fragment=mo;ge.Lazy=So;ge.Memo=wo;ge.Portal=Ol;ge.Profiler=yo;ge.StrictMode=go;ge.Suspense=Eo;ge.SuspenseList=To;ge.isAsyncMode=function(){return!1};ge.isConcurrentMode=function(){return!1};ge.isContextConsumer=function(t){return Vt(t)===_o};ge.isContextProvider=function(t){return Vt(t)===vo};ge.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ml};ge.isForwardRef=function(t){return Vt(t)===bo};ge.isFragment=function(t){return Vt(t)===mo};ge.isLazy=function(t){return Vt(t)===So};ge.isMemo=function(t){return Vt(t)===wo};ge.isPortal=function(t){return Vt(t)===Ol};ge.isProfiler=function(t){return Vt(t)===yo};ge.isStrictMode=function(t){return Vt(t)===go};ge.isSuspense=function(t){return Vt(t)===Eo};ge.isSuspenseList=function(t){return Vt(t)===To};ge.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===mo||t===yo||t===go||t===Eo||t===To||t===sT||typeof t=="object"&&t!==null&&(t.$$typeof===So||t.$$typeof===wo||t.$$typeof===vo||t.$$typeof===_o||t.$$typeof===bo||t.$$typeof===$f||t.getModuleId!==void 0)};ge.typeOf=Vt;function oT(t){return(1+Math.sin(Math.PI*t-Math.PI/2))/2}function aT(t,e,n,r={},i=()=>{}){const{ease:s=oT,duration:a=300}=r;let l=null;const h=e[t];let f=!1;const p=()=>{f=!0},y=T=>{if(f){i(new Error("Animation cancelled"));return}l===null&&(l=T);const S=Math.min(1,(T-l)/a);if(e[t]=s(S)*(n-h)+h,S>=1){requestAnimationFrame(()=>{i(null)});return}requestAnimationFrame(y)};return h===n?(i(new Error("Element already at target position")),p):(requestAnimationFrame(y),p)}function lT(t){return Dt("MuiSvgIcon",t)}wt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const cT=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${De(e)}`,`fontSize${De(n)}`]};return Bt(i,lT,r)},uT=He("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${De(n.color)}`],e[`fontSize${De(n.fontSize)}`]]}})(Qt(({theme:t})=>{var e,n,r,i,s,a,l,h,f,p,y,T,S,C;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(e=t.transitions)==null?void 0:e.create)==null?void 0:i.call(e,"fill",{duration:(r=(n=(t.vars??t).transitions)==null?void 0:n.duration)==null?void 0:r.shorter}),variants:[{props:I=>!I.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((a=(s=t.typography)==null?void 0:s.pxToRem)==null?void 0:a.call(s,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((h=(l=t.typography)==null?void 0:l.pxToRem)==null?void 0:h.call(l,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((p=(f=t.typography)==null?void 0:f.pxToRem)==null?void 0:p.call(f,35))||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,I])=>I&&I.main).map(([I])=>{var x,L;return{props:{color:I},style:{color:(L=(x=(t.vars??t).palette)==null?void 0:x[I])==null?void 0:L.main}}}),{props:{color:"action"},style:{color:(T=(y=(t.vars??t).palette)==null?void 0:y.action)==null?void 0:T.active}},{props:{color:"disabled"},style:{color:(C=(S=(t.vars??t).palette)==null?void 0:S.action)==null?void 0:C.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),Rs=R.forwardRef(function(e,n){const r=Nt({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:a="inherit",component:l="svg",fontSize:h="medium",htmlColor:f,inheritViewBox:p=!1,titleAccess:y,viewBox:T="0 0 24 24",...S}=r,C=R.isValidElement(i)&&i.type==="svg",I={...r,color:a,component:l,fontSize:h,instanceFontSize:e.fontSize,inheritViewBox:p,viewBox:T,hasSvgAsChild:C},x={};p||(x.viewBox=T);const L=cT(I);return V.jsxs(uT,{as:l,className:fe(L.root,s),focusable:"false",color:f,"aria-hidden":y?void 0:!0,role:y?"img":void 0,ref:n,...x,...S,...C&&i.props,ownerState:I,children:[C?i.props.children:i,y?V.jsx("title",{children:y}):null]})});Rs&&(Rs.muiName="SvgIcon");function Co(t,e){function n(r,i){return V.jsx(Rs,{"data-testid":`${e}Icon`,ref:i,...r,children:t})}return n.muiName=Rs.muiName,R.memo(R.forwardRef(n))}const hT={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function dT(t){const{onChange:e,...n}=t,r=R.useRef(),i=R.useRef(null),s=()=>{r.current=i.current.offsetHeight-i.current.clientHeight};return gi(()=>{const a=If(()=>{const h=r.current;s(),h!==r.current&&e(r.current)}),l=Tr(i.current);return l.addEventListener("resize",a),()=>{a.clear(),l.removeEventListener("resize",a)}},[e]),R.useEffect(()=>{s(),e(r.current)},[e]),V.jsx("div",{style:hT,ref:i,...n})}const fT=Co(V.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),pT=Co(V.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");class Ps{constructor(){jr(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new Ps}static use(){const e=Af(Ps.create).current,[n,r]=R.useState(!1);return e.shouldMount=n,e.setShouldMount=r,R.useEffect(e.mountEffect,[n]),e}mount(){return this.mounted||(this.mounted=gT(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.start(...e)})}stop(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.stop(...e)})}pulsate(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.pulsate(...e)})}}function mT(){return Ps.use()}function gT(){let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n}function jf(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function Wa(t,e){return Wa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Wa(t,e)}function Uf(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Wa(t,e)}const Ch={disabled:!1},ks=tn.createContext(null);var yT=function(e){return e.scrollTop},ei="unmounted",Dn="exited",Nn="entering",lr="entered",Ha="exiting",ln=function(t){Uf(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var a=i,l=a&&!a.isMounting?r.enter:r.appear,h;return s.appearStatus=null,r.in?l?(h=Dn,s.appearStatus=Nn):h=lr:r.unmountOnExit||r.mountOnEnter?h=ei:h=Dn,s.state={status:h},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var a=i.in;return a&&s.status===ei?{status:Dn}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var a=this.state.status;this.props.in?a!==Nn&&a!==lr&&(s=Nn):(a===Nn||a===lr)&&(s=Ha)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,a,l;return s=a=l=i,i!=null&&typeof i!="number"&&(s=i.exit,a=i.enter,l=i.appear!==void 0?i.appear:a),{exit:s,enter:a,appear:l}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===Nn){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:zi.findDOMNode(this);a&&yT(a)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Dn&&this.setState({status:ei})},n.performEnter=function(i){var s=this,a=this.props.enter,l=this.context?this.context.isMounting:i,h=this.props.nodeRef?[l]:[zi.findDOMNode(this),l],f=h[0],p=h[1],y=this.getTimeouts(),T=l?y.appear:y.enter;if(!i&&!a||Ch.disabled){this.safeSetState({status:lr},function(){s.props.onEntered(f)});return}this.props.onEnter(f,p),this.safeSetState({status:Nn},function(){s.props.onEntering(f,p),s.onTransitionEnd(T,function(){s.safeSetState({status:lr},function(){s.props.onEntered(f,p)})})})},n.performExit=function(){var i=this,s=this.props.exit,a=this.getTimeouts(),l=this.props.nodeRef?void 0:zi.findDOMNode(this);if(!s||Ch.disabled){this.safeSetState({status:Dn},function(){i.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:Ha},function(){i.props.onExiting(l),i.onTransitionEnd(a.exit,function(){i.safeSetState({status:Dn},function(){i.props.onExited(l)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,a=!0;return this.nextCallback=function(l){a&&(a=!1,s.nextCallback=null,i(l))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var a=this.props.nodeRef?this.props.nodeRef.current:zi.findDOMNode(this),l=i==null&&!this.props.addEndListener;if(!a||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var h=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],f=h[0],p=h[1];this.props.addEndListener(f,p)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===ei)return null;var s=this.props,a=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var l=jf(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return tn.createElement(ks.Provider,{value:null},typeof a=="function"?a(i,l):tn.cloneElement(tn.Children.only(a),l))},e}(tn.Component);ln.contextType=ks;ln.propTypes={};function rr(){}ln.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:rr,onEntering:rr,onEntered:rr,onExit:rr,onExiting:rr,onExited:rr};ln.UNMOUNTED=ei;ln.EXITED=Dn;ln.ENTERING=Nn;ln.ENTERED=lr;ln.EXITING=Ha;function vT(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ll(t,e){var n=function(s){return e&&R.isValidElement(s)?e(s):s},r=Object.create(null);return t&&R.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function _T(t,e){t=t||{},e=e||{};function n(p){return p in e?e[p]:t[p]}var r=Object.create(null),i=[];for(var s in t)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var a,l={};for(var h in e){if(r[h])for(a=0;a<r[h].length;a++){var f=r[h][a];l[r[h][a]]=n(f)}l[h]=n(h)}for(a=0;a<i.length;a++)l[i[a]]=n(i[a]);return l}function Mn(t,e,n){return n[e]!=null?n[e]:t.props[e]}function bT(t,e){return Ll(t.children,function(n){return R.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:Mn(n,"appear",t),enter:Mn(n,"enter",t),exit:Mn(n,"exit",t)})})}function ET(t,e,n){var r=Ll(t.children),i=_T(e,r);return Object.keys(i).forEach(function(s){var a=i[s];if(R.isValidElement(a)){var l=s in e,h=s in r,f=e[s],p=R.isValidElement(f)&&!f.props.in;h&&(!l||p)?i[s]=R.cloneElement(a,{onExited:n.bind(null,a),in:!0,exit:Mn(a,"exit",t),enter:Mn(a,"enter",t)}):!h&&l&&!p?i[s]=R.cloneElement(a,{in:!1}):h&&l&&R.isValidElement(f)&&(i[s]=R.cloneElement(a,{onExited:n.bind(null,a),in:f.props.in,exit:Mn(a,"exit",t),enter:Mn(a,"enter",t)}))}}),i}var TT=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},wT={component:"div",childFactory:function(e){return e}},Bl=function(t){Uf(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var a=s.handleExited.bind(vT(s));return s.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},s}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var a=s.children,l=s.handleExited,h=s.firstRender;return{children:h?bT(i,l):ET(i,a,l),firstRender:!1}},n.handleExited=function(i,s){var a=Ll(this.props.children);i.key in a||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(l){var h=ws({},l.children);return delete h[i.key],{children:h}}))},n.render=function(){var i=this.props,s=i.component,a=i.childFactory,l=jf(i,["component","childFactory"]),h=this.state.contextValue,f=TT(this.state.children).map(a);return delete l.appear,delete l.enter,delete l.exit,s===null?tn.createElement(ks.Provider,{value:h},f):tn.createElement(ks.Provider,{value:h},tn.createElement(s,l,f))},e}(tn.Component);Bl.propTypes={};Bl.defaultProps=wT;function ST(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:a,in:l,onExited:h,timeout:f}=t,[p,y]=R.useState(!1),T=fe(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),S={width:a,height:a,top:-(a/2)+s,left:-(a/2)+i},C=fe(n.child,p&&n.childLeaving,r&&n.childPulsate);return!l&&!p&&y(!0),R.useEffect(()=>{if(!l&&h!=null){const I=setTimeout(h,f);return()=>{clearTimeout(I)}}},[h,l,f]),V.jsx("span",{className:T,style:S,children:V.jsx("span",{className:C})})}const Rt=wt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Ka=550,CT=80,IT=wl`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,AT=wl`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,xT=wl`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,RT=He("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),PT=He(ST,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${Rt.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${IT};
    animation-duration: ${Ka}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  &.${Rt.ripplePulsate} {
    animation-duration: ${({theme:t})=>t.transitions.duration.shorter}ms;
  }

  & .${Rt.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${Rt.childLeaving} {
    opacity: 0;
    animation-name: ${AT};
    animation-duration: ${Ka}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  & .${Rt.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${xT};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,kT=R.forwardRef(function(e,n){const r=Nt({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:a,...l}=r,[h,f]=R.useState([]),p=R.useRef(0),y=R.useRef(null);R.useEffect(()=>{y.current&&(y.current(),y.current=null)},[h]);const T=R.useRef(!1),S=tE(),C=R.useRef(null),I=R.useRef(null),x=R.useCallback(D=>{const{pulsate:$,rippleX:B,rippleY:_,rippleSize:v,cb:E}=D;f(c=>[...c,V.jsx(PT,{classes:{ripple:fe(s.ripple,Rt.ripple),rippleVisible:fe(s.rippleVisible,Rt.rippleVisible),ripplePulsate:fe(s.ripplePulsate,Rt.ripplePulsate),child:fe(s.child,Rt.child),childLeaving:fe(s.childLeaving,Rt.childLeaving),childPulsate:fe(s.childPulsate,Rt.childPulsate)},timeout:Ka,pulsate:$,rippleX:B,rippleY:_,rippleSize:v},p.current)]),p.current+=1,y.current=E},[s]),L=R.useCallback((D={},$={},B=()=>{})=>{const{pulsate:_=!1,center:v=i||$.pulsate,fakeElement:E=!1}=$;if((D==null?void 0:D.type)==="mousedown"&&T.current){T.current=!1;return}(D==null?void 0:D.type)==="touchstart"&&(T.current=!0);const c=E?null:I.current,m=c?c.getBoundingClientRect():{width:0,height:0,left:0,top:0};let w,b,F;if(v||D===void 0||D.clientX===0&&D.clientY===0||!D.clientX&&!D.touches)w=Math.round(m.width/2),b=Math.round(m.height/2);else{const{clientX:z,clientY:H}=D.touches&&D.touches.length>0?D.touches[0]:D;w=Math.round(z-m.left),b=Math.round(H-m.top)}if(v)F=Math.sqrt((2*m.width**2+m.height**2)/3),F%2===0&&(F+=1);else{const z=Math.max(Math.abs((c?c.clientWidth:0)-w),w)*2+2,H=Math.max(Math.abs((c?c.clientHeight:0)-b),b)*2+2;F=Math.sqrt(z**2+H**2)}D!=null&&D.touches?C.current===null&&(C.current=()=>{x({pulsate:_,rippleX:w,rippleY:b,rippleSize:F,cb:B})},S.start(CT,()=>{C.current&&(C.current(),C.current=null)})):x({pulsate:_,rippleX:w,rippleY:b,rippleSize:F,cb:B})},[i,x,S]),M=R.useCallback(()=>{L({},{pulsate:!0})},[L]),P=R.useCallback((D,$)=>{if(S.clear(),(D==null?void 0:D.type)==="touchend"&&C.current){C.current(),C.current=null,S.start(0,()=>{P(D,$)});return}C.current=null,f(B=>B.length>0?B.slice(1):B),y.current=$},[S]);return R.useImperativeHandle(n,()=>({pulsate:M,start:L,stop:P}),[M,L,P]),V.jsx(RT,{className:fe(Rt.root,s.root,a),ref:I,...l,children:V.jsx(Bl,{component:null,exit:!0,children:h})})});function DT(t){return Dt("MuiButtonBase",t)}const NT=wt("MuiButtonBase",["root","disabled","focusVisible"]),VT=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,a=Bt({root:["root",e&&"disabled",n&&"focusVisible"]},DT,i);return n&&r&&(a.root+=` ${r}`),a},MT=He("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${NT.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Fl=R.forwardRef(function(e,n){const r=Nt({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:a,className:l,component:h="button",disabled:f=!1,disableRipple:p=!1,disableTouchRipple:y=!1,focusRipple:T=!1,focusVisibleClassName:S,LinkComponent:C="a",onBlur:I,onClick:x,onContextMenu:L,onDragLeave:M,onFocus:P,onFocusVisible:D,onKeyDown:$,onKeyUp:B,onMouseDown:_,onMouseLeave:v,onMouseUp:E,onTouchEnd:c,onTouchMove:m,onTouchStart:w,tabIndex:b=0,TouchRippleProps:F,touchRippleRef:z,type:H,...Z}=r,te=R.useRef(null),ye=mT(),Me=an(ye.ref,z),[me,Se]=R.useState(!1);f&&me&&Se(!1),R.useImperativeHandle(i,()=>({focusVisible:()=>{Se(!0),te.current.focus()}}),[]);const ce=ye.shouldMount&&!p&&!f;R.useEffect(()=>{me&&T&&!p&&ye.pulsate()},[p,T,me,ye]);function se(Q,cn,qn=y){return nn(Pe=>(cn&&cn(Pe),qn||ye[Q](Pe),!0))}const je=se("start",_),Be=se("stop",L),Ke=se("stop",M),Mt=se("stop",E),Ft=se("stop",Q=>{me&&Q.preventDefault(),v&&v(Q)}),ct=se("start",w),St=se("stop",c),Fe=se("stop",m),Ge=se("stop",Q=>{ph(Q.target)||Se(!1),I&&I(Q)},!1),mt=nn(Q=>{te.current||(te.current=Q.currentTarget),ph(Q.target)&&(Se(!0),D&&D(Q)),P&&P(Q)}),Ct=()=>{const Q=te.current;return h&&h!=="button"&&!(Q.tagName==="A"&&Q.href)},It=nn(Q=>{T&&!Q.repeat&&me&&Q.key===" "&&ye.stop(Q,()=>{ye.start(Q)}),Q.target===Q.currentTarget&&Ct()&&Q.key===" "&&Q.preventDefault(),$&&$(Q),Q.target===Q.currentTarget&&Ct()&&Q.key==="Enter"&&!f&&(Q.preventDefault(),x&&x(Q))}),Ze=nn(Q=>{T&&Q.key===" "&&me&&!Q.defaultPrevented&&ye.stop(Q,()=>{ye.pulsate(Q)}),B&&B(Q),x&&Q.target===Q.currentTarget&&Ct()&&Q.key===" "&&!Q.defaultPrevented&&x(Q)});let et=h;et==="button"&&(Z.href||Z.to)&&(et=C);const ut={};et==="button"?(ut.type=H===void 0?"button":H,ut.disabled=f):(!Z.href&&!Z.to&&(ut.role="button"),f&&(ut["aria-disabled"]=f));const ht=an(n,te),At={...r,centerRipple:s,component:h,disabled:f,disableRipple:p,disableTouchRipple:y,focusRipple:T,tabIndex:b,focusVisible:me},zn=VT(At);return V.jsxs(MT,{as:et,className:fe(zn.root,l),ownerState:At,onBlur:Ge,onClick:x,onContextMenu:Be,onFocus:mt,onKeyDown:It,onKeyUp:Ze,onMouseDown:je,onMouseLeave:Ft,onMouseUp:Mt,onDragLeave:Ke,onTouchEnd:St,onTouchMove:Fe,onTouchStart:ct,ref:ht,tabIndex:f?-1:b,type:H,...ut,...Z,children:[a,ce?V.jsx(kT,{ref:Me,center:s,...F}):null]})});function OT(t){return Dt("MuiTabScrollButton",t)}const LT=wt("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),BT=t=>{const{classes:e,orientation:n,disabled:r}=t;return Bt({root:["root",n,r&&"disabled"]},OT,e)},FT=He(Fl,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.orientation&&e[n.orientation]]}})({width:40,flexShrink:0,opacity:.8,[`&.${LT.disabled}`]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),$T=R.forwardRef(function(e,n){const r=Nt({props:e,name:"MuiTabScrollButton"}),{className:i,slots:s={},slotProps:a={},direction:l,orientation:h,disabled:f,...p}=r,y=Df(),T={isRtl:y,...r},S=BT(T),C=s.StartScrollButtonIcon??fT,I=s.EndScrollButtonIcon??pT,x=As({elementType:C,externalSlotProps:a.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:T}),L=As({elementType:I,externalSlotProps:a.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:T});return V.jsx(FT,{component:"div",className:fe(S.root,i),ref:n,role:null,ownerState:T,tabIndex:null,...p,style:{...p.style,...h==="vertical"&&{"--TabScrollButton-svgRotate":`rotate(${y?-90:90}deg)`}},children:l==="left"?V.jsx(C,{...x}):V.jsx(I,{...L})})});function jT(t){return Dt("MuiTabs",t)}const ha=wt("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),Ih=(t,e)=>t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t.firstChild,Ah=(t,e)=>t===e?t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t.lastChild,ns=(t,e,n)=>{let r=!1,i=n(t,e);for(;i;){if(i===t.firstChild){if(r)return;r=!0}const s=i.disabled||i.getAttribute("aria-disabled")==="true";if(!i.hasAttribute("tabindex")||s)i=n(t,i);else{i.focus();return}}},UT=t=>{const{vertical:e,fixed:n,hideScrollbar:r,scrollableX:i,scrollableY:s,centered:a,scrollButtonsHideMobile:l,classes:h}=t;return Bt({root:["root",e&&"vertical"],scroller:["scroller",n&&"fixed",r&&"hideScrollbar",i&&"scrollableX",s&&"scrollableY"],flexContainer:["flexContainer",e&&"flexContainerVertical",a&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",l&&"scrollButtonsHideMobile"],scrollableX:[i&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},jT,h)},zT=He("div",{name:"MuiTabs",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${ha.scrollButtons}`]:e.scrollButtons},{[`& .${ha.scrollButtons}`]:n.scrollButtonsHideMobile&&e.scrollButtonsHideMobile},e.root,n.vertical&&e.vertical]}})(Qt(({theme:t})=>({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:({ownerState:e})=>e.vertical,style:{flexDirection:"column"}},{props:({ownerState:e})=>e.scrollButtonsHideMobile,style:{[`& .${ha.scrollButtons}`]:{[t.breakpoints.down("sm")]:{display:"none"}}}}]}))),qT=He("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.scroller,n.fixed&&e.fixed,n.hideScrollbar&&e.hideScrollbar,n.scrollableX&&e.scrollableX,n.scrollableY&&e.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:({ownerState:t})=>t.fixed,style:{overflowX:"hidden",width:"100%"}},{props:({ownerState:t})=>t.hideScrollbar,style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:({ownerState:t})=>t.scrollableX,style:{overflowX:"auto",overflowY:"hidden"}},{props:({ownerState:t})=>t.scrollableY,style:{overflowY:"auto",overflowX:"hidden"}}]}),WT=He("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.flexContainer,n.vertical&&e.flexContainerVertical,n.centered&&e.centered]}})({display:"flex",variants:[{props:({ownerState:t})=>t.vertical,style:{flexDirection:"column"}},{props:({ownerState:t})=>t.centered,style:{justifyContent:"center"}}]}),HT=He("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(t,e)=>e.indicator})(Qt(({theme:t})=>({position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(t.vars||t).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(t.vars||t).palette.secondary.main}},{props:({ownerState:e})=>e.vertical,style:{height:"100%",width:2,right:0}}]}))),KT=He(dT)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),xh={},GT=R.forwardRef(function(e,n){const r=Nt({props:e,name:"MuiTabs"}),i=po(),s=Df(),{"aria-label":a,"aria-labelledby":l,action:h,centered:f=!1,children:p,className:y,component:T="div",allowScrollButtonsMobile:S=!1,indicatorColor:C="primary",onChange:I,orientation:x="horizontal",ScrollButtonComponent:L=$T,scrollButtons:M="auto",selectionFollowsFocus:P,slots:D={},slotProps:$={},TabIndicatorProps:B={},TabScrollButtonProps:_={},textColor:v="primary",value:E,variant:c="standard",visibleScrollbar:m=!1,...w}=r,b=c==="scrollable",F=x==="vertical",z=F?"scrollTop":"scrollLeft",H=F?"top":"left",Z=F?"bottom":"right",te=F?"clientHeight":"clientWidth",ye=F?"height":"width",Me={...r,component:T,allowScrollButtonsMobile:S,indicatorColor:C,orientation:x,vertical:F,scrollButtons:M,textColor:v,variant:c,visibleScrollbar:m,fixed:!b,hideScrollbar:b&&!m,scrollableX:b&&!F,scrollableY:b&&F,centered:f&&!b,scrollButtonsHideMobile:!S},me=UT(Me),Se=As({elementType:D.StartScrollButtonIcon,externalSlotProps:$.startScrollButtonIcon,ownerState:Me}),ce=As({elementType:D.EndScrollButtonIcon,externalSlotProps:$.endScrollButtonIcon,ownerState:Me}),[se,je]=R.useState(!1),[Be,Ke]=R.useState(xh),[Mt,Ft]=R.useState(!1),[ct,St]=R.useState(!1),[Fe,Ge]=R.useState(!1),[mt,Ct]=R.useState({overflow:"hidden",scrollbarWidth:0}),It=new Map,Ze=R.useRef(null),et=R.useRef(null),ut=()=>{const W=Ze.current;let K;if(W){const ee=W.getBoundingClientRect();K={clientWidth:W.clientWidth,scrollLeft:W.scrollLeft,scrollTop:W.scrollTop,scrollWidth:W.scrollWidth,top:ee.top,bottom:ee.bottom,left:ee.left,right:ee.right}}let ue;if(W&&E!==!1){const ee=et.current.children;if(ee.length>0){const Ee=ee[It.get(E)];ue=Ee?Ee.getBoundingClientRect():null}}return{tabsMeta:K,tabMeta:ue}},ht=nn(()=>{const{tabsMeta:W,tabMeta:K}=ut();let ue=0,ee;F?(ee="top",K&&W&&(ue=K.top-W.top+W.scrollTop)):(ee=s?"right":"left",K&&W&&(ue=(s?-1:1)*(K[ee]-W[ee]+W.scrollLeft)));const Ee={[ee]:ue,[ye]:K?K[ye]:0};if(typeof Be[ee]!="number"||typeof Be[ye]!="number")Ke(Ee);else{const gt=Math.abs(Be[ee]-Ee[ee]),yt=Math.abs(Be[ye]-Ee[ye]);(gt>=1||yt>=1)&&Ke(Ee)}}),At=(W,{animation:K=!0}={})=>{K?aT(z,Ze.current,W,{duration:i.transitions.duration.standard}):Ze.current[z]=W},zn=W=>{let K=Ze.current[z];F?K+=W:K+=W*(s?-1:1),At(K)},Q=()=>{const W=Ze.current[te];let K=0;const ue=Array.from(et.current.children);for(let ee=0;ee<ue.length;ee+=1){const Ee=ue[ee];if(K+Ee[te]>W){ee===0&&(K=W);break}K+=Ee[te]}return K},cn=()=>{zn(-1*Q())},qn=()=>{zn(Q())},Pe=R.useCallback(W=>{Ct({overflow:null,scrollbarWidth:W})},[]),Ue=()=>{const W={};W.scrollbarSizeListener=b?V.jsx(KT,{onChange:Pe,className:fe(me.scrollableX,me.hideScrollbar)}):null;const ue=b&&(M==="auto"&&(Mt||ct)||M===!0);return W.scrollButtonStart=ue?V.jsx(L,{slots:{StartScrollButtonIcon:D.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:Se},orientation:x,direction:s?"right":"left",onClick:cn,disabled:!Mt,..._,className:fe(me.scrollButtons,_.className)}):null,W.scrollButtonEnd=ue?V.jsx(L,{slots:{EndScrollButtonIcon:D.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:ce},orientation:x,direction:s?"left":"right",onClick:qn,disabled:!ct,..._,className:fe(me.scrollButtons,_.className)}):null,W},Cn=nn(W=>{const{tabsMeta:K,tabMeta:ue}=ut();if(!(!ue||!K)){if(ue[H]<K[H]){const ee=K[z]+(ue[H]-K[H]);At(ee,{animation:W})}else if(ue[Z]>K[Z]){const ee=K[z]+(ue[Z]-K[Z]);At(ee,{animation:W})}}}),In=nn(()=>{b&&M!==!1&&Ge(!Fe)});R.useEffect(()=>{const W=If(()=>{Ze.current&&ht()});let K;const ue=gt=>{gt.forEach(yt=>{yt.removedNodes.forEach(Xt=>{K==null||K.unobserve(Xt)}),yt.addedNodes.forEach(Xt=>{K==null||K.observe(Xt)})}),W(),In()},ee=Tr(Ze.current);ee.addEventListener("resize",W);let Ee;return typeof ResizeObserver<"u"&&(K=new ResizeObserver(W),Array.from(et.current.children).forEach(gt=>{K.observe(gt)})),typeof MutationObserver<"u"&&(Ee=new MutationObserver(ue),Ee.observe(et.current,{childList:!0})),()=>{W.clear(),ee.removeEventListener("resize",W),Ee==null||Ee.disconnect(),K==null||K.disconnect()}},[ht,In]),R.useEffect(()=>{const W=Array.from(et.current.children),K=W.length;if(typeof IntersectionObserver<"u"&&K>0&&b&&M!==!1){const ue=W[0],ee=W[K-1],Ee={root:Ze.current,threshold:.99},gt=Ot=>{Ft(!Ot[0].isIntersecting)},yt=new IntersectionObserver(gt,Ee);yt.observe(ue);const Xt=Ot=>{St(!Ot[0].isIntersecting)},Kn=new IntersectionObserver(Xt,Ee);return Kn.observe(ee),()=>{yt.disconnect(),Kn.disconnect()}}},[b,M,Fe,p==null?void 0:p.length]),R.useEffect(()=>{je(!0)},[]),R.useEffect(()=>{ht()}),R.useEffect(()=>{Cn(xh!==Be)},[Cn,Be]),R.useImperativeHandle(h,()=>({updateIndicator:ht,updateScrollButtons:In}),[ht,In]);const Rr=V.jsx(HT,{...B,className:fe(me.indicator,B.className),ownerState:Me,style:{...Be,...B.style}});let Wn=0;const An=R.Children.map(p,W=>{if(!R.isValidElement(W))return null;const K=W.props.value===void 0?Wn:W.props.value;It.set(K,Wn);const ue=K===E;return Wn+=1,R.cloneElement(W,{fullWidth:c==="fullWidth",indicator:ue&&!se&&Rr,selected:ue,selectionFollowsFocus:P,onChange:I,textColor:v,value:K,...Wn===1&&E===!1&&!W.props.tabIndex?{tabIndex:0}:{}})}),Ai=W=>{const K=et.current,ue=Sn(K).activeElement;if(ue.getAttribute("role")!=="tab")return;let Ee=x==="horizontal"?"ArrowLeft":"ArrowUp",gt=x==="horizontal"?"ArrowRight":"ArrowDown";switch(x==="horizontal"&&s&&(Ee="ArrowRight",gt="ArrowLeft"),W.key){case Ee:W.preventDefault(),ns(K,ue,Ah);break;case gt:W.preventDefault(),ns(K,ue,Ih);break;case"Home":W.preventDefault(),ns(K,null,Ih);break;case"End":W.preventDefault(),ns(K,null,Ah);break}},Hn=Ue();return V.jsxs(zT,{className:fe(me.root,y),ownerState:Me,ref:n,as:T,...w,children:[Hn.scrollButtonStart,Hn.scrollbarSizeListener,V.jsxs(qT,{className:me.scroller,ownerState:Me,style:{overflow:mt.overflow,[F?`margin${s?"Left":"Right"}`:"marginBottom"]:m?void 0:-mt.scrollbarWidth},ref:Ze,children:[V.jsx(WT,{"aria-label":a,"aria-labelledby":l,"aria-orientation":x==="vertical"?"vertical":null,className:me.flexContainer,ownerState:Me,onKeyDown:Ai,ref:et,role:"tablist",children:An}),se&&Rr]}),Hn.scrollButtonEnd]})});function QT(t){return Dt("MuiTab",t)}const xt=wt("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper","icon"]),XT=t=>{const{classes:e,textColor:n,fullWidth:r,wrapped:i,icon:s,label:a,selected:l,disabled:h}=t,f={root:["root",s&&a&&"labelIcon",`textColor${De(n)}`,r&&"fullWidth",i&&"wrapped",l&&"selected",h&&"disabled"],icon:["iconWrapper","icon"]};return Bt(f,QT,e)},YT=He(Fl,{name:"MuiTab",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.label&&n.icon&&e.labelIcon,e[`textColor${De(n.textColor)}`],n.fullWidth&&e.fullWidth,n.wrapped&&e.wrapped,{[`& .${xt.iconWrapper}`]:e.iconWrapper},{[`& .${xt.icon}`]:e.icon}]}})(Qt(({theme:t})=>({...t.typography.button,maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",lineHeight:1.25,variants:[{props:({ownerState:e})=>e.label&&(e.iconPosition==="top"||e.iconPosition==="bottom"),style:{flexDirection:"column"}},{props:({ownerState:e})=>e.label&&e.iconPosition!=="top"&&e.iconPosition!=="bottom",style:{flexDirection:"row"}},{props:({ownerState:e})=>e.icon&&e.label,style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="top",style:{[`& > .${xt.icon}`]:{marginBottom:6}}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="bottom",style:{[`& > .${xt.icon}`]:{marginTop:6}}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="start",style:{[`& > .${xt.icon}`]:{marginRight:t.spacing(1)}}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="end",style:{[`& > .${xt.icon}`]:{marginLeft:t.spacing(1)}}},{props:{textColor:"inherit"},style:{color:"inherit",opacity:.6,[`&.${xt.selected}`]:{opacity:1},[`&.${xt.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}}},{props:{textColor:"primary"},style:{color:(t.vars||t).palette.text.secondary,[`&.${xt.selected}`]:{color:(t.vars||t).palette.primary.main},[`&.${xt.disabled}`]:{color:(t.vars||t).palette.text.disabled}}},{props:{textColor:"secondary"},style:{color:(t.vars||t).palette.text.secondary,[`&.${xt.selected}`]:{color:(t.vars||t).palette.secondary.main},[`&.${xt.disabled}`]:{color:(t.vars||t).palette.text.disabled}}},{props:({ownerState:e})=>e.fullWidth,style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"}},{props:({ownerState:e})=>e.wrapped,style:{fontSize:t.typography.pxToRem(12)}}]}))),da=R.forwardRef(function(e,n){const r=Nt({props:e,name:"MuiTab"}),{className:i,disabled:s=!1,disableFocusRipple:a=!1,fullWidth:l,icon:h,iconPosition:f="top",indicator:p,label:y,onChange:T,onClick:S,onFocus:C,selected:I,selectionFollowsFocus:x,textColor:L="inherit",value:M,wrapped:P=!1,...D}=r,$={...r,disabled:s,disableFocusRipple:a,selected:I,icon:!!h,iconPosition:f,label:!!y,fullWidth:l,textColor:L,wrapped:P},B=XT($),_=h&&y&&R.isValidElement(h)?R.cloneElement(h,{className:fe(B.icon,h.props.className)}):h,v=c=>{!I&&T&&T(c,M),S&&S(c)},E=c=>{x&&!I&&T&&T(c,M),C&&C(c)};return V.jsxs(YT,{focusRipple:!a,className:fe(B.root,i),ref:n,role:"tab","aria-selected":I,disabled:s,onClick:v,onFocus:E,ownerState:$,tabIndex:I?0:-1,...D,children:[f==="top"||f==="start"?V.jsxs(R.Fragment,{children:[_,y]}):V.jsxs(R.Fragment,{children:[y,_]}),p]})}),JT=wt("MuiBox",["root"]),ZT=Bf(),fn=Nb({themeId:ml,defaultTheme:ZT,defaultClassName:JT.root,generateClassName:bf.generate}),ew=({Img:t,Title:e,Description:n,ProjectLink:r,id:i})=>{const s=l=>{r||(console.log("Demo-Link nicht verfgbar"),l.preventDefault(),alert("Die Live-Demo ist nicht verfgbar."))},a=l=>{i||(console.log("Projekt-ID nicht vorhanden"),l.preventDefault(),alert("Projektdetails sind nicht verfgbar."))};return V.jsx("div",{className:"group relative w-full",children:V.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-green-900/70 to-teal-900/70 backdrop-blur-sm border border-white/10 shadow-lg transition-transform duration-300 hover:shadow-green-500/20 hover:scale-105",children:[V.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-500/10 to-teal-400/10 opacity-50 group-hover:opacity-70 transition-opacity duration-300 rounded-2xl"}),V.jsxs("div",{className:"relative p-5 z-10",children:[V.jsx("div",{className:"overflow-hidden rounded-xl",children:V.jsx("img",{src:t,alt:e,className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-500 rounded-xl"})}),V.jsxs("div",{className:"mt-4 space-y-3",children:[V.jsx("h3",{className:"text-xl font-semibold bg-clip-text text-transparent bg-gradient-to-r from-green-400 to-teal-300",children:e}),V.jsx("p",{className:"text-gray-300 text-sm leading-relaxed line-clamp-2",children:n}),V.jsxs("div",{className:"pt-4 flex items-center justify-between",children:[r?V.jsxs("a",{href:r,target:"_blank",rel:"noopener noreferrer",onClick:s,className:"inline-flex items-center space-x-2 text-green-300 hover:text-green-200 transition-colors duration-200",children:[V.jsx("span",{className:"text-sm font-medium",children:"Live-Demo"}),V.jsx(vp,{className:"w-4 h-4"})]}):V.jsx("span",{className:"text-gray-600 text-sm",children:"Demo nicht verfgbar"}),i?V.jsxs(gp,{to:`/projekt/${i}`,onClick:a,className:"inline-flex items-center space-x-2 px-4 py-2 rounded-lg bg-white/5 hover:bg-white/10 text-white/90 transition-all duration-200 hover:scale-105 active:scale-95 focus:outline-none focus:ring-2 focus:ring-green-400/50",children:[V.jsx("span",{className:"text-sm font-medium",children:"Details"}),V.jsx(Tp,{className:"w-4 h-4"})]}):V.jsx("span",{className:"text-gray-600 text-sm",children:"Details nicht verfgbar"})]})]})]}),V.jsx("div",{className:"absolute inset-0 border border-transparent group-hover:border-teal-400/50 rounded-2xl transition-colors duration-300"})]})})},tw=({TechStackIcon:t,Language:e})=>V.jsxs("div",{className:"group p-6 rounded-2xl bg-slate-800/50 hover:bg-slate-700/50 transition-all duration-300 ease-in-out flex flex-col items-center justify-center gap-3 hover:scale-105 cursor-pointer shadow-lg hover:shadow-xl",children:[V.jsxs("div",{className:"relative",children:[V.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full opacity-0 group-hover:opacity-50 blur transition duration-300"}),V.jsx("img",{src:t,alt:`${e} icon`,className:"relative h-16 w-16 md:h-20 md:w-20 transform transition-transform duration-300"})]}),V.jsx("span",{className:"text-slate-300 font-semibold text-sm md:text-base tracking-wide group-hover:text-white transition-colors duration-300",children:e})]}),nw=t=>t.scrollTop;function Rh(t,e){const{timeout:n,easing:r,style:i={}}=t;return{duration:i.transitionDuration??(typeof n=="number"?n:n[e.mode]||0),easing:i.transitionTimingFunction??(typeof r=="object"?r[e.mode]:r),delay:i.transitionDelay}}function Ds(t,e){const{className:n,elementType:r,ownerState:i,externalForwardedProps:s,getSlotOwnerState:a,internalForwardedProps:l,...h}=e,{component:f,slots:p={[t]:void 0},slotProps:y={[t]:void 0},...T}=s,S=p[t]||r,C=kf(y[t],i),{props:{component:I,...x},internalRef:L}=Pf({className:n,...h,externalForwardedProps:t==="root"?T:void 0,externalSlotProps:C}),M=an(L,C==null?void 0:C.ref,e.ref),P=a?a(x):{},D={...i,...P},$=t==="root"?I||f:I,B=xf(S,{...t==="root"&&!f&&!p[t]&&l,...t!=="root"&&!p[t]&&l,...x,...$&&{as:$},ref:M},D);return Object.keys(P).forEach(_=>{delete B[_]}),[S,B]}function rw(t){return Dt("MuiIconButton",t)}const iw=wt("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),sw=t=>{const{classes:e,disabled:n,color:r,edge:i,size:s}=t,a={root:["root",n&&"disabled",r!=="default"&&`color${De(r)}`,i&&`edge${De(i)}`,`size${De(s)}`]};return Bt(a,rw,e)},ow=He(Fl,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${De(n.color)}`],n.edge&&e[`edge${De(n.edge)}`],e[`size${De(n.size)}`]]}})(Qt(({theme:t})=>({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:yi(t.palette.action.active,t.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),Qt(({theme:t})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(xs()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),...Object.entries(t.palette).filter(xs()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":t.vars?`rgba(${(t.vars||t).palette[e].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:yi((t.vars||t).palette[e].main,t.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],[`&.${iw.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}}))),aw=R.forwardRef(function(e,n){const r=Nt({props:e,name:"MuiIconButton"}),{edge:i=!1,children:s,className:a,color:l="default",disabled:h=!1,disableFocusRipple:f=!1,size:p="medium",...y}=r,T={...r,edge:i,color:l,disabled:h,disableFocusRipple:f,size:p},S=sw(T);return V.jsx(ow,{className:fe(S.root,a),centerRipple:!0,focusRipple:!f,disabled:h,ref:n,...y,ownerState:T,children:s})});function lw(t){return Dt("MuiTypography",t)}wt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const cw={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},uw=KE(),hw=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:s,classes:a}=t,l={root:["root",s,t.align!=="inherit"&&`align${De(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return Bt(l,lw,a)},dw=He("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${De(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(Qt(({theme:t})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([n,r])=>n!=="inherit"&&r&&typeof r=="object").map(([n,r])=>({props:{variant:n},style:r})),...Object.entries(t.palette).filter(xs()).map(([n])=>({props:{color:n},style:{color:(t.vars||t).palette[n].main}})),...Object.entries(((e=t.palette)==null?void 0:e.text)||{}).filter(([,n])=>typeof n=="string").map(([n])=>({props:{color:`text${De(n)}`},style:{color:(t.vars||t).palette.text[n]}})),{props:({ownerState:n})=>n.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:n})=>n.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:n})=>n.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:n})=>n.paragraph,style:{marginBottom:16}}]}})),Ph={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},fw=R.forwardRef(function(e,n){const{color:r,...i}=Nt({props:e,name:"MuiTypography"}),s=!cw[r],a=uw({...i,...s&&{color:r}}),{align:l="inherit",className:h,component:f,gutterBottom:p=!1,noWrap:y=!1,paragraph:T=!1,variant:S="body1",variantMapping:C=Ph,...I}=a,x={...a,align:l,color:r,className:h,component:f,gutterBottom:p,noWrap:y,paragraph:T,variant:S,variantMapping:C},L=f||(T?"p":C[S]||Ph[S])||"span",M=hw(x);return V.jsx(dw,{as:L,ref:n,className:fe(M.root,h),...I,ownerState:x,style:{...l!=="inherit"&&{"--Typography-textAlign":l},...I.style}})});function pw(t){return typeof t=="function"?t():t}const mw=R.forwardRef(function(e,n){const{children:r,container:i,disablePortal:s=!1}=e,[a,l]=R.useState(null),h=an(R.isValidElement(r)?Nl(r):null,n);if(gi(()=>{s||l(pw(i)||document.body)},[i,s]),gi(()=>{if(a&&!s)return Ua(n,a),()=>{Ua(n,null)}},[n,a,s]),s){if(R.isValidElement(r)){const f={ref:h};return R.cloneElement(r,f)}return V.jsx(R.Fragment,{children:r})}return V.jsx(R.Fragment,{children:a&&yp.createPortal(r,a)})}),gw={entering:{opacity:1},entered:{opacity:1}},yw=R.forwardRef(function(e,n){const r=po(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:a=!0,children:l,easing:h,in:f,onEnter:p,onEntered:y,onEntering:T,onExit:S,onExited:C,onExiting:I,style:x,timeout:L=i,TransitionComponent:M=ln,...P}=e,D=R.useRef(null),$=an(D,Nl(l),n),B=F=>z=>{if(F){const H=D.current;z===void 0?F(H):F(H,z)}},_=B(T),v=B((F,z)=>{nw(F);const H=Rh({style:x,timeout:L,easing:h},{mode:"enter"});F.style.webkitTransition=r.transitions.create("opacity",H),F.style.transition=r.transitions.create("opacity",H),p&&p(F,z)}),E=B(y),c=B(I),m=B(F=>{const z=Rh({style:x,timeout:L,easing:h},{mode:"exit"});F.style.webkitTransition=r.transitions.create("opacity",z),F.style.transition=r.transitions.create("opacity",z),S&&S(F)}),w=B(C),b=F=>{s&&s(D.current,F)};return V.jsx(M,{appear:a,in:f,nodeRef:D,onEnter:v,onEntered:E,onEntering:_,onExit:m,onExited:w,onExiting:c,addEndListener:b,timeout:L,...P,children:(F,z)=>R.cloneElement(l,{style:{opacity:0,visibility:F==="exited"&&!f?"hidden":void 0,...gw[F],...x,...l.props.style},ref:$,...z})})});function vw(t){return Dt("MuiBackdrop",t)}wt("MuiBackdrop",["root","invisible"]);const _w=t=>{const{ownerState:e,...n}=t;return n},bw=t=>{const{classes:e,invisible:n}=t;return Bt({root:["root",n&&"invisible"]},vw,e)},Ew=He("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),zf=R.forwardRef(function(e,n){const r=Nt({props:e,name:"MuiBackdrop"}),{children:i,className:s,component:a="div",invisible:l=!1,open:h,components:f={},componentsProps:p={},slotProps:y={},slots:T={},TransitionComponent:S,transitionDuration:C,...I}=r,x={...r,component:a,invisible:l},L=bw(x),M={transition:S,root:f.Root,...T},P={...p,...y},D={slots:M,slotProps:P},[$,B]=Ds("root",{elementType:Ew,externalForwardedProps:D,className:fe(L.root,s),ownerState:x}),[_,v]=Ds("transition",{elementType:yw,externalForwardedProps:D,ownerState:x}),E=_w(v);return V.jsx(_,{in:h,timeout:C,...I,...E,children:V.jsx($,{"aria-hidden":!0,...B,classes:L,ref:n,children:i})})});function Tw(t){const e=Sn(t);return e.body===t?Tr(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function oi(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function kh(t){return parseInt(Tr(t).getComputedStyle(t).paddingRight,10)||0}function ww(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(t.tagName),r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function Dh(t,e,n,r,i){const s=[e,n,...r];[].forEach.call(t.children,a=>{const l=!s.includes(a),h=!ww(a);l&&h&&oi(a,i)})}function fa(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function Sw(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(Tw(r)){const a=nE(Tr(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${kh(r)+a}px`;const l=Sn(r).querySelectorAll(".mui-fixed");[].forEach.call(l,h=>{n.push({value:h.style.paddingRight,property:"padding-right",el:h}),h.style.paddingRight=`${kh(h)+a}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=Sn(r).body;else{const a=r.parentElement,l=Tr(r);s=(a==null?void 0:a.nodeName)==="HTML"&&l.getComputedStyle(a).overflowY==="scroll"?a:r}n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{n.forEach(({value:s,el:a,property:l})=>{s?a.style.setProperty(l,s):a.style.removeProperty(l)})}}function Cw(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class Iw{constructor(){this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&oi(e.modalRef,!1);const i=Cw(n);Dh(n,e.mount,e.modalRef,i,!0);const s=fa(this.containers,a=>a.container===n);return s!==-1?(this.containers[s].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=fa(this.containers,s=>s.modals.includes(e)),i=this.containers[r];i.restore||(i.restore=Sw(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=fa(this.containers,a=>a.modals.includes(e)),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&oi(e.modalRef,n),Dh(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const a=s.modals[s.modals.length-1];a.modalRef&&oi(a.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const Aw=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function xw(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function Rw(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function Pw(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||Rw(t))}function kw(t){const e=[],n=[];return Array.from(t.querySelectorAll(Aw)).forEach((r,i)=>{const s=xw(r);s===-1||!Pw(r)||(s===0?e.push(r):n.push({documentOrder:i,tabIndex:s,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function Dw(){return!0}function Nw(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=kw,isEnabled:a=Dw,open:l}=t,h=R.useRef(!1),f=R.useRef(null),p=R.useRef(null),y=R.useRef(null),T=R.useRef(null),S=R.useRef(!1),C=R.useRef(null),I=an(Nl(e),C),x=R.useRef(null);R.useEffect(()=>{!l||!C.current||(S.current=!n)},[n,l]),R.useEffect(()=>{if(!l||!C.current)return;const P=Sn(C.current);return C.current.contains(P.activeElement)||(C.current.hasAttribute("tabIndex")||C.current.setAttribute("tabIndex","-1"),S.current&&C.current.focus()),()=>{i||(y.current&&y.current.focus&&(h.current=!0,y.current.focus()),y.current=null)}},[l]),R.useEffect(()=>{if(!l||!C.current)return;const P=Sn(C.current),D=_=>{x.current=_,!(r||!a()||_.key!=="Tab")&&P.activeElement===C.current&&_.shiftKey&&(h.current=!0,p.current&&p.current.focus())},$=()=>{var E,c;const _=C.current;if(_===null)return;if(!P.hasFocus()||!a()||h.current){h.current=!1;return}if(_.contains(P.activeElement)||r&&P.activeElement!==f.current&&P.activeElement!==p.current)return;if(P.activeElement!==T.current)T.current=null;else if(T.current!==null)return;if(!S.current)return;let v=[];if((P.activeElement===f.current||P.activeElement===p.current)&&(v=s(C.current)),v.length>0){const m=!!((E=x.current)!=null&&E.shiftKey&&((c=x.current)==null?void 0:c.key)==="Tab"),w=v[0],b=v[v.length-1];typeof w!="string"&&typeof b!="string"&&(m?b.focus():w.focus())}else _.focus()};P.addEventListener("focusin",$),P.addEventListener("keydown",D,!0);const B=setInterval(()=>{P.activeElement&&P.activeElement.tagName==="BODY"&&$()},50);return()=>{clearInterval(B),P.removeEventListener("focusin",$),P.removeEventListener("keydown",D,!0)}},[n,r,i,a,l,s]);const L=P=>{y.current===null&&(y.current=P.relatedTarget),S.current=!0,T.current=P.target;const D=e.props.onFocus;D&&D(P)},M=P=>{y.current===null&&(y.current=P.relatedTarget),S.current=!0};return V.jsxs(R.Fragment,{children:[V.jsx("div",{tabIndex:l?0:-1,onFocus:M,ref:f,"data-testid":"sentinelStart"}),R.cloneElement(e,{ref:I,onFocus:L}),V.jsx("div",{tabIndex:l?0:-1,onFocus:M,ref:p,"data-testid":"sentinelEnd"})]})}function Vw(t){return typeof t=="function"?t():t}function Mw(t){return t?t.props.hasOwnProperty("in"):!1}const rs=new Iw;function Ow(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:i=!1,onTransitionEnter:s,onTransitionExited:a,children:l,onClose:h,open:f,rootRef:p}=t,y=R.useRef({}),T=R.useRef(null),S=R.useRef(null),C=an(S,p),[I,x]=R.useState(!f),L=Mw(l);let M=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(M=!1);const P=()=>Sn(T.current),D=()=>(y.current.modalRef=S.current,y.current.mount=T.current,y.current),$=()=>{rs.mount(D(),{disableScrollLock:r}),S.current&&(S.current.scrollTop=0)},B=nn(()=>{const z=Vw(e)||P().body;rs.add(D(),z),S.current&&$()}),_=()=>rs.isTopModal(D()),v=nn(z=>{T.current=z,z&&(f&&_()?$():S.current&&oi(S.current,M))}),E=R.useCallback(()=>{rs.remove(D(),M)},[M]);R.useEffect(()=>()=>{E()},[E]),R.useEffect(()=>{f?B():(!L||!i)&&E()},[f,E,L,i,B]);const c=z=>H=>{var Z;(Z=z.onKeyDown)==null||Z.call(z,H),!(H.key!=="Escape"||H.which===229||!_())&&(n||(H.stopPropagation(),h&&h(H,"escapeKeyDown")))},m=z=>H=>{var Z;(Z=z.onClick)==null||Z.call(z,H),H.target===H.currentTarget&&h&&h(H,"backdropClick")};return{getRootProps:(z={})=>{const H=Rf(t);delete H.onTransitionEnter,delete H.onTransitionExited;const Z={...H,...z};return{role:"presentation",...Z,onKeyDown:c(Z),ref:C}},getBackdropProps:(z={})=>{const H=z;return{"aria-hidden":!0,...H,onClick:m(H),open:f}},getTransitionProps:()=>{const z=()=>{x(!1),s&&s()},H=()=>{x(!0),a&&a(),i&&E()};return{onEnter:dh(z,l==null?void 0:l.props.onEnter),onExited:dh(H,l==null?void 0:l.props.onExited)}},rootRef:C,portalRef:v,isTopModal:_,exited:I,hasTransition:L}}function Lw(t){return Dt("MuiModal",t)}wt("MuiModal",["root","hidden","backdrop"]);const Bw=t=>{const{open:e,exited:n,classes:r}=t;return Bt({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},Lw,r)},Fw=He("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(Qt(({theme:t})=>({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),$w=He(zf,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),jw=R.forwardRef(function(e,n){const r=Nt({name:"MuiModal",props:e}),{BackdropComponent:i=$w,BackdropProps:s,classes:a,className:l,closeAfterTransition:h=!1,children:f,container:p,component:y,components:T={},componentsProps:S={},disableAutoFocus:C=!1,disableEnforceFocus:I=!1,disableEscapeKeyDown:x=!1,disablePortal:L=!1,disableRestoreFocus:M=!1,disableScrollLock:P=!1,hideBackdrop:D=!1,keepMounted:$=!1,onBackdropClick:B,onClose:_,onTransitionEnter:v,onTransitionExited:E,open:c,slotProps:m={},slots:w={},theme:b,...F}=r,z={...r,closeAfterTransition:h,disableAutoFocus:C,disableEnforceFocus:I,disableEscapeKeyDown:x,disablePortal:L,disableRestoreFocus:M,disableScrollLock:P,hideBackdrop:D,keepMounted:$},{getRootProps:H,getBackdropProps:Z,getTransitionProps:te,portalRef:ye,isTopModal:Me,exited:me,hasTransition:Se}=Ow({...z,rootRef:n}),ce={...z,exited:me},se=Bw(ce),je={};if(f.props.tabIndex===void 0&&(je.tabIndex="-1"),Se){const{onEnter:Fe,onExited:Ge}=te();je.onEnter=Fe,je.onExited=Ge}const Be={...F,slots:{root:T.Root,backdrop:T.Backdrop,...w},slotProps:{...S,...m}},[Ke,Mt]=Ds("root",{elementType:Fw,externalForwardedProps:Be,getSlotProps:H,additionalProps:{ref:n,as:y},ownerState:ce,className:fe(l,se==null?void 0:se.root,!ce.open&&ce.exited&&(se==null?void 0:se.hidden))}),[Ft,ct]=Ds("backdrop",{elementType:i,externalForwardedProps:Be,additionalProps:s,getSlotProps:Fe=>Z({...Fe,onClick:Ge=>{B&&B(Ge),Fe!=null&&Fe.onClick&&Fe.onClick(Ge)}}),className:fe(s==null?void 0:s.className,se==null?void 0:se.backdrop),ownerState:ce}),St=an(s==null?void 0:s.ref,ct.ref);return!$&&!c&&(!Se||me)?null:V.jsx(mw,{ref:ye,container:p,disablePortal:L,children:V.jsxs(Ke,{...Mt,children:[!D&&i?V.jsx(Ft,{...ct,ref:St}):null,V.jsx(Nw,{disableEnforceFocus:I,disableAutoFocus:C,disableRestoreFocus:M,isEnabled:Me,open:c,children:R.cloneElement(f,je)})]})})}),Uw=Co(V.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),zw=Co(V.jsx("path",{d:"M7 14H5v5h5v-2H7zm-2-4h2V7h3V5H5zm12 7h-3v2h5v-5h-2zM14 5v2h3v3h2V5z"}),"Fullscreen"),qw=({ImgSertif:t})=>{const[e,n]=R.useState(!1),r=()=>{n(!0)},i=()=>{n(!1)};return V.jsxs(fn,{component:"div",sx:{width:"100%"},children:[V.jsxs(fn,{className:"",sx:{position:"relative",overflow:"hidden",borderRadius:2,boxShadow:"0 8px 16px rgba(0,0,0,0.1)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{transform:"translateY(-5px)",boxShadow:"0 12px 24px rgba(0,0,0,0.2)","& .overlay":{opacity:1},"& .hover-content":{transform:"translate(-50%, -50%)",opacity:1},"& .certificate-image":{filter:"contrast(1.05) brightness(1) saturate(1.1)"}}},children:[V.jsx(fn,{sx:{position:"relative","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.1)",zIndex:1}},children:V.jsx("img",{className:"certificate-image",src:t,alt:"Certificate",style:{width:"100%",height:"auto",display:"block",objectFit:"cover",filter:"contrast(1.10) brightness(0.9) saturate(1.1)",transition:"filter 0.3s ease"},onClick:r})}),V.jsx(fn,{className:"overlay",sx:{position:"absolute",top:0,left:0,right:0,bottom:0,opacity:0,transition:"all 0.3s ease",cursor:"pointer",zIndex:2},onClick:r,children:V.jsxs(fn,{className:"hover-content",sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -60%)",opacity:0,transition:"all 0.4s ease",textAlign:"center",width:"100%",color:"white"},children:[V.jsx(zw,{sx:{fontSize:40,mb:1,filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.2))"}}),V.jsx(fw,{variant:"h6",sx:{fontWeight:600,textShadow:"0 2px 4px rgba(0,0,0,0.3)"},children:"View Certificate"})]})})]}),V.jsx(jw,{open:e,onClose:i,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",BackdropComponent:zf,BackdropProps:{timeout:300,sx:{backgroundColor:"rgba(0, 0, 0, 0.9)",backdropFilter:"blur(5px)"}},sx:{display:"flex",alignItems:"center",justifyContent:"center",margin:0,padding:0,"& .MuiBackdrop-root":{backgroundColor:"rgba(0, 0, 0, 0.9)"}},children:V.jsxs(fn,{sx:{position:"relative",width:"auto",maxWidth:"90vw",maxHeight:"90vh",m:0,p:0,outline:"none","&:focus":{outline:"none"}},children:[V.jsx(aw,{onClick:i,sx:{position:"absolute",right:16,top:16,color:"white",bgcolor:"rgba(0,0,0,0.6)",zIndex:1,padding:1,"&:hover":{bgcolor:"rgba(0,0,0,0.8)",transform:"scale(1.1)"}},size:"large",children:V.jsx(Uw,{sx:{fontSize:24}})}),V.jsx("img",{src:t,alt:"Certificate Full View",style:{display:"block",maxWidth:"100%",maxHeight:"90vh",margin:"0 auto",objectFit:"contain"}})]})})]})},Nh=({onClick:t,isShowingMore:e})=>V.jsxs("button",{onClick:t,className:"group px-3 py-1.5 text-slate-300 hover:text-white text-sm font-medium transition-all duration-300 flex items-center gap-2 bg-white/5 hover:bg-white/10 rounded-md border border-white/10 hover:border-white/20 backdrop-blur-sm overflow-hidden",children:[V.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[e?"See Less":"See More",V.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:`transition-transform duration-300 ${e?"-translate-y-0.5":"translate-y-0.5"} group-hover:translate-y-0`,children:V.jsx("polyline",{points:e?"18 15 12 9 6 15":"6 9 12 15 18 9"})})]}),V.jsx("span",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-green-400/50 transition-all duration-300 group-hover:w-full"})]}),pa=({children:t,value:e,index:n,dir:r,...i})=>V.jsx("div",{role:"tabpanel",hidden:e!==n,id:`full-width-tabpanel-${n}`,"aria-labelledby":`full-width-tab-${n}`,dir:r,...i,children:e===n&&V.jsx(fn,{sx:{p:{xs:1,sm:3}},children:t})}),Ww=[{icon:"html.svg",language:"HTML"},{icon:"css.svg",language:"CSS"},{icon:"java.svg",language:"Java"},{icon:"typescript.svg",language:"TypeScript"},{icon:"tailwind.svg",language:"Tailwind CSS"},{icon:"lua.svg",language:"Lua"},{icon:"csharp.svg",language:"C#"},{icon:"cplusplus.svg",language:"C++"},{icon:"reactjs.svg",language:"ReactJS"},{icon:"vite.svg",language:"Vite"},{icon:"firebase.svg",language:"Firebase"},{icon:"mui.svg",language:"Material UI"},{icon:"nodejs.svg",language:"NodeJS"},{icon:"appsscript.svg",language:"Apps Script"}],eS=()=>{const t=po(),n=Kb(t.breakpoints.down("md"))?4:6,[r,i]=R.useState(0),[s,a]=R.useState([]),[l,h]=R.useState([]),[f,p]=R.useState(!1),[y,T]=R.useState(!1);R.useEffect(()=>{_p.init({duration:800,once:!1})},[]);const S=R.useCallback(async()=>{try{const M=Su(xu,"projects"),P=Su(xu,"certificates"),[D,$]=await Promise.all([Au(M),Au(P)]),B=D.docs.map(v=>({id:v.id,...v.data(),TechStack:v.data().TechStack||[]})),_=$.docs.map(v=>({id:v.id,...v.data()}));a(B),h(_),localStorage.setItem("projects",JSON.stringify(B)),localStorage.setItem("certificates",JSON.stringify(_))}catch(M){console.error("Error fetching data:",M)}},[]);R.useEffect(()=>{S()},[S]);const C=(M,P)=>{i(P)},I=M=>{M==="projects"?p(P=>!P):T(P=>!P)},x=f?s:s.slice(0,n),L=y?l:l.slice(0,n);return V.jsxs("section",{className:"md:px-10 px-5 w-full mt-12 overflow-hidden",id:"Portfolio",children:[V.jsxs("div",{className:"text-center pb-10","data-aos":"fade-up",children:[V.jsx("h2",{className:"text-3xl md:text-5xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-teal-400",children:"Portfolio Showcase"}),V.jsx("p",{className:"text-slate-400 max-w-2xl mx-auto text-base mt-2",children:"Discover my projects, certifications, and technical expertise in Full-Stack development."})]}),V.jsxs(fn,{sx:{width:"100%"},children:[V.jsx(rT,{position:"static",elevation:0,sx:{bgcolor:"transparent",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"20px"},children:V.jsxs(GT,{value:r,onChange:C,textColor:"secondary",indicatorColor:"secondary",variant:"fullWidth",sx:{minHeight:70,"& .MuiTab-root":{fontSize:{xs:"0.9rem",md:"1rem"},fontWeight:600,color:"#94a3b8",textTransform:"none",transition:"all 0.4s",padding:"20px 0",zIndex:1,margin:1,borderRadius:"12px","&:hover":{color:"#fff",backgroundColor:"rgba(34,197,94,0.1)",transform:"translateY(-2px)"},"&.Mui-selected":{color:"#fff",background:"linear-gradient(135deg, rgba(34,197,94,0.2), rgba(14,165,233,0.2))",boxShadow:"0 4px 15px -3px rgba(34,197,94,0.2)"}},"& .MuiTabs-indicator":{height:0},"& .MuiTabs-flexContainer":{gap:1}},children:[V.jsx(da,{icon:V.jsx(bp,{className:"mb-2 w-5 h-5"}),label:"Projects"}),V.jsx(da,{icon:V.jsx(Ep,{className:"mb-2 w-5 h-5"}),label:"Certificates"}),V.jsx(da,{icon:V.jsx(wp,{className:"mb-2 w-5 h-5"}),label:"Tech Stack"})]})}),V.jsxs(Sv,{index:r,onChangeIndex:i,axis:t.direction==="rtl"?"x-reverse":"x",children:[V.jsxs(pa,{value:r,index:0,dir:t.direction,children:[V.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5",children:x.map((M,P)=>V.jsx("div",{"data-aos":P%3===0?"fade-up-right":P%3===1?"fade-up":"fade-up-left","data-aos-duration":1e3+P%3*200,children:V.jsx(ew,{Img:"",Title:"",Description:"",...M})},M.id))}),s.length>n&&V.jsx("div",{className:"mt-6",children:V.jsx(Nh,{onClick:()=>I("projects"),isShowingMore:f})})]}),V.jsxs(pa,{value:r,index:1,dir:t.direction,children:[V.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-5",children:L.map((M,P)=>V.jsx("div",{"data-aos":P%3===0?"fade-up-right":P%3===1?"fade-up":"fade-up-left","data-aos-duration":1e3+P%3*200,children:V.jsx(qw,{ImgSertif:M.Img})},M.id))}),l.length>n&&V.jsx("div",{className:"mt-6",children:V.jsx(Nh,{onClick:()=>I("certificates"),isShowingMore:y})})]}),V.jsx(pa,{value:r,index:2,dir:t.direction,children:V.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-5",children:Ww.map((M,P)=>V.jsx("div",{"data-aos":P%3===0?"fade-up-right":P%3===1?"fade-up":"fade-up-left","data-aos-duration":1e3+P%3*200,children:V.jsx(tw,{TechStackIcon:M.icon,Language:M.language})},M.language))})})]})]})]})};export{eS as default};
